{"meta":{"title":"lwyçš„åšå®¢","subtitle":"æ¬¢è¿å¤§å®¶ä¸æˆ‘äº¤æµ","description":"èŒ«èŒ«äººæµ·ï¼Œæ€»ä¼šä¸ä½ ç›¸é‡","author":"lwy","url":"https://lwy0518.github.io","root":"/"},"pages":[{"title":"404","date":"2021-12-06T07:38:28.000Z","updated":"2021-12-06T07:39:37.088Z","comments":true,"path":"404/index.html","permalink":"https://lwy0518.github.io/404/index.html","excerpt":"","text":"title: â€˜404â€™permalink: /404date: 2020-10-16 15:19:35comments: falselayout: false ---"},{"title":"book","date":"2021-12-07T11:10:56.000Z","updated":"2021-12-07T11:10:56.396Z","comments":true,"path":"book/index.html","permalink":"https://lwy0518.github.io/book/index.html","excerpt":"","text":""},{"title":"categories","date":"2021-12-06T12:13:37.000Z","updated":"2021-12-06T12:14:34.617Z","comments":true,"path":"categories/index.html","permalink":"https://lwy0518.github.io/categories/index.html","excerpt":"","text":""},{"title":"ç•™è¨€æ¿","date":"2021-12-07T06:33:36.000Z","updated":"2021-12-08T07:21:43.539Z","comments":true,"path":"guestbook/index.html","permalink":"https://lwy0518.github.io/guestbook/index.html","excerpt":"","text":"æ¬¢è¿æ¥åˆ°æˆ‘çš„åšå®¢ï¼ æ¬¢è¿åœ¨è¿™é‡Œç•™è¨€ï¼ä»»ä½•é—®é¢˜éƒ½å¯ä»¥åœ¨è¿™é‡Œç•™è¨€ï¼Œæˆ‘ä¼šåŠæ—¶å›å¤çš„ï¼Œæ·»åŠ QQæˆ–å¾®ä¿¡å¯ä»¥è·å¾—æ›´å¿«çš„å›å¤é€Ÿåº¦ï¼Œåœ¨ä¾§è¾¹æ æ‰«æäºŒç»´ç å³å¯ã€‚"},{"title":"ä¸æˆ‘ç›¸å…³","date":"2021-12-07T02:15:02.000Z","updated":"2021-12-22T03:33:24.416Z","comments":true,"path":"about/index.html","permalink":"https://lwy0518.github.io/about/index.html","excerpt":"","text":"ğŸ åŸºæœ¬ä¿¡æ¯ å§“åï¼šææ–‡è¿œ æ€§åˆ«ï¼šç”· çˆ±å¥½ï¼šæ‰“ä¹’ä¹“çƒã€å¬æ­Œ â€¦ â€¦ âœ”æŠ€èƒ½ java SQL â“ äº†è§£æˆ‘ Githubï¼šhttps://github.com/lwy0518 QQï¼š1024325635 WeChatï¼š15946947900 çŸ¥ä¹ï¼š https://www.zhihu.com/people/nan-cheng-ni-liu-86-1 ğŸ«æ•™è‚²ç»å† 2020.9 - è‡³ä»Š ï¼š åå—å¸ˆèŒƒå¤§å­¦ 2016.9 - 2020.7 ï¼š æ±Ÿè¥¿ç†å·¥å¤§å­¦ 2013.9 - 2016.7 ï¼šä¸´å·ä¸€ä¸­ 2010.9 - 2013.7 ï¼š å¤§å²—ä¸­å­¦ â€¦ â€¦"},{"title":"Metaverseï¼ˆå…ƒå®‡å®™ï¼‰","date":"2021-12-07T09:22:30.000Z","updated":"2021-12-07T11:32:55.974Z","comments":true,"path":"top/index.html","permalink":"https://lwy0518.github.io/top/index.html","excerpt":"","text":"å…ƒå®‡å®™"},{"title":"tools","date":"2021-12-07T10:51:44.000Z","updated":"2021-12-11T05:05:21.038Z","comments":true,"path":"tools/index.html","permalink":"https://lwy0518.github.io/tools/index.html","excerpt":"","text":"latex åœ¨çº¿è¡¨æ ¼ç”Ÿæˆå™¨ latex åœ¨çº¿å…¬å¼ç”Ÿæˆå™¨ markdown åœ¨çº¿ç¼–è¾‘ æŠ½è±¡è¯­æ³•æ ‘åœ¨çº¿ç”Ÿæˆ é˜¿é‡Œäº‘åŠ é€Ÿ ReadPaper"},{"title":"tags","date":"2021-12-06T12:14:59.000Z","updated":"2021-12-06T12:15:17.173Z","comments":true,"path":"tags/index.html","permalink":"https://lwy0518.github.io/tags/index.html","excerpt":"","text":""}],"posts":[{"title":"ååºä»‹ç»","slug":"ååºä»‹ç»","date":"2021-12-27T13:21:29.000Z","updated":"2021-12-30T02:20:47.838Z","comments":true,"path":"2021/12/27/ååºä»‹ç»/","link":"","permalink":"https://lwy0518.github.io/2021/12/27/%E5%81%8F%E5%BA%8F%E4%BB%8B%E7%BB%8D/","excerpt":"ååºä»‹ç» ååº å…¨åº ååºä¸å…¨åºåŒºåˆ« Latticeï¼ˆæ ¼ï¼‰ Latticeï¼ˆæ ¼ï¼‰ Semilatticeï¼ˆåŠæ ¼ï¼‰ Complete Latticeï¼ˆå…¨æ ¼ï¼‰ Product Latticeï¼ˆä¹˜ç§¯æ ¼ï¼‰ ä¸Šç•Œä¸ä¸‹ç•Œ","text":"ååºä»‹ç» ååº å…¨åº ååºä¸å…¨åºåŒºåˆ« Latticeï¼ˆæ ¼ï¼‰ Latticeï¼ˆæ ¼ï¼‰ Semilatticeï¼ˆåŠæ ¼ï¼‰ Complete Latticeï¼ˆå…¨æ ¼ï¼‰ Product Latticeï¼ˆä¹˜ç§¯æ ¼ï¼‰ ä¸Šç•Œä¸ä¸‹ç•Œ ååº å‚è€ƒé“¾æ¥ å…¨åºä¸ååº ååº å®šä¹‰ Partiallyordered setï¼Œç®€å†™poset è®¾Ræ˜¯é›†åˆAä¸Šçš„ä¸€ä¸ªäºŒå…ƒå…³ç³»ï¼Œè‹¥Ræ»¡è¶³ï¼š â…  è‡ªåæ€§ï¼šå¯¹ä»»æ„xâˆˆAï¼Œæœ‰xRxï¼› â…¡ åå¯¹ç§°æ€§ï¼ˆå³åå¯¹ç§°å…³ç³»ï¼‰ï¼šå¯¹ä»»æ„x,yâˆˆAï¼Œè‹¥xRyï¼Œä¸”yRxï¼Œåˆ™x=yï¼› â…¢ ä¼ é€’æ€§ï¼šå¯¹ä»»æ„x, y,zâˆˆAï¼Œè‹¥xRyï¼Œä¸”yRzï¼Œåˆ™xRzã€‚ åˆ™ç§°Rä¸ºAä¸Šçš„ååºå…³ç³»ï¼Œé€šå¸¸è®°ä½œâ‰¼ã€‚æ³¨æ„è¿™é‡Œçš„â‰¼ä¸å¿…æ˜¯æŒ‡ä¸€èˆ¬æ„ä¹‰ä¸Šçš„â€œå°äºæˆ–ç­‰äºâ€ã€‚ è‹¥ç„¶æœ‰xâ‰¼yï¼Œæˆ‘ä»¬ä¹Ÿè¯´xæ’åœ¨yå‰é¢ï¼ˆx precedes yï¼‰ã€‚ åˆ†ç±» ä¸¥æ ¼ååºï¼Œåè‡ªåååº ç»™å®šé›†åˆSï¼Œâ€œ&lt;â€æ˜¯Sä¸Šçš„äºŒå…ƒå…³ç³»ï¼Œè‹¥â€œ&lt;â€æ»¡è¶³ï¼š åè‡ªåæ€§ï¼šâˆ€aâˆˆSï¼Œæœ‰aâ‰®aï¼› éå¯¹ç§°æ€§ï¼šâˆ€aï¼ŒbâˆˆSï¼Œa&lt;b â‡’ bâ‰®aï¼› ä¼ é€’æ€§ï¼šâˆ€aï¼Œbï¼ŒcâˆˆSï¼Œa&lt;bä¸”b&lt;cï¼Œåˆ™a&lt;cï¼› åˆ™ç§°â€œ&lt;â€æ˜¯Sä¸Šçš„ä¸¥æ ¼ååºæˆ–åè‡ªåååº ä¸¥æ ¼ååºä¸æœ‰å‘æ— ç¯å›¾ï¼ˆdagï¼‰æœ‰ç›´æ¥çš„å¯¹åº”å…³ç³»ã€‚ä¸€ä¸ªé›†åˆä¸Šçš„ä¸¥æ ¼ååºçš„å…³ç³»å›¾å°±æ˜¯ä¸€ä¸ªæœ‰å‘æ— ç¯å›¾ã€‚å…¶ä¼ é€’é—­åŒ…æ˜¯å®ƒè‡ªå·± éä¸¥æ ¼ååºï¼Œè‡ªåååº ç»™å®šé›†åˆSï¼Œâ€œâ‰¤â€æ˜¯Sä¸Šçš„äºŒå…ƒå…³ç³»ï¼Œè‹¥â€œâ‰¤â€æ»¡è¶³ï¼š è‡ªåæ€§ï¼šâˆ€aâˆˆSï¼Œæœ‰aâ‰¤aï¼› åå¯¹ç§°æ€§ï¼šâˆ€aï¼ŒbâˆˆSï¼Œaâ‰¤bä¸”bâ‰¤aï¼Œåˆ™a=bï¼› ä¼ é€’æ€§ï¼šâˆ€aï¼Œbï¼ŒcâˆˆSï¼Œaâ‰¤bä¸”bâ‰¤cï¼Œåˆ™aâ‰¤cï¼› åˆ™ç§°â€œâ‰¤â€æ˜¯Sä¸Šçš„éä¸¥æ ¼ååºæˆ–è‡ªåååºã€‚ ä¾‹å­ å‡è®¾æœ‰ A={1,2,3,4}ï¼Œå‡è®¾Ræ˜¯é›†åˆAä¸Šçš„å…³ç³»ï¼š{&lt;1,1&gt;,&lt;2,2&gt;,&lt;3,3&gt;,&lt;4,4&gt;,&lt;1,2&gt;,&lt;1,4&gt;,&lt;2,4&gt;,&lt;3,4&gt;}ï¼Œé‚£ä¹ˆï¼š è‡ªåæ€§ï¼šå¯ä»¥çœ‹åˆ° &lt;1,1&gt;,&lt;2,2&gt;,&lt;3,3&gt;,&lt;4,4&gt; éƒ½åœ¨Rä¸­ï¼Œæ»¡è¶³ã€‚ åå¯¹ç§°æ€§ï¼šç”±äº &lt;1,1&gt;,&lt;2,2&gt;,&lt;3,3&gt;,&lt;4,4&gt; ä¸å±äº x !=y ï¼Œæ‰€ä»¥ä¸è€ƒè™‘è¿™4ç§ï¼Œå¯¹äº &lt;1,2&gt;ï¼Œæœ‰ &lt;2,1&gt; ä¸åœ¨Rä¸­ï¼›å¯¹äº&lt;2,4&gt; æœ‰&lt;4,2&gt;ä¸åœ¨Rä¸­ï¼›å¯¹äº&lt;3,4&gt; æœ‰&lt;4,3&gt; ä¸åœ¨ Rä¸­ï¼Œæ»¡è¶³ã€‚ ä¼ é€’æ€§ï¼š&lt;1,1&gt;&lt;1,2&gt;åœ¨Rä¸­ï¼Œå¹¶ä¸”&lt;1,2&gt;åœ¨Rä¸­ï¼›&lt;1,1&gt;&lt;1,4&gt;åœ¨Rä¸­ï¼Œå¹¶ä¸”&lt;1,4&gt;åœ¨Rä¸­ï¼›&lt;2,2&gt;&lt;2,4&gt;åœ¨Rä¸­ï¼Œå¹¶ä¸”&lt;2,4&gt;åœ¨Rä¸­ï¼›&lt;3,3&gt;&lt;3,4&gt;åœ¨Rä¸­ï¼Œå¹¶ä¸”&lt;3,4&gt;åœ¨Rä¸­ï¼›ç­‰ç­‰å…¶ä»–ï¼Œæ»¡è¶³ã€‚ æ‰€ä»¥è¯´Ræ˜¯ååºå…³ç³»ã€‚ å…¨åº å®šä¹‰ å¦‚æœRæ˜¯Aä¸Šçš„ååºå…³ç³»ï¼Œé‚£ä¹ˆå¯¹äºä»»æ„çš„Aé›†åˆä¸Šçš„ x,yï¼Œéƒ½æœ‰ x &lt;= yï¼Œæˆ–è€… y &lt;= xï¼ŒäºŒè€…å¿…å±…å…¶ä¸€ï¼Œé‚£ä¹ˆåˆ™ç§°Ræ˜¯Aä¸Šçš„å…¨åºå…³ç³» è®¾é›†åˆXä¸Šæœ‰ä¸€å…¨åºå…³ç³»ï¼Œå¦‚æœæˆ‘ä»¬æŠŠè¿™ç§å…³ç³»ç”¨ â‰¤ è¡¨è¿°ï¼Œåˆ™ä¸‹åˆ—é™ˆè¿°å¯¹äº X ä¸­çš„æ‰€æœ‰ a, b å’Œ c æˆç«‹ï¼š å¦‚æœ a â‰¤ b ä¸” b â‰¤ a åˆ™ a = b (åå¯¹ç§°æ€§) å¦‚æœ a â‰¤ b ä¸” b â‰¤ c åˆ™ a â‰¤ c (ä¼ é€’æ€§) a â‰¤ b æˆ– b â‰¤ a (å®Œå…¨æ€§) ä¾‹å­ å‡è®¾æœ‰ A={a,b,c}ï¼Œå‡è®¾Ræ˜¯é›†åˆAä¸Šçš„å…³ç³»ï¼š{&lt;a,a&gt;,&lt;b,b&gt;,&lt;c,c&gt;,&lt;a,b&gt;,&lt;a,c&gt;,&lt;b,c&gt;}å’Œä¸Šè¿°ä¸€æ ·ï¼Œå¯ä»¥è¯æ˜å…·æœ‰è‡ªåæ€§ï¼Œåå¯¹ç§°æ€§ï¼Œä¼ é€’æ€§ï¼Œæ‰€ä»¥æ˜¯ååºçš„ï¼Œæœ‰å› ä¸ºæœ‰ &lt;a,b&gt;,&lt;a,c&gt;,&lt;b,c&gt;ï¼Œ ä¹Ÿå°±æ˜¯è¯´ä¸¤ä¸¤å…³ç³»éƒ½æœ‰äº†ï¼Œæ‰€ä»¥æ»¡è¶³å¯¹äºä»»æ„çš„Aé›†åˆä¸Šçš„ x,yï¼Œéƒ½æœ‰ x &lt;= yï¼Œæˆ–è€… y &lt;= xï¼ŒäºŒè€…å¿…å±…å…¶ä¸€ï¼Œæ‰€ä»¥è¯´æ˜¯å…¨åºå…³ç³» åŒºåˆ« ååºé›†åˆï¼šé…å¤‡äº†ååºå…³ç³»çš„é›†åˆã€‚ ååºï¼šåªå¯¹éƒ¨åˆ†è¦å…ƒç´ æˆç«‹å…³ç³»ï¼ˆéƒ¨åˆ†å¯æ¯”ï¼‰ é›†åˆå†…åªæœ‰éƒ¨åˆ†å…ƒç´ ä¹‹é—´åœ¨è¿™ä¸ªå…³ç³»ä¸‹æ˜¯å¯ä»¥æ¯”è¾ƒçš„ã€‚ æ¯”å¦‚ï¼šæ¯”å¦‚å¤æ•°é›†ä¸­å¹¶ä¸æ˜¯æ‰€æœ‰çš„æ•°éƒ½å¯ä»¥æ¯”è¾ƒå¤§å°ï¼Œé‚£ä¹ˆâ€œå¤§å°â€å°±æ˜¯å¤æ•°é›†çš„ä¸€ä¸ªååºå…³ç³» å…¨åºé›†åˆï¼šé…å¤‡äº†å…¨åºå…³ç³»çš„é›†åˆã€‚ å…¨åºï¼šå¯¹é›†åˆä¸­ä»»æ„ä¸¤ä¸ªå…ƒç´ éƒ½æœ‰å…³ç³» é›†åˆå†…ä»»ä½•ä¸€å¯¹å…ƒç´ åœ¨åœ¨è¿™ä¸ªå…³ç³»ä¸‹éƒ½æ˜¯ç›¸äº’å¯æ¯”è¾ƒçš„ã€‚ æ¯”å¦‚ï¼šæœ‰é™é•¿åº¦çš„åºåˆ—æŒ‰å­—å…¸åºæ˜¯å…¨åºçš„ã€‚æœ€å¸¸è§çš„æ˜¯å•è¯åœ¨å­—å…¸ä¸­æ˜¯å…¨åºçš„ ä¾‹å­ é›†åˆçš„åŒ…å«å…³ç³»æ˜¯ä¸€ç§ååºã€‚ åœ¨æ­£æ•´æ•°é›†ä¸­å®šä¹‰ååºï¼šè‹¥aèƒ½æ•´é™¤bï¼Œæˆ‘ä»¬å°±è®°ä¸ºaâ‰ºb æ˜¾ç„¶å®ƒæ»¡è¶³åºå…¬ç†ã€‚ä½†æ•´æ•°é›†ä¸­ï¼Œä¸æ˜¯ä»»ä½•ä¸¤ä¸ªæ•°éƒ½å­˜åœ¨æ•´é™¤å…³ç³»ï¼Œè¿™ä¸ªå…³ç³»æ˜¯å±€éƒ¨çš„ï¼ˆpartialï¼‰ï¼Œå¤ªâ€œåé¢‡â€ï¼Œäºæ˜¯è¢«ç§°ä¸ºååº Lattice å‚è€ƒé“¾æ¥ æ ¼ Latticeï¼ˆæ ¼ï¼‰ å®šä¹‰ å¦‚æœä¸€ä¸ªååºé›†çš„ä»»æ„ä¸¤ä¸ªå…ƒç´ éƒ½æœ‰æœ€å°ä¸Šç•Œå’Œæœ€å¤§ä¸‹ç•Œï¼Œé‚£ä¹ˆè¿™ä¸€ååºé›†æ˜¯ä¸€ä¸ªæ ¼ Semilatticeï¼ˆåŠæ ¼ï¼‰ å®šä¹‰ æœ€å°ä¸Šç•Œå’Œæœ€å¤§ä¸‹ç•Œåªå­˜åœ¨ä¸€ä¸ªçš„ååºé›†ç§°åŠæ ¼ï¼Œåªå­˜åœ¨æœ€å°ä¸Šç•Œç§°ä¸ºâ€œjoin semilatticeâ€ï¼Œåªå­˜åœ¨æœ€å¤§ä¸‹ç•Œç§°ä¸ºâ€œmeet semilatticeâ€ Complete Latticeï¼ˆå…¨æ ¼ï¼‰ å®šä¹‰ ä¸€ä¸ªååºé›†çš„ä»»æ„å­é›†å‡å­˜åœ¨æœ€å°ä¸Šç•Œå’Œæœ€å¤§ä¸‹ç•Œï¼Œé‚£ä¹ˆè¿™ä¸ªååºé›†æˆä¸ºå…¨æ ¼ ç‰¹ç‚¹ æ¯ä¸ªå…¨æ ¼éƒ½å­˜åœ¨ä¸€ä¸ªæœ€å¤§å…ƒç´  topï¼ˆâŠ¤=âŠ”Pï¼‰å’Œæœ€å°å…ƒç´ bottomï¼ˆâŠ¥=âŠ“Pï¼‰ æ‰€æœ‰å…ƒç´ æœ‰é™çš„æ ¼ï¼ˆfinite latticeï¼‰å‡æ˜¯å…¨æ ¼ã€‚ï¼ˆåä¹‹ä¸æˆç«‹ï¼‰ Product Latticeï¼ˆä¹˜ç§¯æ ¼ï¼‰ ç»™å®šnä¸ªlatticeï¼ŒL1 = (P1, âŠ‘1), L2 = (P2, âŠ‘2), â€¦, Ln = (Pn, âŠ‘n)ï¼Œå¦‚æœæ¯ä¸ªlatticeéƒ½æœ‰å¯¹åº”çš„âŠ”i(æœ€å°ä¸Šç•Œ)å’ŒâŠ“i(æœ€å¤§ä¸‹ç•Œ)ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¾—åˆ°ä¸€ä¸ªProduct Lattice Ln = (P, âŠ‘)å¹¶æœ‰ä»¥ä¸‹å››ä¸ªå®šä¹‰ï¼š 1.P = P1 Ã— â€¦ Ã— Pn 2.(x1, â€¦, xn) âŠ‘ (y1, â€¦, yn) âŸº (x1 âŠ‘ y1) âˆ§ â€¦ âˆ§ (xn âŠ‘ yn) 3.(x1, â€¦, xn) âŠ” (y1, â€¦, yn) = (x1 âŠ”1 y1, â€¦, xn âŠ”n yn) 4.(x1, â€¦, xn) âŠ“ (y1, â€¦, yn) = (x1 âŠ“1 y1, â€¦, xn âŠ“n yn) Product Latticeä»æ˜¯Latticeï¼Œè‹¥æ¯ä¸ªå­æ ¼ä¸ºå…¨æ ¼ï¼Œé‚£ä¹ˆä¹˜ç§¯ä¹Ÿæ˜¯å…¨æ ¼ ä¸Šç•Œä¸ä¸‹ç•Œ å‰æ ç»™å®šååºé›†(P, âŠ‘)åŠå…¶å­é›†Sï¼Œæ»¡è¶³S âŠ† Pï¼Œåˆ™æœ‰ï¼š ä¸Šç•Œï¼ˆä¸å”¯ä¸€ï¼‰ è‹¥âˆ€x âˆˆ S, x âŠ‘ u,é‚£ä¹ˆu âˆˆ Pæ˜¯å­é›†Sçš„ä¸Šç•Œ ä¸‹ç•Œï¼ˆä¸å”¯ä¸€ï¼‰ è‹¥âˆ€x âˆˆ S, l âŠ‘ x,é‚£ä¹ˆl âˆˆ Pæ˜¯å­é›†Sçš„ä¸‹ç•Œ æœ€å°ä¸Šç•ŒâŠ”S(lub) æœ€å¤§ä¸‹ç•ŒâŠ“S(glb) ç‰¹ç‚¹ ä¸æ˜¯æ¯ä¸ªååºéƒ½æœ‰lubå’Œglb ä½†æ˜¯å¦‚æœä¸€ä¸ªååºæœ‰lubå’Œglbï¼Œé‚£ä¹ˆå®ƒå°±æ˜¯å”¯ä¸€çš„","categories":[{"name":"ååº","slug":"ååº","permalink":"https://lwy0518.github.io/categories/%E5%81%8F%E5%BA%8F/"}],"tags":[{"name":"ååº","slug":"ååº","permalink":"https://lwy0518.github.io/tags/%E5%81%8F%E5%BA%8F/"},{"name":"Lattice","slug":"Lattice","permalink":"https://lwy0518.github.io/tags/Lattice/"}],"author":"lwy"},{"title":"gccä¸­çš„SSAåŒ–ç®—æ³•","slug":"gccä¸­çš„SSAç®—æ³•","date":"2021-12-26T07:44:24.000Z","updated":"2021-12-27T02:35:49.633Z","comments":true,"path":"2021/12/26/gccä¸­çš„SSAç®—æ³•/","link":"","permalink":"https://lwy0518.github.io/2021/12/26/gcc%E4%B8%AD%E7%9A%84SSA%E7%AE%97%E6%B3%95/","excerpt":"SSAåŒ–ç®—æ³•è¿‡ç¨‹ gccä¸­SSAåŒ–çš„ç®—æ³•æè¿° è®¡ç®—å½“å‰å‡½æ•°çš„æ”¯é…ç»“ç‚¹è¾¹ç•Œ éå†å¹¶è®°å½•å‡½æ•°æ¯æ¡æŒ‡ä»¤ä¸­å‡ºç°çš„å˜é‡çš„defs/usesä¿¡æ¯ ä¸ºæ¯ä¸ªå˜é‡è®¡ç®—phiå‡½æ•°çš„æ’å…¥ç‚¹ æŒ‰ç…§æ”¯é…æ ‘çš„DFSéå†é‡å†™æ¯ä¸ªbbçš„æ¯æ¡æŒ‡ä»¤å¹¶å°†æ•´ä¸ªå‡½æ•°SSAåŒ– gccä¸­ssaåŒ–çš„æ•´ä½“æµç¨‹ pass_build_ssa å‡½æ•°æŒ‡ä»¤åºåˆ—çš„def/useåˆ†æ ä¸ºæ¯ä¸ªå˜é‡æ’å…¥phiå‡½æ•° æŒ‡ä»¤é‡å†™(SSAåŒ–)","text":"SSAåŒ–ç®—æ³•è¿‡ç¨‹ gccä¸­SSAåŒ–çš„ç®—æ³•æè¿° è®¡ç®—å½“å‰å‡½æ•°çš„æ”¯é…ç»“ç‚¹è¾¹ç•Œ éå†å¹¶è®°å½•å‡½æ•°æ¯æ¡æŒ‡ä»¤ä¸­å‡ºç°çš„å˜é‡çš„defs/usesä¿¡æ¯ ä¸ºæ¯ä¸ªå˜é‡è®¡ç®—phiå‡½æ•°çš„æ’å…¥ç‚¹ æŒ‰ç…§æ”¯é…æ ‘çš„DFSéå†é‡å†™æ¯ä¸ªbbçš„æ¯æ¡æŒ‡ä»¤å¹¶å°†æ•´ä¸ªå‡½æ•°SSAåŒ– gccä¸­ssaåŒ–çš„æ•´ä½“æµç¨‹ pass_build_ssa å‡½æ•°æŒ‡ä»¤åºåˆ—çš„def/useåˆ†æ ä¸ºæ¯ä¸ªå˜é‡æ’å…¥phiå‡½æ•° æŒ‡ä»¤é‡å†™(SSAåŒ–) SSAåŒ–ç®—æ³•è¿‡ç¨‹gccä¸­SSAåŒ–çš„ç®—æ³•æè¿°SSAåŒ–çš„æµç¨‹å¯ä»¥ç®€åŒ–ä¸º: (1)å¯¹æ‰€æœ‰å˜é‡æ’å…¥å¿…è¦çš„phiå‡½æ•° (2)ä¾æ¬¡é‡å†™å„ä¸ªå˜é‡çš„å®šå€¼/ä½¿ç”¨(è½¬åŒ–ä¸ºSSAæ ¼å¼) è€Œå…·ä½“åˆ°gccä¸­åˆ™å¤§ä½“åˆ†ä¸º4ä¸ªæ­¥éª¤: è®¡ç®—å½“å‰å‡½æ•°çš„æ”¯é…ç»“ç‚¹è¾¹ç•Œâ€‹ æŒ‰ç…§è¿­ä»£çš„å¿…ç»ç»“ç‚¹è¾¹ç•Œç®—æ³•, è¦æƒ³ç¡®å®šphiå‡½æ•°æ’å…¥çš„ä½ç½®,å¿…é¡»è¦å…ˆæ ¹æ®å‡½æ•°çš„CFGç¡®å®šå‡½æ•°çš„æ”¯é…ç»“ç‚¹è¾¹ç•Œ(æ”¯é…ç»“ç‚¹è¾¹ç•Œçš„å®šä¹‰å’Œç®—æ³•è§[2]), åœ¨gccä¸­åˆ™æ˜¯ 1) å…ˆé€šè¿‡calculate_dominance_infoè®¡ç®—å½“å‰å‡½æ•°çš„æ”¯é…ç»“ç‚¹ä¿¡æ¯ 2) å†é€šè¿‡compute_dominance_frontiersè®¡ç®—å½“å‰å‡½æ•°çš„æ”¯é…ç»“ç‚¹è¾¹ç•Œä¿¡æ¯ éå†å¹¶è®°å½•å‡½æ•°æ¯æ¡æŒ‡ä»¤ä¸­å‡ºç°çš„å˜é‡çš„defs/usesä¿¡æ¯â€‹ æ­¤æ­¥ä¸»è¦æ˜¯æ”¶é›†å‡½æ•°æ¯æ¡æŒ‡ä»¤ä¸­å‡ºç°çš„å˜é‡çš„defs/usesä¿¡æ¯,è¿™äº›ä¿¡æ¯ä¿å­˜åœ¨æ ‡é‡çš„bitmapä¸­, æ•…å¯ä»¥æŒ‰ç…§ä»»æ„çš„é¡ºåºéå†æŒ‡ä»¤,è€Œåœ¨gccä¸­åˆ™æ˜¯é‡‡ç”¨åŸºäºæ”¯é…æ ‘çš„æ·±åº¦ä¼˜å…ˆéå†(DFS)é¡ºåºéå†å„ä¸ªåŸºæœ¬å—(bb)ä¸­çš„ä¸€æ¡æ¡æŒ‡ä»¤ ä¸ºæ¯ä¸ªå˜é‡è®¡ç®—phiå‡½æ•°çš„æ’å…¥ç‚¹â€‹ 1)ä¸­å·²ç»è®¡ç®—å‡ºäº†æ¯ä¸ªbbçš„æ”¯é…ç»“ç‚¹è¾¹ç•Œä¿¡æ¯ï¼›2)ä¸­è®¡ç®—å‡ºäº†æ¯ä¸ªå˜é‡çš„defs/usesä¿¡æ¯, æŒ‰ç…§è¿­ä»£çš„å¿…ç»ç»“ç‚¹è¾¹ç•Œç®—æ³•, æ­¤å˜é‡æ¯ä¸€ä¸ªdefå‡ºç°çš„ç»“ç‚¹çš„å¿…ç»ç»“ç‚¹è¾¹ç•Œç»“ç‚¹å‡éœ€è¦æ’å…¥ä¸€ä¸ªphiå‡½æ•°, æ’å…¥åçš„phiå‡½æ•°ä½œä¸ºæ­¤å˜é‡çš„ä¸€ä¸ªæ–°å®šå€¼(def)ç‚¹å‚ä¸è¿­ä»£è®¡ç®—. 1é’ˆå¯¹å½“å‰å‡½æ•°ä¸­çš„æ¯ä¸ªå˜é‡å‡éœ€è¦é€šè¿‡æ­¤ç®—æ³•è®¡ç®—å‡ºå…¶éœ€è¦æ’å…¥phiå‡½æ•°çš„ç»“ç‚¹ä¿¡æ¯,å¹¶åœ¨å¯¹åº”ç»“ç‚¹ä¸ºæ¯ä¸ªå˜é‡åˆ†åˆ«æ’å…¥phiå‡½æ•° æŒ‰ç…§æ”¯é…æ ‘çš„DFSéå†é‡å†™æ¯ä¸ªbbçš„æ¯æ¡æŒ‡ä»¤å¹¶å°†æ•´ä¸ªå‡½æ•°SSAåŒ–â€‹ è¿™é‡Œå’Œæ­¥éª¤2)ä¸åŒ, SSAåŒ–çš„è¿‡ç¨‹å¿…é¡»æŒ‰ç…§æ”¯é…æ ‘çš„æ·±åº¦ä¼˜å…ˆç®—æ³•éå†ç»“ç‚¹, 123456789(1)å¯¹äºæ¯ä¸ªç»“ç‚¹é¡ºåºéœ€éå†æ‰€æœ‰è¯­å¥,å¯¹äºæ¯æ¡è¯­å¥: A.è‹¥å‘ç°ä¸€ä¸ªæ“ä½œæ•°ä¸­æ¶‰åŠå˜é‡ä½¿ç”¨(use)æ—¶,éœ€è¦å°†æ­¤æ“ä½œæ•°æ”¹ä¸ºå¯¹æ­¤å˜é‡åœ¨DFSä¸Šæœ€æ–°å®šä¹‰(SSA_NAME)çš„ä½¿ç”¨ B.è‹¥å‘ç°ä¸€ä¸ªæ“ä½œæ•°ä¸­æ¶‰åŠå˜é‡å®šå€¼(def)æ—¶,éœ€è¦ä¸ºæ­¤å˜é‡æ–°åˆ›å»ºä¸€ä¸ªSSA_NAMEä½œä¸ºæ­¤å˜é‡çš„æœ€æ–°å®šä¹‰, å¹¶å°†æ­¤æ­¤æ“ä½œæ•°æ”¹ä¸ºæ–°åˆ›å»ºçš„SSA_NAME (2) è¯­å¥å¤„ç†å®Œæ¯•åç»­ä¸ºæ­¤ç»“ç‚¹çš„æ¯ä¸ªåç»§ç»“ç‚¹çš„æ‰€æœ‰phiå‡½æ•°ç¡®å®šä¸€ä¸ªå‚æ•°(phiå‡½æ•°çš„ç¬¬xä¸ªå‚æ•°æ¥è‡ªå…¶ç¬¬xä¸ªå‰é©±ç»“ç‚¹) phiå‡½æ•°å¯¹åº”åŸå§‹å˜é‡åœ¨4.4)-1)-2)ä¸­çš„æœ€æ–°å®šå€¼(def)åˆ™ä¸ºphiå‡½æ•°çš„ç¬¬xä¸ªå‚æ•°,ä»£è¡¨è¿è¡Œæ—¶æ¥è‹¥æ§åˆ¶æµæ¥è‡ªç¬¬xä¸ªå‰é©±,åˆ™å½“å‰å‚æ•°xçš„å®šå€¼åº”æ¥è‡ªå“ªä¸ªSSA_NAME gccä¸­ssaåŒ–çš„æ•´ä½“æµç¨‹pass_build_ssaâ€‹ åœ¨gccä¸­ pass_build_ssa è´Ÿè´£å¯¹ä¸€ä¸ªå‡½æ•°è¿›è¡Œé¦–æ¬¡ssaè½¬åŒ–,è€Œ update_ssaåˆ™è´Ÿè´£å¯¹è½¬åŒ–åçš„ssaçš„æ›´æ–°, pass_build_ssaå¤§ä½“æµç¨‹å¦‚ä¸‹: 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960/* pass_build_ssaè´Ÿè´£å¯¹å‡½æ•°cfunçš„SSAåŒ–,æ•´ä¸ªSSAåŒ–å¯ä»¥åˆ†ä¸º4æ­¥: 1.è®¡ç®—å½“å‰å‡½æ•°çš„æ”¯é…ç»“ç‚¹è¾¹ç•Œä¿¡æ¯ //compute_dominance_frontiers (dfs); 2.ä»¥æ”¯é…æ ‘çš„DFSéå†ä¸ºé¡ºåº, æ ‡è®°æ¯æ¡æŒ‡ä»¤ä¸­çš„def/useä¿¡æ¯åˆ°å„ä¸ªå…¨å±€å˜é‡ //mark_def_dom_walker (CDI_DOMINATORS).walk (fun-&gt;cfg-&gt;x_entry_block_ptr); 3.æ ¹æ®1ä¸­çš„æ”¯é…èŠ‚ç‚¹è¾¹ç•Œä¿¡æ¯å’Œ2ä¸­ç»Ÿè®¡çš„æ¯ä¸ªå˜é‡çš„def/useä¿¡æ¯, ç¡®è®¤æ¯ä¸ª å˜é‡éœ€è¦åœ¨å“ªäº›bbä¸­æ’å…¥phiå‡½æ•°,å¹¶ä¸ºæ¯ä¸ªå˜é‡æ’å…¥å¯¹åº”ä¸ªæ•°çš„phiå‡½æ•° //insert_phi_nodes (dfs); 4.ä»¥æ”¯é…æ ‘çš„DFSéå†ä¸ºé¡ºåº,éå†æ‰€æœ‰bbå¹¶é‡å†™æ¯æ¡æŒ‡ä»¤ä¸­çš„æ‰€æœ‰use/defæ“ä½œæ•°(SSAåŒ–) //rewrite_blocks 1) åœ¨éå†åˆ°æ¯ä¸ªbbæ—¶æ‰§è¡Œ: 1) å°†bbä¸­æ‰€æœ‰phiå‡½æ•°çš„è¿”å›å€¼,å†™å…¥åˆ°å…¶å¯¹åº”å˜é‡çš„å½“å‰å®šä¹‰ä¸­(currdef) 2) éå†bbä¸­æ‰€æœ‰æŒ‡ä»¤åºåˆ—,å¹¶é‡å†™å…¶ä¸­çš„å˜é‡: 1) å½“å‘ç°ä¸€ä¸ªå˜é‡çš„useæ—¶,ç”¨å…¶currdefè¿™ä¸ªSSA_NAMEæ›¿æ¢æŒ‡ä»¤ä¸­åŸæœ‰çš„useæ“ä½œæ•° 2) å½“å‘ç°ä¸€ä¸ªå˜é‡çš„defæ—¶,ä¸ºå…¶æ–°åˆ›å»ºä¸€ä¸ªSSA_NAMEæ›¿æ¢æŒ‡ä»¤ä¸­åŸæœ‰çš„defæ“ä½œæ•°,å¹¶å°†æ­¤SSA_NAMEè®°å½•åˆ°æ­¤å˜é‡çš„currdefä¸­,ä»¥åŠå…¥æ ˆ 3) é‡å†™æ­¤bbæ‰€æœ‰åç»­bbä¸­æ¯ä¸ªphiå‡½æ•°çš„ç¬¬iä¸ªå‚æ•°,iä¸ºå½“å‰bbåœ¨å…¶åç»­bbçš„å‰é©±bbsä¸­çš„ç¼–å·,phiå‡½æ•°çš„ç¬¬iä¸ªå‚æ•°è¢«ä¿®æ”¹ä¸ºå…¶å¯¹åº”å˜é‡varåœ¨å½“å‰bbä¸­æœ€åçš„def(currdef) 2) åœ¨æ¯ä¸ªbbçš„æ‰€æœ‰sub bbéƒ½éå†ç»“æŸå: 1) å°†4-1-2-2)ä¸­æ ˆä¸­ä¿å­˜çš„æ‰€æœ‰deféƒ½æ¢å¤åˆ°å…¶å¯¹åº”å˜é‡çš„currdefä¸­, ä»¥ä¿è¯å½“å‰bbåˆ†æå®Œæ¯•å…¶çˆ¶bbä¸­çš„å˜é‡å®šä¹‰ä¸å˜,ç»§ç»­renameå…¶å…„å¼Ÿbbæ—¶æ‰èƒ½ä¿è¯æ­£ç¡®*/unsigned int pass_build_ssa::execute (function *fun)&#123; bitmap_head *dfs; basic_block bb; init_ssa_operands (fun); /* æ­¤å‡½æ•°ä¸»è¦ä¸ºå½“å‰å‡½æ•°åˆ†é…äº†virtual use/defæ“ä½œçš„è™šæ‹Ÿæ“ä½œæ•°vop */ init_ssa_renamer (); /* æ ‡è®°å½“å‰å‡½æ•°å°šæœªå¤„äºSSAæ ¼å¼, åˆå§‹åŒ–è®°å½•æ­¤å‡½æ•°ä¸­æ¯ä¸ªå˜é‡def/useçš„ var_infos æ•°ç»„ */ /* æ ¹æ®æ­¤å‡½æ•°åŸºæœ¬å—çš„æ•°ç›®åˆ†é…ä¸€ä¸ªä¸€ç»´çš„bitmapå¹¶åˆå§‹åŒ–, åç»­use/defåˆ†æä¸­ä¼šåœ¨æ­¤bitmapä¸­æ ‡è®°å‡ºç°äº†use/defçš„bb(å¤§éƒ¨åˆ†éƒ½ä¼šå‡ºç°) */ interesting_blocks = sbitmap_alloc (last_basic_block_for_fn (fun)); bitmap_clear (interesting_blocks); /* æ ¹æ®æ­¤å‡½æ•°åŸºæœ¬å—æ•°ç›®,åˆ†é…å¹¶åˆå§‹åŒ–ä¸€ä¸ªäºŒç»´çš„bitmapçŸ©é˜µ(dfs[x][x]),åç»­æ­¤bitmapç”¨æ¥è®°å½•æ­¤å‡½æ•°ä¸­æ¯ä¸ªbbçš„æ”¯é…ç»“ç‚¹è¾¹ç•Œä¿¡æ¯ */ dfs = XNEWVEC (bitmap_head, last_basic_block_for_fn (fun)); FOR_EACH_BB_FN (bb, fun) bitmap_initialize (&amp;dfs[bb-&gt;index], &amp;bitmap_default_obstack); /* step1:æ ¹æ®æ­¤å‡½æ•°(cfun)çš„CFGå¯„å­˜å™¨æ”¯é…æ ‘å’Œæ¯ä¸ªbbçš„æ”¯é…ç»“ç‚¹è¾¹ç•Œ[2], æ”¯é…èŠ‚ç‚¹è¾¹ç•Œæ˜¯åˆ¤æ–­æ˜¯å¦éœ€è¦æ’å…¥phiå‡½æ•°çš„å…³é”®,æœ€ç»ˆdfsä¸­: * dfs[x]è®°å½•bb xçš„æ”¯é…èŠ‚ç‚¹è¾¹ç•Œ * dfs[x][y] = true; ä»£è¡¨yæ˜¯xèŠ‚ç‚¹çš„ä¸€ä¸ªæ”¯é…èŠ‚ç‚¹è¾¹ç•ŒèŠ‚ç‚¹ */ calculate_dominance_info (CDI_DOMINATORS); /* è¿™é‡Œå…ˆæ ¹æ®CFGè®¡ç®—æ­¤å‡½æ•°çš„æ”¯é…æ ‘,æ”¯é…æ ‘ä»¥ä¸€ä¸ªä¸ªæ”¯é…ç»“ç‚¹ç»“æ„ä½“ä¿å­˜åœ¨å„ä¸ª bb-&gt;doms[0]ä¸­ */ compute_dominance_frontiers (dfs); /* æ ¹æ®æ”¯é…æ ‘ä¿¡æ¯(bbs-&gt;doms), è®¡ç®—æ‰€æœ‰bbçš„æ”¯é…ç»“ç‚¹è¾¹ç•Œä¿¡æ¯å¹¶è®°å½•åˆ°äºŒç»´bitmap dfsä¸­ */ /* step2:æŒ‰ç…§DFSç®—æ³•éå†æ­¤å‡½æ•°çš„æ”¯é…æ ‘ä¸­æ¯ä¸ªç»“ç‚¹(bbs-&gt;doms),å¯¹äºæ¯ä¸ªç»“ç‚¹éƒ½è¦éå†å…¶æ•´ä¸ªæŒ‡ä»¤åºåˆ—(bb-&gt;gimple_df-&gt;seqs)ä¸­çš„ æ¯ä¸€æ¡è¯­å¥(stmt),å¹¶å°†æ¯æ¡è¯­å¥çš„def/useä¿¡æ¯æ›´æ–°åˆ° stmt-&gt;vuse/vdef/use_opsçš„åŒæ—¶,ä¹Ÿæ›´æ–°åˆ°å…¨å±€çš„var_infos/interest_blocks (é’ˆå¯¹æ•´ä¸ªå‡½æ•°),ä»¥åŠm_kills(é’ˆå¯¹å½“å‰bb)ä¸­ */ mark_def_dom_walker (CDI_DOMINATORS).walk (fun-&gt;cfg-&gt;x_entry_block_ptr); /* step3: æ ¹æ®æ”¯é…ç»“ç‚¹è¾¹ç•Œä¿¡æ¯å’Œæ¯ä¸ªå˜é‡çš„def/useä¿¡æ¯,ä¸ºæ¯ä¸ªå˜é‡åœ¨å¿…è¦çš„bbä¸­æ’å…¥æ­¤å˜é‡çš„phiå‡½æ•°, ä¸€ä¸ªbbä¸­æ‰€æœ‰æ’å…¥çš„phiå‡½æ•°å‡è®°å½•åœ¨å…¶bb-&gt;gimple_df-&gt;phi_nodesé“¾è¡¨ä¸­, æŒ‰ç…§ç®—æ³•, æŸä¸ªå˜é‡varè‹¥åœ¨æŸä¸ªbbä¸­å‡ºç°äº†def,åˆ™æ­¤bbçš„æ”¯é…ç»“ç‚¹è¾¹ç•Œä¸­æ‰€æœ‰çš„bbséƒ½è¦æ’å…¥varçš„phiå‡½æ•° éœ€è¦æ³¨æ„çš„æ˜¯:æ­¤æ—¶æ’å…¥çš„phiå‡½æ•°åªæœ‰è¿”å›å€¼ç»“ç‚¹(ä¸ºvaræ–°ç”Ÿæˆçš„SSA_NAME),å…¶å‚æ•°åˆ—è¡¨ä¸ºç©º,åªæœ‰åœ¨å…¶å‰é©±ç»“ç‚¹é‡å†™åphiå‡½æ•°çš„å‚æ•°æ‰èƒ½å¾—ä»¥å¡«å…… */ insert_phi_nodes (dfs); /* step4: æŒ‰ç…§DFSç®—æ³•å†æ¬¡éå†å‡½æ•°çš„æ”¯é…æ ‘,å¹¶é‡å†™æ¯ä¸ªbbä¸­çš„æ¯æ¡æŒ‡ä»¤stmt(ä¹Ÿå°±æ˜¯SSAåŒ–), stmtä¸­çš„æ¯ä¸ªuseè¦æ”¹ä¸ºå¯¹é½currdef(SSA_NAME)çš„use, æ¯ä¸ªdeféƒ½è¦æ–°å»ºä¸€ä¸ªæ–°çš„SSA_NAME; å¯¹äºä¸€ä¸ªbbçš„SSAåŒ–åˆåˆ†ä¸ºä¸‰æ­¥: 1. å°†æ­¤bbä¸­æ‰€æœ‰phiå‡½æ•°çš„è¿”å›å€¼è®¾ç½®ä¸ºå…¶å¯¹åº”å˜é‡çš„currdef 2. éå†æ­¤bbä¸­æ‰€æœ‰stmt, å°†å…¶ä¸­æ‰€æœ‰useçš„æ“ä½œæ•°æ”¹ä¸ºå…¶currdef; è‹¥ç¢°åˆ°defåˆ™ä¸ºå…¶åŸå§‹å˜é‡varç”Ÿæˆä¸€ä¸ªæ–°çš„SSA_NAME,å°†defçš„æ“ä½œæ•°å’Œcurrdefæ›¿æ¢ä¸ºæ–°çš„SSA_NAME 3. éå†æ­¤bbåœ¨å‡½æ•°CFGä¸­æ‰€æœ‰çš„åç»§bb, å¡«å……åç»§bbä¸­æ‰€æœ‰phiæŒ‡ä»¤çš„ä¸€ä¸ªå‚æ•°(ç¬¬xä¸ªå‚æ•°,xä¸ºæ­¤bbåœ¨å…¶åç»§bbçš„æ‰€æœ‰å‰é©±ç»“ç‚¹ä¸­çš„ç¼–å·) */ rewrite_blocks (ENTRY_BLOCK_PTR_FOR_FN (fun), REWRITE_ALL); ...... return 0;&#125; å‡½æ•°æŒ‡ä»¤åºåˆ—çš„def/useåˆ†æâ€‹ è¦åˆ†æå½“å‰å‡½æ•°ä¸­æ‰€æœ‰å˜é‡çš„def/useä¿¡æ¯,è¿™æ˜¯é€šè¿‡å‡½æ•°mark_def_dom_walker::walk()å®ç°çš„: 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768class mark_def_dom_walker : public dom_walker /* æ²¡æœ‰å•ç‹¬å®ç° walkå‡½æ•°,ç»§æ‰¿çˆ¶ç±»walkå‡½æ•° */&#123;public: mark_def_dom_walker (cdi_direction direction); ~mark_def_dom_walker (); virtual edge before_dom_children (basic_block);private: bitmap m_kills; /* æ­¤bitmapå¯ä»¥çœ‹åšæ˜¯ä¸€ä¸ªä»¥å˜é‡UIDä¸ºä¸‹æ ‡çš„ä¸€ç»´æ•°ç»„, m_kills[x] = 1;åˆ™ä»£è¡¨UIDä¸ºxçš„å˜é‡åœ¨å½“å‰åˆ†æçš„bbä¸­å‡ºç°äº†kill def */&#125;; class dom_walker&#123; ...... void walk (basic_block); ......&#125; /* åœ¨æ­¤å‡½æ•°æ‰§è¡Œå‰,bbæ‰€åœ¨çš„å‡½æ•°å¿…é¡»å·²ç»è®¡ç®—è¿‡äº†æ”¯é…æ ‘(calculate_dominance_info),æ­¤æ—¶è®¡ç®—ç»“æœå·²ç»ä¿å­˜åˆ°å„ä¸ªbb-&gt;domsä¸­äº†, è€Œæ­¤å‡½æ•°åˆ™é€šè¿‡æ·±åº¦ä¼˜å…ˆéå†ç®—æ³•(DFS)éå†ä»bbå¼€å§‹çš„æ•´ä¸ªæ”¯é…æ ‘çš„æ‰€æœ‰ç»“ç‚¹,ä¸”: * åœ¨åˆšéå†åˆ°æŸä¸ªç»“ç‚¹æ—¶,ä¸ºå½“å‰ç»“ç‚¹è°ƒç”¨before_dom_children(basic_block);å›è°ƒ - è‹¥æ­¤å›è°ƒè¿”å›STOP,åˆ™å…¶æ‰€æœ‰å­èŠ‚ç‚¹ä¸å¿…å†éå† - è‹¥æ­¤å›è°ƒè¿”å›éSTOP,åˆ™æŒ‰ç…§DFSç»§ç»­éå†å…¶å­ç»“ç‚¹ * åœ¨æŸä¸ªç»“ç‚¹(åŠå…¶å­èŠ‚ç‚¹)éå†å®Œæ¯•å, ä¸ºå½“å‰ç»“ç‚¹è°ƒç”¨after_dom_children(basic_block);å›è°ƒ*/void dom_walker::walk (basic_block bb)&#123; int sp = 0; basic_block dest; basic_block *worklist = XNEWVEC (basic_block, n_basic_blocks_for_fn (cfun) * 2); /* ä¸ºåç»­é€’å½’éå†åˆ†é…ä¸´æ—¶çš„ç»“ç‚¹æ ˆ */ ...... while (true) &#123; /* åªéå†æœ‰å‰é©±çš„bbæˆ–å‡½æ•°å‡ºå…¥å£bb */ if (EDGE_COUNT (bb-&gt;preds) &gt; 0 || bb == ENTRY_BLOCK_PTR_FOR_FN (cfun) || bb == EXIT_BLOCK_PTR_FOR_FN (cfun)) &#123; edge taken_edge = NULL; taken_edge = before_dom_children (bb); /* åœ¨éå†åˆ°ä¸€ä¸ªç»“ç‚¹æ—¶,å…ˆè°ƒç”¨ before_dom_children å›è°ƒ */ worklist[sp++] = bb; /* å°†å½“å‰èŠ‚ç‚¹æ”¾åˆ°worklistä¸­,ä½œä¸ºæ ˆå¸§æ ‡è®°(NULLä¸ºåˆ†éš”ç¬¦),åç»­ä¼šå…ˆé€’å½’å¤„ç†å…¶å­èŠ‚ç‚¹ */ worklist[sp++] = NULL; if (taken_edge != STOP) /* è‹¥å›è°ƒè¿”å›çš„é STOP(-1) */ &#123; int saved_sp = sp; /* éå†ç»“ç‚¹bbåœ¨æ”¯é…æ ‘ä¸­çš„æ‰€æœ‰å­èŠ‚ç‚¹,æ”¯é…æ ‘ä¿¡æ¯åœ¨walkä¹‹å‰åº”è¯¥å·²ç»è®¡ç®—å‡º(calculate_dominance_info),å¹¶è®°å½•åœ¨å„ä¸ªbb-&gt;domsä¸­ */ for (dest = first_dom_son (m_dom_direction, bb); dest; dest = next_dom_son (m_dom_direction, dest)) worklist[sp++] = dest; /* åœ¨æ ˆä¸­è®°å½•å½“å‰bbçš„æ‰€æœ‰è¦éå†çš„æ”¯é…æ ‘ä¸­çš„å­ç»“ç‚¹ */ if (sp - saved_sp &gt; 1 &amp;&amp; m_dom_direction == CDI_DOMINATORS &amp;&amp; m_bb_to_rpo) /* è‹¥å¯¹æ”¯é…æ ‘çš„ DFSéå†æœ‰é¡ºåºè¦æ±‚,åˆ™å°†bbçš„å­èŠ‚ç‚¹æ’åºä»¥ç¡®ä¿åç»­çš„éå†é¡ºåº */ sort_bbs_postorder (&amp;worklist[saved_sp], sp - saved_sp); &#125; &#125; while (sp &gt; 0 &amp;&amp; !worklist[sp - 1]) /* è‹¥å½“å‰bbæ²¡æœ‰å­ç»“ç‚¹,æˆ–æ‰€æœ‰å­èŠ‚ç‚¹éƒ½å¤„ç†å®Œæ¯•,åˆ™ä¸ºå½“å‰ç»“ç‚¹è°ƒç”¨å¤„ç†å®Œæ¯•åçš„å›è°ƒ, whileå¾ªç¯è´Ÿè´£å¤„ç†å¤šçº§ç»“ç‚¹è¿”å› */ &#123; --sp; /* å¿½ç•¥å‰é¢æ ‡è®°çš„NULLåˆ†éš”ç¬¦ */ bb = worklist[--sp]; /* å¤„ç†ä¸Šä¸€å±‚çš„ä¸‹ä¸€ä¸ªbb */ ...... after_dom_children (bb); /* å½“å‰ç»“ç‚¹åŠå…¶å­èŠ‚ç‚¹éå†å®Œæ¯•çš„å›è°ƒå‡½æ•° */ &#125; if (sp) bb = worklist[--sp]; /* é€’å½’éå†worklistä¸­ä¸‹ä¸€ä¸ªç»“ç‚¹ */ else break; /* æ•´ä¸ªæ”¯é…æ ‘ç»“ç‚¹çš„DFSéå†å®Œæ¯•, é€€å‡ºå¾ªç¯ */ &#125; free (worklist);&#125; â€‹ ç”±ä¸Šå¯çŸ¥, mark_def_dom_walker (CDI_DOMINATORS).walk (fun-&gt;cfg-&gt;x_entry_block_ptr); å®é™…ä¸Šæ˜¯é€šè¿‡å…¶çˆ¶ç±»çš„walkå‡½æ•°ä»å½“å‰å‡½æ•°çš„å…¥å£bbå¼€å§‹æ ¹æ®DFSç®—æ³•éå†äº†æ­¤å‡½æ•°çš„æ”¯é…æ ‘,å¹¶å¯¹æ¯ä¸ªbbè°ƒç”¨äº†å›è°ƒå‡½æ•°mark_def_dom_walker::before_dom_children,æ­¤å‡½æ•°å®šä¹‰å¦‚ä¸‹: 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950edge mark_def_dom_walker::before_dom_children (basic_block bb)&#123; gimple_stmt_iterator gsi; bitmap_clear (m_kills); /* é‡æ–°æ¸…ç©ºè®°å½•å½“å‰bbä¸­kill defsçš„æ•°ç»„ */ for (gsi = gsi_start_bb (bb); !gsi_end_p (gsi); gsi_next (&amp;gsi)) /* éå†å½“å‰bbä¸­æ‰€æœ‰gimpleè¯­å¥ */ /* åˆ†ææ¯æ¡è¯­å¥ä¸­çš„def/useä¿¡æ¯,ç»“æœæ›´æ–°åˆ°stmt-&gt;vuse/vdef/use_opsçš„åŒæ—¶ä¹Ÿ å°†ç»Ÿè®¡ä¿¡æ¯æ›´æ–°åˆ°å…¨å±€å˜é‡var_infos,interesting_blocks,ä»¥åŠå‚æ•°m_killsä¸­ */ mark_def_sites (bb, gsi_stmt (gsi), m_kills); return NULL;&#125; static void mark_def_sites (basic_block bb, gimple *stmt, bitmap kills)&#123; tree def; use_operand_p use_p; ssa_op_iter iter; update_stmt (stmt); /* åˆ†æstmtä¸­çš„ virutal use/def, real useä¿¡æ¯,å¹¶å°†å…¶æ›´æ–°åˆ°å½“å‰è¯­å¥ stmt-&gt;vuse/vdef/use_opsä¸­ */ ...... set_register_defs (stmt, false); /* é»˜è®¤æ ‡è®°å½“å‰stmtä¸­ä¸å­˜åœ¨æ“ä½œæ•°çš„def/useæ“ä½œ */ set_rewrite_uses (stmt, false); ...... FOR_EACH_SSA_USE_OPERAND (use_p, stmt, iter, SSA_OP_ALL_USES) /* éå†æ­¤stmtä¸­çš„æ‰€æœ‰usesçš„æ“ä½œæ•° */ &#123; tree sym = USE_FROM_PTR (use_p); /* è·å–å½“å‰å¤„ç†çš„æ“ä½œæ•°ä¸­çš„å˜é‡æ ‘èŠ‚ç‚¹ä¿¡æ¯ */ ...... /* åœ¨å½“å‰bbçš„æ¯æ¡è¯­å¥åˆ†æè¿‡ç¨‹ä¸­(è§ä¸‹é¢çš„å¾ªç¯)å¦‚æœå‘ç°äº†æŸå˜é‡çš„def,é‚£ä¹ˆæ­¤defå¯¹äºå½“å‰bbæ¥è¯´å°±æ˜¯ä¸ªkill def, è€Œå¦‚æœåˆ†æåˆ°ä¸€ä¸ªå˜é‡çš„useå‰è¿˜æ²¡æœ‰åœ¨å½“å‰bbä¸­å‘ç°å…¶kill def,åˆ™è¯´æ˜æ­¤å˜é‡çš„å€¼æ¥è‡ªå…¶å‰é©±bb, é‚£ä¹ˆæ­¤æ—¶å°±è¦ æ ‡è®°æ­¤å˜é‡åœ¨å½“å‰bbä¸­å‡ºç°äº†ä¼ æ’­ä½¿ç”¨(set_livein_block) */ if (!bitmap_bit_p (kills, DECL_UID (sym))) /* è‹¥æ­¤å˜é‡åœ¨å½“å‰bbä¸­æœªå‡ºç°kill def */ set_livein_block (sym, bb); /* åœ¨å˜é‡çš„å…¨å±€var_info-&gt;def_blocks-&gt;livein_blocksä¸­æ ‡è®°,å˜é‡symåœ¨åŸºæœ¬å—bbä¸­ä¸ºä¼ æ’­ä½¿ç”¨ */ set_rewrite_uses (stmt, true); /* æ ‡è®°å½“å‰è¯­å¥stmtä¸­æœ‰éœ€è¦è¢«é‡å†™çš„useæ“ä½œæ•° */ &#125; FOR_EACH_SSA_TREE_OPERAND (def, stmt, iter, SSA_OP_ALL_DEFS) /* åŠ¨æ€åˆ†æå½“å‰stmtçš„æ‰€æœ‰defs, å¹¶éå†æ‰€æœ‰è¢«defçš„å˜é‡ */ &#123; ...... set_def_block (def, bb, false); /* åœ¨å½“å‰å˜é‡çš„ var_info-&gt;def_blocks-&gt;def_blocks ä¸­æ ‡è®°åœ¨åŸºæœ¬å—bbä¸­å‡ºç°äº†æ­¤å˜é‡çš„def */ bitmap_set_bit (kills, DECL_UID (def)); /* åœ¨per bbçš„killsæ•°ç»„ä¸­æ ‡è®°å½“å‰bbä¸­å‡ºç°äº†å˜é‡defçš„ kill def */ set_register_defs (stmt, true); /* åœ¨å½“å‰è¯­å¥stmtä¸­æ ‡è®°å…¶ä¸­å‡ºç°äº†æŸæ“ä½œæ•°çš„defæ“ä½œ */ &#125; /* å½“å½“å‰åˆ†æçš„bbä¸­ä»»ä½•ä¸€æ¡è¯­å¥(stmt)ä¸­å‡ºç°äº†æ“ä½œæ•°çš„use/defæ“ä½œ,å½“å‰bbå°±è¦è¢«æ ‡è®°ä¸ºinteresting. é™¤äº†ç‰¹åˆ«ç®€å•çš„bb,åŸºæœ¬ä¸Šå¤§éƒ¨åˆ†bbéƒ½ä¼šæ ‡è®°åˆ°interesting_blocksä¸­ */ if (rewrite_uses_p (stmt) || register_defs_p (stmt)) bitmap_set_bit (interesting_blocks, bb-&gt;index);&#125; ä¸ºæ¯ä¸ªå˜é‡æ’å…¥phiå‡½æ•°â€‹ åˆ†æå®Œdef/useä¿¡æ¯å,åˆ™éœ€è¦ä¸ºå½“å‰å‡½æ•°çš„æ¯ä¸ªå˜é‡åœ¨éœ€è¦çš„ä½ç½®(bb)å¤„æ’å…¥phiå‡½æ•°,æ­¤è¿‡ç¨‹æ˜¯åœ¨å‡½æ•° insert_phi_nodesä¸­å®ç°çš„ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118/* æ­¤å‡½æ•°è´Ÿè´£ä¸ºå½“å‰å‡½æ•°ä¸­æ‰€æœ‰å˜é‡åœ¨éœ€è¦æ’å…¥phiå‡½æ•°çš„bbä¸­æ’å…¥phiå‡½æ•°ï¼Œ phiå‡½æ•°å…¨éƒ¨è®°å½•åœ¨æ¯ä¸ªbb-&gt;gimple_df-&gt;phi_nodesä¸­ éœ€è¦æ³¨æ„çš„æ˜¯æ­¤æ—¶phiå‡½æ•°çš„å‚æ•°å°šæœªå¡«å……,åªæœ‰è¿”å›å€¼å¡«å……äº†(å…¶å¯¹åº”å˜é‡æ´¾ç”Ÿçš„SSA_NAME)*/static void insert_phi_nodes (bitmap_head *dfs)&#123; var_info *info; ...... /* var_infos[]ä¸­è®°å½•äº†å½“å‰å‡½æ•°æ‰€æœ‰å˜é‡(local_decls)åœ¨æ•´ä¸ªå‡½æ•°ä¸­çš„def/useä¿¡æ¯, è€Œåœ¨def/useåˆ†æä¸­ç®€å•çš„æ’é™¤äº†ä¸€äº›ä¸éœ€è¦æ’å…¥phiå‡½æ•°çš„å˜é‡(need_phi_state = NEED_PHI_STATE_NOçš„å˜é‡, è¿™æ ·çš„å˜é‡åœ¨æ•´ä¸ªå‡½æ•°ä¸­åªå­˜åœ¨ä¸€ä¸ªdef,ä¸”å…¶æ‰€æœ‰useç‚¹æ‰€åœ¨çš„bbéƒ½è¢«defæ‰€åœ¨çš„bbæ”¯é…),è€Œvarsæ•°ç»„ä¸­æœ€ç»ˆåªè®°å½•äº†é‚£äº›å¯èƒ½éœ€è¦æ’å…¥phiå‡½æ•°çš„å˜é‡åšäºŒæ¬¡åˆ†æå’Œå¤„ç† */ auto_vec&lt;var_info *&gt; vars (var_infos-&gt;elements ()); FOR_EACH_HASH_TABLE_ELEMENT (*var_infos, info, var_info_p, hi) if (info-&gt;info.need_phi_state != NEED_PHI_STATE_NO) vars.quick_push (info); vars.qsort (insert_phi_nodes_compare_var_infos); /* æ ¹æ®å˜é‡çš„UIDæ’åº */ FOR_EACH_VEC_ELT (vars, i, info) /* éå†å½“å‰å‡½æ•°ä¸­æ¯ä¸ªå¯èƒ½è¦æ’å…¥phiç»“ç‚¹çš„å˜é‡(infoä¸ºè¿­ä»£å™¨) */ &#123; /* * info-&gt;info.def_blocks.def_blocks è®°å½•info-&gt;varè¿™ä¸ªå˜é‡åœ¨å„ä¸ªbbä¸­çš„defä¿¡æ¯(bitmap) * dtfè®°å½•æ•´ä¸ªå‡½æ•°æ‰€æœ‰bbçš„æ”¯é…ç»“ç‚¹è¾¹ç•Œä¿¡æ¯ æ­¤å‡½æ•°æ ¹æ®äºŒè€…è®¡ç®—å‡ºéœ€è¦ä¸ºå½“å‰å˜é‡varæ’å…¥phiå‡½æ•°çš„æ‰€æœ‰bbçš„ä¿¡æ¯,è¿”å›çš„idfåŒæ ·æ˜¯ä¸€ä¸ªbitmap,è‹¥idf[i]-1,åˆ™ä»£è¡¨åœ¨ç¼–å·ä¸ºiçš„bbä¸­éœ€è¦ä¸ºå˜é‡info-&gt;varæ’å…¥phiå‡½æ•° */ bitmap idf = compute_idf (info-&gt;info.def_blocks.def_blocks, dfs); /* æ ¹æ®idfè¿™ä¸ªbitmap, å‘å…¶å¯¹åº”çš„bbä¸­ä¸ºå˜é‡info-&gt;varåˆ›å»ºä¸€ä¸ªgphiæŒ‡ä»¤,å¹¶å°†æ­¤æŒ‡ä»¤æ·»åŠ åˆ° bb-&gt;gimple_df-&gt;phi_nodesä¸­, ifdæ˜¯æ ‡å‡†ç®—æ³•ç®—å‡ºçš„phiå‡½æ•°æ’å…¥ç‚¹,è€Œæ­¤å‡½æ•°åœ¨åˆ›å»ºå‰è¿˜ä¼šå†æ¬¡è£å‰ª idf bitmap(å¯¹äºå˜é‡kill defä¸”ä¸å­˜åœ¨livein useçš„bb,æ— éœ€æ’å…¥phiå‡½æ•°) */ insert_phi_nodes_for (info-&gt;var, idf, false); BITMAP_FREE (idf); &#125;&#125; /* æ­¤å‡½æ•°è´Ÿè´£æ ¹æ®å˜é‡varçš„defä¿¡æ¯(def_blocks)å’Œæ•´ä¸ªå‡½æ•°æ‰€æœ‰bbçš„æ”¯é…ç»“ç‚¹è¾¹ç•Œä¿¡æ¯,(dfs) è®¡ç®—å‡ºéœ€è¦ä¸ºæ­¤å‡½æ•°æ’å…¥phiå‡½æ•°çš„bbä¿¡æ¯(bitmap phi_insertion_points)å¹¶è¿”å›æ­¤bitmap phiå‡½æ•°çš„ç®—æ³•æ˜¯: 1) å½“å‰å˜é‡xæ‰€æœ‰çš„defç‚¹(bb)çš„æ”¯é…ç»“ç‚¹è¾¹ç•Œä¸­æ‰€æœ‰ç»“ç‚¹éƒ½éœ€è¦æ’å…¥phiå‡½æ•° 2) æ’å…¥çš„phiå‡½æ•°ç›¸å½“äºå¯¹å˜é‡xçš„éšå¼def,æ•…æ’å…¥äº†phiå‡½æ•°çš„ç»“ç‚¹(bb)çš„æ”¯é…ç»“ç‚¹è¾¹ç•Œä¸­æ‰€æœ‰ç»“ç‚¹ä¹Ÿéƒ½è¦æ’å…¥phiå‡½æ•° 3) é’ˆå¯¹ä¸€ä¸ªå˜é‡x, ä»»ä½•ä¸€ä¸ªbbä¸­åªéœ€è¦ä¸ºå…¶æ’å…¥ä¸€ä¸ªphiå‡½æ•°å³å¯,æ— éœ€é‡å¤æ’å…¥,å› ä¸ºphiå‡½æ•°å‚æ•°æ¥è‡ªäºæ‰€æœ‰å‰é©±,ä¸€ä¸ªphiå‡½æ•°å°±ä»£è¡¨äº†æ‰€æœ‰å¯èƒ½çš„éšå¼def;*/bitmap compute_idf (bitmap def_blocks, bitmap_head *dfs)&#123; bitmap_iterator bi; unsigned bb_index, i; bitmap phi_insertion_points; auto_vec&lt;int&gt; work_stack (2 * n_basic_blocks_for_fn (cfun)); /* æ­¤bitmapä¸ºå‡½æ•°çš„è¿”å›å€¼, å…¶æ˜¯ä¸€ä¸ªä¸€ç»´æ•°ç»„,ä¸‹æ ‡ä¸ºbbåœ¨å½“å‰å‡½æ•°çš„ç´¢å¼•å·ï¼Œ phi_insertion_points[i] = 1;åˆ™ä»£è¡¨å½“å‰bbä¸­éœ€è¦ä¸ºå˜é‡xæ’å…¥phiå‡½æ•° */ phi_insertion_points = BITMAP_ALLOC (NULL); /* æŒ‰ç…§ç®—æ³•, phiå‡½æ•°éœ€è¦æ’å…¥åˆ°å˜é‡ xæ‰€æœ‰defç‚¹æ‰€åœ¨bbçš„æ”¯é…ç»“ç‚¹è¾¹ç•Œç»“ç‚¹ä¸­, è¿™é‡Œé¦–å…ˆå°†æ‰€æœ‰å‡ºç°å˜é‡x defç‚¹çš„bbåŠ å…¥åˆ°é˜Ÿåˆ—ä¸­ */ EXECUTE_IF_SET_IN_BITMAP (def_blocks, 0, bb_index, bi) work_stack.quick_push (bb_index); while (work_stack.length () &gt; 0) &#123; bb_index = work_stack.pop (); /* è·å–ä¸‹ä¸€ä¸ªå­˜åœ¨å˜é‡x defçš„bbçš„ç¼–å· */ /* &amp;dfs[bb_index] è®°å½•ç´¢å¼•å·ä¸ºbb_indexçš„bbçš„æ”¯é…ç»“ç‚¹è¾¹ç•Œä¿¡æ¯(ä¸‹æ ‡ä¸ºbbç´¢å¼•å·, dfs[bb_index][i] = 1; åˆ™ä»£è¡¨ç¼–å·ä¸ºiçš„bbä¸ºç¼–å·ä¸º bb_indexçš„bbçš„æ”¯é…ç»“ç‚¹) æ­¤å®å±•å¼€åä¼šä¾æ¬¡æ¯”è¾ƒ dfs[bb_index] å’Œphi_insertion_points ä¸­çš„æ¯ä¸€ä¸ªbit,è‹¥ dfs[bb_index][i] = 1; è€Œphi_insertion_points[i] = 0; åˆ™ä»£è¡¨å‘ç°äº† æ–°çš„éœ€è¦æ’å…¥phiå‡½æ•°çš„bb(ç¼–å·ä¸ºi),æ­¤æ—¶ä¼šå°†i pushåˆ°work_stackä¸­,ä¸‹ä¸€æ¬¡å¾ªç¯åä¼šé€’å½’éå†æ­¤bb; */ EXECUTE_IF_AND_COMPL_IN_BITMAP (&amp;dfs[bb_index], phi_insertion_points, 0, i, bi) &#123; work_stack.quick_push (i); /* ç»“ç‚¹iå› æ’å…¥äº†Ï†å‡½æ•°,å…¶æ”¯é…ç»“ç‚¹è¾¹ç•Œç»“ç‚¹ä¹Ÿè¦åŠ å…¥åˆ° phi_insertion_pointsä¸­ */ bitmap_set_bit (phi_insertion_points, i); /* æ ‡è®°ç»“ç‚¹iä¸­éœ€è¦æ’å…¥Ï†å‡½æ•° */ &#125; &#125; return phi_insertion_points;&#125; /* æ­¤å‡½æ•°ä¸ºå˜é‡varåœ¨éœ€è¦æ’å…¥phiå‡½æ•°çš„bbä¸­æ’å…¥gphiæŒ‡ä»¤(åŒ…æ‹¬åˆ›å»º,æ´¾ç”Ÿvarçš„ä¸€ä¸ªSSA_NAMEä½œä¸ºgphiè¿”å›å€¼,å¹¶å°†gphiæ’å…¥åˆ°bb-&gt;gimple_df-&gt;phi_nodesæŒ‡ä»¤åºåˆ—ä¸­) åœ¨æ’å…¥å‰ä¼šå°è¯•åˆ é™¤ä¸€äº›ä¸éœ€è¦æ’å…¥phiå‡½æ•°çš„ç‚¹(å¦‚æœå˜é‡varåœ¨æŸä¸ªbbä¸­ä¸å­˜åœ¨liven_use,ä¸”å­˜åœ¨kill_def,åˆ™æ­¤bbæ— éœ€æ’å…¥phiå‡½æ•°)*/static void insert_phi_nodes_for (tree var, bitmap phi_insertion_points, bool update_p)&#123; unsigned bb_index; edge e; gphi *phi; basic_block bb; bitmap_iterator bi; def_blocks *def_map = find_def_blocks_for (var); /* æ­¤ç»“æ„ä½“ä¸­å­˜ç€å˜é‡varçš„å¤šä¸ªbitmap,åŒ…æ‹¬ kill def/livein use */ ...... /* def_blockså’Œ livein_blockséƒ½æ˜¯åœ¨ å„ä¸ªbbçš„mark_def_sitesä¸­åˆ†æå‡ºçš„: * def_blocks[i] = 1;ä»£è¡¨å˜é‡varåœ¨ç¼–å·ä¸ºiçš„bbä¸­å‡ºç°äº†kill def; * livein_blocks[i] = 1; ä»£è¡¨å˜é‡varåœ¨ç¼–å·ä¸ºiçš„bbä¸­å‡ºç°äº†ä¼ æ’­ä½¿ç”¨(ä¹Ÿå°±æ˜¯ç¬¬ä¸€æ¬¡è®¿é—®æ˜¯use,è€Œä¸æ˜¯def) è€Œåœ¨ä¸€ä¸ªbbä¸­,å¦‚æœä¸€ä¸ªå˜é‡æ²¡æœ‰å‡ºç°livein,ä¸”å­˜åœ¨kill def,é‚£ä¹ˆè¿™ä¸ªbbä¸­æ˜¯ä¸éœ€è¦æ’å…¥phiå‡½æ•°çš„,ç®€å•è¯´å°±æ˜¯:åœ¨ä¸€ä¸ªbbçš„é¡ºåºæŒ‡ä»¤æ‰§è¡Œè¿‡ç¨‹ä¸­, ä¸€ä¸ªå˜é‡å…ˆè¢«èµ‹å€¼ç„¶åæ‰è¢«ä½¿ç”¨,é‚£ä¹ˆåœ¨SSAåŒ–æ—¶å…¶å‰é©±bbå¯¹æ­¤å˜é‡çš„defå°±ä¸å¿…è€ƒè™‘äº†(å› ä¸ºæ²¡æœ‰äººç”¨), ä½†å¦‚æœå˜é‡åœ¨æ­¤bbä¸­æ²¡æœ‰defåˆ™å¿…é¡»æ’å…¥phiå‡½æ•°, å¦åˆ™ä¼šå½±å“åˆ°æ­¤bbåç»­bbä¸­varçš„å®šå€¼. è¿™é‡Œå°±æ˜¯ä»phi_insertion_pointsä¸­å»é™¤äº†livein_use,ä¸”æœ‰kill defçš„bb,è¿™äº›bbæ— éœ€æ’å…¥phiå‡½æ•° */ prune_unused_phi_nodes (phi_insertion_points, def_map-&gt;def_blocks, def_map-&gt;livein_blocks); /* phi_insertion_points ä¸­å‰©ä½™çš„ç»“ç‚¹å‡éœ€è¦ä¸ºå˜é‡varæ’å…¥phiå‡½æ•°,è¿™é‡Œéå†å…¶ä¸­æ¯ä¸ªbb */ EXECUTE_IF_SET_IN_BITMAP (phi_insertion_points, 0, bb_index, bi) &#123; bb = BASIC_BLOCK_FOR_FN (cfun, bb_index); /* æ ¹æ®bb_indexè·å–bbçš„basic_blockç»“æ„ä½“ */ if (update_p) mark_block_for_update (bb); if (TREE_CODE (var) == SSA_NAME) &#123; /* SSA_NAME æ˜¯åœ¨ update_ssaä¸­ç”¨åˆ°çš„,å…ˆpass */ ...... &#125; else &#123; /* æ­£å¸¸å˜é‡æ˜¯èµ°è¿™é‡Œ */ /* åˆ›å»ºä¸€ä¸ªgphiæŒ‡ä»¤,ä¸ºå˜é‡varç”Ÿæˆä¸€ä¸ªæ–°çš„SSA_NAMEè®¾ç½®ä¸ºæ­¤gphiçš„è¿”å›å€¼ç»“ç‚¹(æ‰€ä»¥phiå‡½æ•°çš„è¿”å›å€¼SSA_NAMEçš„versionç¼–å·éƒ½è¾ƒå°), gphiæŒ‡ä»¤çš„æ‰€æœ‰å‚æ•°éƒ½æš‚ä¸å¡«å……(å› ä¸ºæ‰€æœ‰çš„æŒ‡ä»¤å°šæœªSSAåŒ–,æ— æ³•å¡«å……), å¹¶å°†æ–°ç”Ÿæˆçš„gphiæŒ‡ä»¤é“¾æ¥åˆ°å½“å‰bb-&gt;gimple_df-&gt;phi_nodesæŒ‡ä»¤åºåˆ—çš„æœ«å°¾ */ phi = create_phi_node (var, bb); ...... &#125; set_register_defs (phi, true); /* æ ‡è®°å½“å‰gphiè¯­å¥ä¸­å­˜åœ¨defæ“ä½œ(å› ä¸ºå…¶è¿”å›å€¼ç»“ç‚¹è¢«defäº†) */ mark_phi_for_rewrite (bb, phi); &#125;&#125; æŒ‡ä»¤é‡å†™(SSAåŒ–)â€‹ phiå‡½æ•°æ’å…¥å®Œæ¯•å,éœ€è¦å¯¹æ•´ä¸ªå‡½æ•°æ‰€æœ‰bbä¸­çš„æ‰€æœ‰æŒ‡ä»¤åºåˆ—ä¸­æ‰€æœ‰çš„def/useå˜é‡è¿›è¡Œé‡å†™,æ­¤è¿‡ç¨‹æ˜¯åœ¨å‡½æ•°rewrite_blocks ä¸­å®Œæˆçš„ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174static void rewrite_blocks (basic_block entry, enum rewrite_mode what)&#123; ...... if (what == REWRITE_ALL) /* æŒ‰ç…§DFSéå†å½“å‰å‡½æ•°çš„æ”¯é…æ ‘,å¹¶åœ¨: * éå†åˆ°æŸä¸ªbbæ—¶æ‰§è¡Œå›è°ƒ rewrite_dom_walker::before_dom_children * éå†å®ŒæˆæŸä¸ªbb(åŠå…¶æ‰€æœ‰sub bb)åæ‰§è¡Œå›è°ƒ rewrite_dom_walker::after_dom_children */ rewrite_dom_walker (CDI_DOMINATORS).walk (entry); /* pass_build_ssaæ—¶èµ°è¿™é‡Œ */ else if (what == REWRITE_UPDATE) rewrite_update_dom_walker (CDI_DOMINATORS).walk (entry); else gcc_unreachable (); ......&#125; struct def_blocks&#123; bitmap def_blocks; /* è®°å½•å½“å‰å˜é‡åœ¨å“ªäº›bbä¸­å‡ºç°äº†kill def */ bitmap phi_blocks; bitmap livein_blocks; /* è®°å½•å½“å‰å˜é‡åœ¨å“ªäº›bbä¸­å‡ºç°äº†livein use */&#125;; struct common_info&#123; ENUM_BITFIELD (need_phi_state) need_phi_state : 2; /* è®°å½•def/useåˆ†æä¸­ç®€å•çš„åˆ¤æ–­ç»“æœ,å³å½“å‰å˜é‡æ˜¯å¦ä¸éœ€è¦æ’å…¥phiå‡½æ•° */ tree current_def; /* è®°å½•æ­¤å˜é‡åœ¨rewrite_stmtä¸­å½“å‰çš„å®šä¹‰(é€šå¸¸æ˜¯å…¶ä¸€ä¸ªSSA_NAME) */ struct def_blocks def_blocks; /* è®°å½•æ­¤å˜é‡åœ¨æ‰€æœ‰bbä¸­çš„kill def/livein use ä¿¡æ¯ */&#125;; struct var_info&#123; tree var; /* æ­¤var_infoä¸­è®°å½•äº†å“ªä¸ªå˜é‡çš„ä¿¡æ¯ */ common_info info; /* è®°å½•æ­¤å˜é‡çš„def/use,currdefç­‰ç›¸å…³ä¿¡æ¯ */ &#125;; /* æ­¤å‡½æ•°è´Ÿè´£åœ¨DFSéå†åˆ°æ”¯é…æ ‘ä¸­æ¯ä¸ªç»“ç‚¹bbæ—¶,å°†å…¶ä¸­çš„æ‰€æœ‰stmt SSAåŒ–, SSAåŒ–çš„æµç¨‹åˆ†ä¸ºä¸‰æ­¥: 1. å°†æ­¤bbä¸­æ‰€æœ‰phiå‡½æ•°çš„è¿”å›å€¼è®¾ç½®ä¸ºå…¶å¯¹åº”å˜é‡çš„currdef 2. éå†æ­¤bbä¸­æ‰€æœ‰stmt, å°†å…¶ä¸­æ‰€æœ‰useçš„æ“ä½œæ•°æ”¹ä¸ºå…¶currdef; è‹¥ç¢°åˆ°defåˆ™ä¸ºå…¶åŸå§‹å˜é‡varç”Ÿæˆä¸€ä¸ªæ–°çš„SSA_NAME,å°†defçš„æ“ä½œæ•°å’Œcurrdefæ›¿æ¢ä¸ºæ–°çš„SSA_NAME 3. éå†æ­¤bbåœ¨å‡½æ•°CFGä¸­æ‰€æœ‰çš„åç»§bb, å¡«å……åç»§bbä¸­æ‰€æœ‰phiæŒ‡ä»¤çš„ä¸€ä¸ªå‚æ•°(ç¬¬xä¸ªå‚æ•°,xä¸ºæ­¤bbåœ¨å…¶åç»§bbçš„æ‰€æœ‰å‰é©±ç»“ç‚¹ä¸­çš„ç¼–å·)*/edge rewrite_dom_walker::before_dom_children (basic_block bb)&#123; ...... block_defs_stack.safe_push (NULL_TREE); /* åœ¨stackä¸­åšä¸€ä¸ªæ ‡è®°,ä»£è¡¨å½“å‰å¼€å§‹å¤„ç†ä¸€ä¸ªæ–°çš„bb */ /* å¯¹äºä¸€ä¸ªå˜é‡xæ¥è¯´,å…¶phiå‡½æ•°çš„ä½œç”¨å°±æ˜¯åœ¨SSAåŒ–çš„è¿‡ç¨‹ä¸­ä¸ºphiå‡½æ•°æ‰€åœ¨bbæ•´åˆæ­¤å˜é‡åœ¨å…¶å„ä¸ªå‰é©±bbä¸­çš„å®šä¹‰, æ•…åœ¨SSAåŒ–çš„é‡å†™é˜¶æ®µ,è‹¥ä¸€ä¸ªå˜é‡åœ¨æŸä¸ªbbä¸­æœ‰phiå‡½æ•°,é‚£ä¹ˆphiå‡½æ•°çš„è¿”å›å€¼(xçš„ä¸€ä¸ªSSA_NAME,è§insert_phi_nodes)ä¼šä½œä¸ºåˆ†ææ­¤bbæ—¶xçš„æœ€æ–°å®šä¹‰. è¿™é‡Œæ˜¯å°†å½“å‰bbçš„æ‰€æœ‰phiå‡½æ•°çš„è¿”å›å€¼,è®¾ç½®ä¸ºå…¶å¯¹åº”å˜é‡çš„æœ€æ–°å®šä¹‰(å˜é‡çš„var_info.currdef) */ for (gphi_iterator gsi = gsi_start_phis (bb); !gsi_end_p (gsi); gsi_next (&amp;gsi)) &#123; /* è·å–gphiæŒ‡ä»¤çš„è¿”å›å€¼ç»“ç‚¹,å…¶å¿…ä¸ºä¸€ä¸ªSSA_NAMEç»“ç‚¹,è§phiå‡½æ•°çš„åˆ›å»ºè¿‡ç¨‹ pass_build_ssa =&gt; insert_phi_nodes =&gt; insert_phi_nodes_for =&gt; create_phi_node */ tree result = gimple_phi_result (gsi_stmt (gsi)); /* è·å–æ­¤phiå‡½æ•°è¿”å›å€¼ç»“ç‚¹ */ /* å°†è¿”å›å€¼ç»“ç‚¹è®¾ç½®ä¸ºå…¶åŸå§‹å˜é‡çš„currdef, å¦‚: è‹¥å½“result ä¸ºSSA_NAME x_1, åˆ™ SSA_NAME_VAR (result)ä¸ºå˜é‡x,è¿™é‡Œè®¾ç½® xçš„var_info.curredef = (tree)x_1; */ register_new_def (result, SSA_NAME_VAR (result)); &#125; if (bitmap_bit_p (interesting_blocks, bb-&gt;index)) /* è‹¥å½“å‰bbåœ¨å‰é¢def/useåˆ†æä¸­å‘ç°å…¶ä¸­è‡³å°‘å­˜åœ¨ä¸€ä¸ªdef/use */ /* éå†å½“å‰bbä¸­çš„æ¯ä¸€æ¡è¯­å¥,å¹¶ä¿®æ”¹æ¯æ¡è¯­å¥ä¸­éœ€è¦è¢«é‡å†™çš„æ“ä½œæ•°ï¼Œæ³¨æ„è¿™é‡Œéå†çš„æ˜¯bb-&gt;gimple_df-&gt;seqs, è€Œä¸æ˜¯phi_nodes */ for (gimple_stmt_iterator gsi = gsi_start_bb (bb); !gsi_end_p (gsi); gsi_next (&amp;gsi)) rewrite_stmt (&amp;gsi); /* æ­¤å‡½æ•°è´Ÿè´£å¯¹ä¸€æ¡æŒ‡ä»¤(stmt)è¿›è¡Œé‡å†™ */ /* å½“å‰bbé‡å†™å®Œæ¯•(SSAåŒ–å®Œæ¯•),åˆ™æ‰€æœ‰çš„å˜é‡éƒ½å·²ç»å˜ä¸ºå…¶SSAå½¢å¼äº†,æ­¤æ—¶éœ€è¦ä¸ºå…¶æ‰€æœ‰åç»§ç»“ç‚¹å¡«å……æ‰€æœ‰phiå‡½æ•°çš„ç¬¬iä¸ªå‚æ•°, iä¸ºæ­¤bbåœ¨å…¶åç»§çš„å‰é©±ç»“ç‚¹ä¸­çš„ç¼–å· */ rewrite_add_phi_arguments (bb); return NULL;&#125; /* æ­¤å‡½æ•°è´Ÿè´£é‡å†™si-&gt;ptrè¿™æ¡è¯­å¥(stmt)ä¸­çš„æ‰€æœ‰def/use,å°†æ­¤stmt SSAåŒ–, å…¶å¤„ç†é¡ºåºæ˜¯å…ˆå¤„ç†useåå¤„ç†def,è¿™ä¹Ÿç¬¦åˆæ­£å¸¸ä¸€æ¡æŒ‡ä»¤æ‰§è¡Œçš„é€»è¾‘,stmtä¸­: * å‘ç°æ‰€æœ‰å¯¹åŸå§‹å˜é‡varçš„useçš„æ“ä½œæ•°æŒ‡é’ˆ,éƒ½ä¼šè¢«æ”¹ä¸º(æŒ‡å‘)å¯¹å…¶currdefè¿™ä¸ªSSA_NAMEç»“ç‚¹ * å‘ç°æ‰€æœ‰å¯¹åŸå§‹å˜é‡varçš„def,éƒ½ä¼šå…ˆä¸ºå˜é‡varæ–°ç”Ÿæˆä¸€ä¸ªSSA_NAME,å¹¶å°†defæ“ä½œæ•°çš„æŒ‡é’ˆæ”¹ä¸º(æŒ‡å‘)æ–°SSA_NAMEç»“ç‚¹,å¹¶å°†æ–°çš„SSA_NAMEæ›´æ–°åˆ°å˜é‡varçš„currdef*/static void rewrite_stmt (gimple_stmt_iterator *si)&#123; gimple *stmt = gsi_stmt (*si); /* è‹¥å½“å‰è¯­å¥ä¸­æ²¡æœ‰éœ€è¦è¢«é‡å†™çš„use/def,åˆ™ç›´æ¥è¿”å› */ if (!rewrite_uses_p (stmt) &amp;&amp; !register_defs_p (stmt)) return; if (rewrite_uses_p (stmt)) /* 1.è‹¥å½“å‰è¯­å¥ä¸­å­˜åœ¨éœ€è¦è¢«é‡å†™çš„use operands,åˆ™å…ˆé‡å†™usesæ‰€æœ‰çš„usesæ“ä½œæ•° */ &#123; ...... /* éå†å½“å‰stmtçš„real useé“¾è¡¨(stmt-&gt;use_ops),å…¶ä¸­è®°å½•äº†å½“å‰stmt SSAåŒ–æ—¶éœ€è¦è¢«ä¿®æ”¹çš„USEæ“ä½œæ•°, å¹¶å°†å…¶ä¿®æ”¹ä¸ºå¯¹åº”å˜é‡çš„å½“å‰SSA_NAMEå®šä¹‰ å¦‚ y = x; è‹¥æ­¤æŒ‡ä»¤è§£æå‰xçš„å½“å‰å®šä¹‰ä¸ºx_1,åˆ™è¿™é‡Œå°†æŒ‡ä»¤ä¿®æ”¹ä¸º y = x_1; */ FOR_EACH_SSA_USE_OPERAND (use_p, stmt, iter, SSA_OP_ALL_USES) &#123; /* use_p-&gt;use æŒ‡å‘æ­¤stmtçš„ä¸€ä¸ªæ“ä½œæ•°çš„å†…å­˜,è¿™é‡Œå…ˆè·å–å…¶åŸå§‹æ“ä½œæ•°var(å³ var = *use_p-&gt;use) */ tree var = USE_FROM_PTR (use_p); ...... /* ä¿®æ”¹æ­¤æ“ä½œæ•°ä¸ºå˜é‡varçš„å½“å‰å®šä¹‰(currdef), å³ *use_p-&gt;use = var_1; (è‹¥currdefä¸ºvar_1) */ SET_USE (use_p, get_reaching_def (var)); &#125; &#125; if (register_defs_p (stmt)) /* 2. è‹¥å½“å‰è¯­å¥ä¸­å­˜åœ¨éœ€è¦è¢«é‡å†™çš„def operands(è§mark_def_sites),åˆ™é‡å†™æ‰€æœ‰çš„defsæ“ä½œæ•° */ FOR_EACH_SSA_DEF_OPERAND (def_p, stmt, iter, SSA_OP_ALL_DEFS) &#123; tree var = DEF_FROM_PTR (def_p); /* ä»stmtä¸­çš„defæ“ä½œæ•°ä¸­è¯»å–å½“å‰è¢«defçš„å˜é‡çš„æ ‘èŠ‚ç‚¹ */ tree name; ...... if (TREE_CODE (var) == SSA_NAME) continue; /* å¿½ç•¥SSA_NAME */ gcc_checking_assert (DECL_P (var)); ...... name = make_ssa_name (var, stmt); /* ä¸ºå˜é‡varæ–°çš„defç‚¹é‡æ–°åˆ†é…ä¸€ä¸ªvarçš„SSA_NAME */ SET_DEF (def_p, name); /* å°†stmtæŸæ“ä½œæ•°ä¸­çš„å˜é‡varä¿®æ”¹ä¸ºå…¶SSA_NAME,å°†å®šä¹‰è½¬åŒ–ä¸ºé™æ€å•èµ‹å€¼å½¢å¼ */ /* åœ¨æ”¯é…æ ‘çš„DFSéå†ä¸­, å˜é‡varçš„å½“å‰å®šä¹‰æ­¤æ—¶å·²ç»å˜ä¸ºäº†æ–°ç”Ÿæˆçš„SSA_NAME name, å°†å…¶æ›´æ–°åˆ°å˜é‡varçš„currdefä¸­,åç»­å†å‡ºç°çš„useåˆ™ä½¿ç”¨æ­¤æ–°çš„def, éœ€è¦æ³¨æ„çš„æ˜¯è¿™é‡Œ,è¿™é‡Œä¼šåœ¨å…¨å±€block_defs_stackä¸­ä¿å­˜æ‰€æœ‰æ—§çš„def,åœ¨rewrite_dom_walker::after_dom_childrenä¼šæ¢å¤å·²æœ‰ä¿®æ”¹, å› ä¸º åœ¨æ”¯é…æ ‘çš„DFSéå†ä¸­è‹¥æœ‰ A=&gt;B, A=&gt;C; é‚£ä¹ˆåˆ†æBæ—¶äº§ç”Ÿçš„defåªä½œç”¨äºBä»¥åŠå…¶æ‰€æœ‰sub bb, è€Œå½“å›åˆ°Aé‡æ–°éå†Cæ—¶è¦é‡æ–°ä½¿ç”¨Aä¸­çš„defç»§ç»­åˆ†æ, æ‰€ä»¥è¿™é‡Œä¼šæœ‰ä¸€ä¸ªå…¥æ ˆæ“ä½œ.after_dom_childrenä¸­å®Œæˆå‡ºæ ˆæ“ä½œ */ register_new_def (DEF_FROM_PTR (def_p), var); ...... &#125;&#125; /* åœ¨ä¸€ä¸ªbbåŠå…¶æ‰€æœ‰sub bbå¤„ç†å®Œæˆå,è¦æ¢å¤æ­¤bbä¸­çš„æ‰€æœ‰currdef,æ¢å¤åæ‰å¯ä»¥ç»§ç»­éå†æ­¤bbçš„å…„å¼Ÿbb,æ­¤å‡½æ•°åˆ™å®Œæˆcurrdefçš„æ¢å¤æ“ä½œ */void rewrite_dom_walker::after_dom_children (basic_block bb ATTRIBUTE_UNUSED)&#123; while (block_defs_stack.length () &gt; 0) /* éå†defæ ˆä¸­çš„æ‰€æœ‰å†…å®¹, å…¶æ’å…¥ç‚¹æ˜¯ä¸Šé¢çš„register_new_defå‡½æ•° */ &#123; tree tmp = block_defs_stack.pop (); /* è·å–stackä¸­ä¸€ä¸ªè¦æ¢å¤çš„SSA_NAME */ tree saved_def, var; if (tmp == NULL_TREE) break; /* éå†å½“NULL_TREEä»£è¡¨å½“å‰bbä¹‹å‰çš„æ‰€æœ‰å…¥æ ˆå¤„ç†å®Œæ¯•,NULL_TREEåœ¨æ ˆä¸­ä½œä¸ºåˆ†éš”ç¬¦åˆ†éš”å„ä¸ªbbçš„æ ˆä¿¡æ¯ */ if (TREE_CODE (tmp) == SSA_NAME) &#123; /* å¤§å¤šæ•°æƒ…å†µä¸‹ä¹‹å‰pushè¿›æ¥çš„ç»“ç‚¹ä¸ºæŸä¸ªå˜é‡çš„SSA_NAMEç»“ç‚¹ */ saved_def = tmp; /* å½“å‰éœ€è¦æ¢å¤çš„SSA_NAME */ var = SSA_NAME_VAR (saved_def); /* è·å–SSA_NAMEçš„åŸå§‹å˜é‡ */ ...... &#125; else &#123; /* éSSA_NAMEåˆ™è¯´æ˜pushåˆ°åŸå§‹å˜é‡äº†,è¯´æ˜åœ¨å½“å‰bbçš„çˆ¶èŠ‚ç‚¹ä¹‹å‰æ²¡æœ‰å˜é‡varçš„defå‡ºç° */ saved_def = NULL; /* æ²¡æœ‰defå‡ºç°æ—¶æ ‡è®°saved_defä¸ºç©º */ var = tmp; /* tmoå³ä¸ºåŸå§‹å˜é‡ */ &#125; /* varä¸ºåŸå§‹å˜é‡,å…ˆæ‰¾åˆ°å…¶var_infoç»“æ„ä½“,ç„¶åæ¢å¤å…¶ä¹‹å‰å®šä¹‰ä¸º saved_def */ get_common_info (var)-&gt;current_def = saved_def; &#125;&#125; /* æ­¤å‡½æ•°è´Ÿè´£éå†å½“å‰bbåœ¨å‡½æ•°CFGä¸­çš„æ‰€æœ‰åç»§bb, éå†æ¯ä¸ªåç»§bbä¸­çš„æ¯ä¸€æ¡phiæŒ‡ä»¤,å…¶ç›®çš„æ˜¯ä¸ºäº†å¡«å……æ‰€æœ‰bbä¸­æ‰€æœ‰phiå‡½æ•°çš„ä¸€ä¸ªå‚æ•°, åç»§bbä¸­æ‰€æœ‰phiå‡½æ•°çš„å‚æ•°éƒ½æ¥è‡ªå…¶å‰é©±bb,åœ¨å…¶å‰é©±bb SSAåŒ–åè¦ç«‹å³ä¸ºå…¶æ‰€æœ‰åç»­bbæ·»åŠ SSAåŒ–åçš„å‚æ•°*/static void rewrite_add_phi_arguments (basic_block bb)&#123; edge e; edge_iterator ei; FOR_EACH_EDGE (e, ei, bb-&gt;succs) /* éå†å½“å‰bbçš„æ‰€æœ‰ç›´æ¥åç»§bb,è¿™é‡Œéå†çš„æ˜¯è¾¹ */ &#123; gphi *phi; gphi_iterator gsi; for (gsi = gsi_start_phis (e-&gt;dest); !gsi_end_p (gsi); gsi_next (&amp;gsi)) /* éå†æ¯ä¸ªåç»§bbä¸­çš„æ‰€æœ‰phiè¯­å¥ */ &#123; phi = gsi.phi (); res = gimple_phi_result (phi); /* è·å–phiå‡½æ•°çš„è¿”å›å€¼èŠ‚ç‚¹, ä¹Ÿå°±æ˜¯æ­¤gphiè¯­å¥ä¸­æœ€ç»ˆdefçš„é‚£ä¸ª SSA_NAME */ /* SSA_NAME_VAR (res))è·å–ssa name å¯¹åº”çš„varèŠ‚ç‚¹, è€Œget_reaching_def åˆ™è·å–varå˜é‡å½“å‰æœ€æ–°çš„defæ˜¯å“ªä¸ªå˜é‡, å¦‚reså¯èƒ½æ˜¯var_1 = Ï†(,...) ä¸­çš„var_1(SSA_NAME),è€Œè¿”å›çš„currdefæ˜¯varçš„æœ€æ–°å®šä¹‰(å¯èƒ½æ˜¯var_3,ä¹Ÿæ˜¯ä¸ªSSA_NAME) */ currdef = get_reaching_def (SSA_NAME_VAR (res)); ...... /* å°†currdefè®°å½•åˆ° phiå‡½æ•°çš„ç¬¬xä¸ªå‚æ•°ä¸­(phi.arg[x].def),å¹¶å¢åŠ currdefè¿™ä¸ªSSA_NAMEçš„useé“¾è¡¨(å°†phi.arg[x].imm_use é“¾æ¥åˆ°currdef.imm_useä½¿ç”¨é“¾ä¸­),è¿™é‡Œçš„xæ˜¯ eè¿™æ¡è¾¹åœ¨e-&gt;destç»“ç‚¹ä¸­çš„å‰é©±è¾¹ç¼–å·(å½“å‰bbåœ¨å…¶æŸåç»§ç»“ç‚¹ä¸­çš„å‰é©±ç»“ç‚¹ç¼–å·) */ add_phi_arg (phi, currdef, e, loc); &#125; &#125;&#125; SSAåŸºæœ¬æ¦‚å¿µåŠåŸç†å‚è€ƒæ–‡ç«  ç¨‹åºåˆ†æä¹‹ä¸­é—´è¡¨ç¤º gccä¸­çš„æ”¯é…æ ‘ åŸæ–‡é“¾æ¥","categories":[{"name":"SSA","slug":"SSA","permalink":"https://lwy0518.github.io/categories/SSA/"}],"tags":[{"name":"SSA","slug":"SSA","permalink":"https://lwy0518.github.io/tags/SSA/"},{"name":"gcc","slug":"gcc","permalink":"https://lwy0518.github.io/tags/gcc/"},{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://lwy0518.github.io/tags/%E7%AE%97%E6%B3%95/"},{"name":"ç¼–è¯‘åŸç†","slug":"ç¼–è¯‘åŸç†","permalink":"https://lwy0518.github.io/tags/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/"}],"author":"lwy"},{"title":"Hexo NexT ä¸»é¢˜æ›´æ–°","slug":"Hexo-NexT-ä¸»é¢˜æ›´æ–°","date":"2021-12-22T02:32:43.000Z","updated":"2021-12-22T02:59:01.322Z","comments":true,"path":"2021/12/22/Hexo-NexT-ä¸»é¢˜æ›´æ–°/","link":"","permalink":"https://lwy0518.github.io/2021/12/22/Hexo-NexT-%E4%B8%BB%E9%A2%98%E6%9B%B4%E6%96%B0/","excerpt":"æ›´æ–°Nextä¸»é¢˜12$ rm -rf ./themes/next$ cnpm install hexo-theme-next å®‰è£…ç¬¬ä¸‰æ–¹æ’ä»¶æ¨¡å—å®‰è£…1$ cnpm install @next-theme/plugins é…ç½®1$ vim _config.next.yml å¤åˆ¶ä»¥ä¸‹ä»£ç åˆ°_config.next.yml 12vendors: plugins: local","text":"æ›´æ–°Nextä¸»é¢˜12$ rm -rf ./themes/next$ cnpm install hexo-theme-next å®‰è£…ç¬¬ä¸‰æ–¹æ’ä»¶æ¨¡å—å®‰è£…1$ cnpm install @next-theme/plugins é…ç½®1$ vim _config.next.yml å¤åˆ¶ä»¥ä¸‹ä»£ç åˆ°_config.next.yml 12vendors: plugins: local","categories":[{"name":"hexo","slug":"hexo","permalink":"https://lwy0518.github.io/categories/hexo/"}],"tags":[{"name":"hexo","slug":"hexo","permalink":"https://lwy0518.github.io/tags/hexo/"},{"name":"Blog","slug":"Blog","permalink":"https://lwy0518.github.io/tags/Blog/"}],"author":"lwy"},{"title":"Typoraå¿«æ·é”®","slug":"Typoraå¿«æ·é”®","date":"2021-12-21T07:46:50.000Z","updated":"2021-12-22T03:24:17.737Z","comments":true,"path":"2021/12/21/Typoraå¿«æ·é”®/","link":"","permalink":"https://lwy0518.github.io/2021/12/21/Typora%E5%BF%AB%E6%8D%B7%E9%94%AE/","excerpt":"Typoraå¿«æ·é”®","text":"Typoraå¿«æ·é”® åŸæ–‡é“¾æ¥ æºç æ¨¡å¼1ctrl+/ ç”Ÿæˆç›®å½•1[TOC]æŒ‰å›è½¦ ä»£ç å—1ctrl+alt+f ä»£ç 1ctrl+shift+` æ ‡é¢˜1ctrl+æ•°å­— è¡¨æ ¼1ctrl+t é€‰ä¸­ä¸€è¡Œ1ctrl+l é€‰ä¸­å•è¯1ctrl+d é€‰ä¸­ç›¸åŒæ ¼å¼çš„æ–‡å­—1ctrl+e è·³è½¬åˆ°æ–‡ç« å¼€å¤´1ctrl+home è·³è½¬åˆ°æ–‡ç« ç»“å°¾1ctrl+end æœç´¢1ctrl+f æ›¿æ¢1ctrl+h ä¸‹åˆ’çº¿1ctrl+u åˆ é™¤çº¿1alt+shift+5 æ’å…¥å›¾ç‰‡1ç›´æ¥æ‹–åŠ¨åˆ°æŒ‡å®šä½ç½®å³å¯æˆ–è€…ctrl+shift+i æ’å…¥é“¾æ¥1ctrl + k å¼•ç”¨1&gt; åŠ ç²—1ctrl + b å€¾æ–œ1ctrl + i æ·»åŠ å‚è€ƒæ–‡çŒ®1[^1] # ^ åé¢æ·»åŠ æ•°å­—","categories":[{"name":"Markdown","slug":"Markdown","permalink":"https://lwy0518.github.io/categories/Markdown/"}],"tags":[{"name":"Typora","slug":"Typora","permalink":"https://lwy0518.github.io/tags/Typora/"},{"name":"Markdown","slug":"Markdown","permalink":"https://lwy0518.github.io/tags/Markdown/"}],"author":"lwy"},{"title":"æ±¡ç‚¹åˆ†æ","slug":"æ±¡ç‚¹åˆ†æ","date":"2021-12-21T07:22:46.029Z","updated":"2021-12-22T02:58:43.530Z","comments":true,"path":"2021/12/21/æ±¡ç‚¹åˆ†æ/","link":"","permalink":"https://lwy0518.github.io/2021/12/21/%E6%B1%A1%E7%82%B9%E5%88%86%E6%9E%90/","excerpt":"æ±¡ç‚¹åˆ†ææŠ€æœ¯ åŸºæœ¬åŸç† æ±¡ç‚¹åˆ†æå®šä¹‰ è¯†åˆ«æ±¡ç‚¹æºå’Œæ±‡èšç‚¹ æ±¡ç‚¹ä¼ æ’­åˆ†æ æ˜¾ç¤ºæµåˆ†æ éšå¼æµåˆ†æ æ— å®³å¤„ç† æ±¡ç‚¹ä¼ æ’­åˆ†æçš„å…³é”®æŠ€æœ¯ æ±¡ç‚¹ä¼ æ’­ä¸­çš„æ˜¾ç¤ºæµåˆ†æ é™æ€åˆ†ææŠ€æœ¯ åŠ¨æ€åˆ†ææŠ€æœ¯ ç¡¬ä»¶ åŸºäºè½¯ä»¶ æ··åˆå‹ æ±¡ç‚¹ä¼ æ’­ä¸­çš„éšå¼æµåˆ†æ é™æ€åˆ†ææŠ€æœ¯ åŠ¨æ€åˆ†ææŠ€æœ¯","text":"æ±¡ç‚¹åˆ†ææŠ€æœ¯ åŸºæœ¬åŸç† æ±¡ç‚¹åˆ†æå®šä¹‰ è¯†åˆ«æ±¡ç‚¹æºå’Œæ±‡èšç‚¹ æ±¡ç‚¹ä¼ æ’­åˆ†æ æ˜¾ç¤ºæµåˆ†æ éšå¼æµåˆ†æ æ— å®³å¤„ç† æ±¡ç‚¹ä¼ æ’­åˆ†æçš„å…³é”®æŠ€æœ¯ æ±¡ç‚¹ä¼ æ’­ä¸­çš„æ˜¾ç¤ºæµåˆ†æ é™æ€åˆ†ææŠ€æœ¯ åŠ¨æ€åˆ†ææŠ€æœ¯ ç¡¬ä»¶ åŸºäºè½¯ä»¶ æ··åˆå‹ æ±¡ç‚¹ä¼ æ’­ä¸­çš„éšå¼æµåˆ†æ é™æ€åˆ†ææŠ€æœ¯ åŠ¨æ€åˆ†ææŠ€æœ¯ æ±¡ç‚¹åˆ†ææ–¹æ³•å®ç°å®ä¾‹åˆ†æ é™æ€æ±¡ç‚¹åˆ†ææŠ€æœ¯ åŸºäºæ•°æ®æµçš„æ±¡ç‚¹åˆ†æ åŸºäºä¾èµ–å…³ç³»çš„æ±¡ç‚¹åˆ†æ é™æ€æ±¡ç‚¹åˆ†æå®ä¾‹åˆ†æ åŠ¨æ€æ±¡ç‚¹åˆ†ææŠ€æœ¯ åŠ¨æ€æ±¡ç‚¹åˆ†æçš„æ–¹æ³•å®ç° æ±¡ç‚¹æ•°æ®æ ‡è®° æ±¡ç‚¹åŠ¨æ€è·Ÿè¸ª æ±¡ç‚¹è¯¯ç”¨æ£€æŸ¥ å®ä¾‹åˆ†æ æ±¡ç‚¹åˆ†æåœ¨å®é™…åº”ç”¨ä¸­çš„å…³é”®æŠ€æœ¯ æ£€æµ‹æ™ºèƒ½æ‰‹æœºéšç§æ³„éœ² é™æ€æ±¡ç‚¹åˆ†æ ç»„ä»¶å†…æ±¡ç‚¹ä¼ æ’­åˆ†æ ç»„ä»¶é—´æ±¡ç‚¹ä¼ æ’­åˆ†æ ç»„ä»¶ä¸åº“å‡½æ•°ä¹‹é—´çš„æ±¡ç‚¹ä¼ æ’­åˆ†æ åŠ¨æ€æ±¡ç‚¹åˆ†æ ç»„ä»¶å†…æ±¡ç‚¹ä¼ æ’­åˆ†æ ç»„ä»¶é—´æ±¡ç‚¹ä¼ æ’­åˆ†æ ç»„ä»¶ä¸æœ¬åœ°åº“å‡½æ•°é—´çš„æ±¡ç‚¹ä¼ æ’­ æ€»ç»“ å‚è€ƒæ–‡çŒ® æ±¡ç‚¹åˆ†ææŠ€æœ¯åŸºæœ¬åŸç†æ±¡ç‚¹åˆ†æå®šä¹‰æ±¡ç‚¹åˆ†æå¯ä»¥æŠ½è±¡æˆä¸€ä¸ª**ä¸‰å…ƒç»„&lt;sources,sinks,sanitizers&gt;**çš„å½¢å¼ï¼Œå…¶ä¸­ï¼Œsource å³æ±¡ç‚¹æºï¼Œä»£è¡¨ç›´æ¥å¼•å…¥ä¸å—ä¿¡ä»»çš„æ•°æ®æˆ–è€…æœºå¯†æ•°æ®åˆ°ç³»ç»Ÿä¸­ï¼›sink å³æ±¡ç‚¹æ±‡èšç‚¹ï¼Œä»£è¡¨ç›´æ¥äº§ç”Ÿå®‰å…¨æ•æ„Ÿæ“ä½œ(è¿åæ•°æ®å®Œæ•´æ€§)æˆ–è€…æ³„éœ²éšç§æ•°æ®åˆ°å¤–ç•Œ(è¿åæ•°æ®ä¿å¯†æ€§)ï¼›sanitizer å³æ— å®³å¤„ç†ï¼Œä»£è¡¨é€šè¿‡æ•°æ®åŠ å¯†æˆ–è€…ç§»é™¤å±å®³æ“ä½œç­‰æ‰‹æ®µä½¿æ•°æ®ä¼ æ’­ä¸å†å¯¹è½¯ä»¶ç³»ç»Ÿçš„ä¿¡æ¯å®‰å…¨äº§ç”Ÿå±å®³ã€‚ æ±¡ç‚¹åˆ†æå°±æ˜¯åˆ†æç¨‹åºä¸­ç”±æ±¡ç‚¹æºå¼•å…¥çš„æ•°æ®æ˜¯å¦èƒ½å¤Ÿä¸ç»æ— å®³å¤„ç†ï¼Œè€Œç›´æ¥ä¼ æ’­åˆ°æ±¡ç‚¹æ±‡èšç‚¹ã€‚å¦‚æœä¸èƒ½ï¼Œè¯´æ˜ç³»ç»Ÿæ˜¯ä¿¡æ¯æµå®‰å…¨çš„ï¼›å¦åˆ™ï¼Œè¯´æ˜ç³»ç»Ÿäº§ç”Ÿäº†éšç§æ•°æ®æ³„éœ²æˆ–å±é™©æ•°æ®æ“ä½œç­‰å®‰å…¨é—®é¢˜ã€‚ åœ¨æ¼æ´åˆ†æä¸­ï¼Œä½¿ç”¨æ±¡ç‚¹åˆ†ææŠ€æœ¯å°†æ‰€æ„Ÿå…´è¶£çš„æ•°æ®(é€šå¸¸æ¥è‡ªç¨‹åºçš„å¤–éƒ¨è¾“å…¥ï¼Œå‡å®šæ‰€æœ‰è¾“å…¥éƒ½æ˜¯å±é™©çš„)æ ‡è®°ä¸ºæ±¡ç‚¹æ•°æ®ï¼Œç„¶åé€šè¿‡è·Ÿè¸ªå’Œæ±¡ç‚¹æ•°æ®ç›¸å…³çš„ä¿¡æ¯çš„æµå‘ï¼Œå¯ä»¥çŸ¥é“å®ƒä»¬æ˜¯å¦ä¼šå½±å“æŸäº›å…³é”®çš„ç¨‹åºæ“ä½œï¼Œè¿›è€ŒæŒ–æ˜ç¨‹åºæ¼æ´ã€‚å³å°†ç¨‹åºæ˜¯å¦å­˜åœ¨æŸç§æ¼æ´çš„é—®é¢˜è½¬åŒ–ä¸ºæ±¡ç‚¹ä¿¡æ¯æ˜¯å¦ä¼šè¢« Sink ç‚¹ä¸Šçš„æ“ä½œæ‰€ä½¿ç”¨çš„é—®é¢˜ã€‚ æ±¡ç‚¹åˆ†æå¸¸å¸¸åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªéƒ¨åˆ†(å¦‚å›¾ 2 æ‰€ç¤º)ï¼š è¯†åˆ«æ±¡ç‚¹ä¿¡æ¯åœ¨ç¨‹åºä¸­çš„äº§ç”Ÿç‚¹ï¼ˆSourceç‚¹ï¼‰å¹¶å¯¹æ±¡ç‚¹ä¿¡æ¯è¿›è¡Œæ ‡è®°(æ ¹æ®æ‰€åˆ†æçš„ç³»ç»Ÿçš„ä¸åŒä½¿ç”¨å®šåˆ¶çš„è¯†åˆ«ç­–ç•¥) æ±¡ç‚¹ä¼ æ’­åˆ†æ(åˆ©ç”¨ç‰¹å®šçš„è§„åˆ™è·Ÿè¸ªåˆ†ææ±¡ç‚¹ä¿¡æ¯åœ¨ç¨‹åºä¸­çš„ä¼ æ’­è¿‡ç¨‹) æ¼æ´æ£€æµ‹ã€æ— å®³å¤„ç†(åœ¨ä¸€äº›å…³é”®çš„ç¨‹åºç‚¹ï¼ˆSinkç‚¹ï¼‰æ£€æµ‹å…³é”®çš„æ“ä½œæ˜¯å¦ä¼šå—åˆ°æ±¡ç‚¹ä¿¡æ¯çš„å½±å“) è¯†åˆ«æ±¡ç‚¹æºå’Œæ±‡èšç‚¹è¯†åˆ«æ±¡ç‚¹æºå’Œæ±¡ç‚¹æ±‡èšç‚¹æ˜¯æ±¡ç‚¹åˆ†æçš„å‰æã€‚ç›®å‰ï¼Œåœ¨ä¸åŒçš„åº”ç”¨ç¨‹åºä¸­è¯†åˆ«æ±¡ç‚¹æºå’Œæ±‡èšç‚¹çš„æ–¹æ³•å„ä¸ç›¸åŒã€‚ç¼ºä¹é€šç”¨æ–¹æ³•çš„åŸå› ä¸€æ–¹é¢æ¥è‡ªç³»ç»Ÿæ¨¡å‹ã€ç¼–ç¨‹è¯­è¨€ä¹‹é—´çš„å·®å¼‚ã€‚å¦ä¸€æ–¹é¢ï¼Œæ±¡ç‚¹åˆ†æå…³æ³¨çš„å®‰å…¨æ¼æ´ç±»å‹ä¸åŒï¼Œä¹Ÿä¼šå¯¼è‡´å¯¹æ±¡ç‚¹æºå’Œæ±¡ç‚¹æ±‡èšç‚¹çš„æ”¶é›†æ–¹æ³•è¿¥å¼‚ã€‚è¡¨ 1 æ‰€ç¤ºä¸ºåœ¨ Web åº”ç”¨ç¨‹åºæ¼æ´æ£€æµ‹ä¸­çš„æ±¡ç‚¹æºç¤ºä¾‹[^1]ï¼Œå®ƒä»¬æ˜¯ Web æ¡†æ¶ä¸­å…³é”®å¯¹è±¡çš„å±æ€§ã€‚ ç°æœ‰çš„è¯†åˆ«æ±¡ç‚¹æºå’Œæ±‡èšç‚¹çš„æ–¹æ³•å¯ä»¥å¤§è‡´åˆ†æˆ 3 ç±»: ä½¿ç”¨å¯å‘å¼çš„ç­–ç•¥è¿›è¡Œæ ‡è®°,ä¾‹å¦‚æŠŠæ¥è‡ªç¨‹åºå¤–éƒ¨è¾“å…¥çš„æ•°æ®ç»Ÿç§°ä¸ºâ€œæ±¡ç‚¹â€æ•°æ®,ä¿å®ˆåœ°è®¤ä¸ºè¿™äº›æ•°æ®æœ‰å¯èƒ½åŒ…å«æ¶æ„çš„æ”»å‡»æ•°æ®(å¦‚ PHP Aspis)ï¼› æ ¹æ®å…·ä½“åº”ç”¨ç¨‹åºè°ƒç”¨çš„ API æˆ–è€…é‡è¦çš„æ•°æ®ç±»å‹,æ‰‹å·¥æ ‡è®°æºå’Œæ±‡èšç‚¹(å¦‚ DroidSafe[^2])ï¼› ä½¿ç”¨ç»Ÿè®¡æˆ–æœºå™¨å­¦ä¹ æŠ€æœ¯è‡ªåŠ¨åœ°è¯†åˆ«å’Œæ ‡è®°æ±¡ç‚¹æºåŠæ±‡èšç‚¹[^3]ã€‚ æ±¡ç‚¹ä¼ æ’­åˆ†ææ±¡ç‚¹ä¼ æ’­åˆ†æå°±æ˜¯åˆ†ææ±¡ç‚¹æ ‡è®°æ•°æ®åœ¨ç¨‹åºä¸­çš„ä¼ æ’­é€”å¾„.æŒ‰ç…§åˆ†æè¿‡ç¨‹ä¸­å…³æ³¨çš„ç¨‹åºä¾èµ–å…³ç³»çš„ä¸åŒ, å¯ä»¥å°†æ±¡ç‚¹ä¼ æ’­åˆ†æåˆ†ä¸ºæ˜¾å¼æµåˆ†æå’Œéšå¼æµåˆ†æã€‚ æ˜¾ç¤ºæµåˆ†ææ±¡ç‚¹ä¼ æ’­åˆ†æä¸­çš„æ˜¾å¼æµåˆ†æå°±æ˜¯åˆ†ææ±¡ç‚¹æ ‡è®°å¦‚ä½•éšç¨‹åºä¸­å˜é‡ä¹‹é—´çš„æ•°æ®ä¾èµ–å…³ç³»ä¼ æ’­ ä»¥å›¾ 3 æ‰€ ç¤ºçš„ç¨‹åºä¸ºä¾‹,å˜é‡ a å’Œ b è¢«é¢„å®šä¹‰çš„æ±¡ç‚¹æºå‡½æ•° source æ ‡è®°ä¸ºæ±¡ç‚¹æº.å‡è®¾ a å’Œ b è¢«èµ‹äºˆçš„æ±¡ç‚¹æ ‡è®°åˆ†åˆ«ä¸ºtaint_a å’Œ taint_b.ç”±äºç¬¬ 5 è¡Œçš„å˜é‡ x ç›´æ¥æ•°æ®ä¾èµ–äºå˜é‡ a,ç¬¬ 6 è¡Œçš„å˜é‡ y ç›´æ¥æ•°æ®ä¾èµ–äºå˜é‡ b,æ˜¾å¼æµåˆ†æä¼šåˆ†åˆ«å°†æ±¡ç‚¹æ ‡è®° taint_a å’Œ taint_b ä¼ æ’­ç»™ç¬¬ 5 è¡Œçš„å˜é‡ x å’Œç¬¬ 6 è¡Œçš„å˜é‡ y.åˆç”±äº x å’Œ y åˆ†åˆ«å¯ä»¥åˆ°è¾¾ç¬¬ 7 è¡Œå’Œç¬¬ 8 è¡Œçš„æ±¡ç‚¹æ±‡èšç‚¹(ç”¨é¢„å®šä¹‰çš„æ±¡ç‚¹æ±‡èšç‚¹å‡½æ•° sink æ ‡è¯†),å›¾ 3 æ‰€ç¤ºçš„ä»£ç å­˜åœ¨ä¿¡æ¯æ³„æ¼çš„é—®é¢˜.æˆ‘ä»¬å°†åœ¨åé¢å…·ä½“ä»‹ç»ç›®å‰æ±¡ç‚¹ä¼ æ’­åˆ†æä¸­æ˜¾å¼æµåˆ†æé¢ä¸´çš„ä¸»è¦æŒ‘æˆ˜å’Œè§£å†³æ–¹æ³•ã€‚ éšå¼æµåˆ†ææ±¡ç‚¹ä¼ æ’­åˆ†æä¸­çš„éšå¼æµåˆ†ææ˜¯åˆ†ææ±¡ç‚¹æ ‡è®°å¦‚ä½•éšç¨‹åºä¸­å˜é‡ä¹‹é—´çš„**æ§åˆ¶ä¾èµ–å…³ç³»ä¼ æ’­,**ä¹Ÿå°±æ˜¯åˆ†ææ±¡ç‚¹æ ‡è®°å¦‚ä½•ä»æ¡ä»¶æŒ‡ä»¤ä¼ æ’­åˆ°å…¶æ‰€æ§åˆ¶çš„è¯­å¥ã€‚ åœ¨å›¾ 4 æ‰€ç¤ºçš„ç¨‹åºä¸­,å˜é‡ X æ˜¯è¢«æ±¡ç‚¹æ ‡è®°çš„å­—ç¬¦ä¸²ç±»å‹å˜é‡,å˜é‡ Y å’Œå˜é‡ X ä¹‹é—´å¹¶æ²¡æœ‰ç›´æ¥æˆ–é—´æ¥çš„æ•°æ®ä¾èµ–å…³ç³»(æ˜¾å¼æµå…³ç³»),ä½† X ä¸Šçš„æ±¡ç‚¹æ ‡è®°å¯ä»¥ç»è¿‡æ§åˆ¶ä¾èµ–éšå¼åœ°ä¼ æ’­åˆ° Yã€‚ å…·ä½“æ¥è¯´,ç”±ç¬¬ 4 è¡Œçš„å¾ªç¯æ¡ä»¶æ§åˆ¶çš„å¤–å±‚å¾ªç¯é¡ºåºåœ°å–å‡º X ä¸­çš„æ¯ä¸€ä¸ªå­—ç¬¦,è½¬åŒ–æˆæ•´å‹åèµ‹ç»™å˜é‡ x,å†ç”±ç¬¬ 7 è¡Œçš„å¾ªç¯æ¡ä»¶æ§åˆ¶çš„å†…å±‚å¾ªç¯ä»¥ç´¯åŠ çš„æ–¹å¼å°† x çš„å€¼èµ‹ç»™ y,æœ€åç”±å¤–å±‚å¾ªç¯å°† y é€ä¸€ä¼ ç»™ Y.æœ€ç»ˆ,ç¬¬ 12 è¡Œçš„ Y å€¼å’Œ X å€¼ç›¸åŒ,ç¨‹åºå­˜åœ¨ä¿¡æ¯æ³„æ¼é—®é¢˜.ä½†æ˜¯,å¦‚æœä¸è¿›è¡Œéšå¼æµæ±¡ç‚¹ä¼ æ’­åˆ†æ,ç¬¬ 12 è¡Œ çš„å˜é‡ Y å°†ä¸ä¼šè¢«èµ‹äºˆæ±¡ç‚¹æ ‡è®°,ç¨‹åºçš„ä¿¡æ¯æ³„æ¼é—®é¢˜è¢«æ©ç›–. éšå¼æµæ±¡ç‚¹ä¼ æ’­ä¸€ç›´ä»¥æ¥éƒ½æ˜¯ä¸€ä¸ªé‡è¦çš„é—®é¢˜,å’Œæ˜¾å¼æµä¸€æ ·,å¦‚æœä¸è¢«æ­£ç¡®å¤„ç†,ä¼šä½¿æ±¡ç‚¹åˆ†æçš„ç»“æœä¸ç²¾ç¡®.ç”±äºå¯¹éšå¼æµæ±¡ç‚¹ä¼ æ’­å¤„ç†ä¸å½“å¯¼è‡´æœ¬åº”è¢«æ ‡è®°çš„å˜é‡æ²¡æœ‰è¢«æ ‡è®°çš„é—®é¢˜ç§°ä¸ºæ¬ æ±¡æŸ“(under-taint)é—®é¢˜.ç›¸ååœ°,ç”±äºæ±¡ç‚¹æ ‡è®°çš„æ•°é‡è¿‡å¤šè€Œå¯¼è‡´æ±¡ç‚¹å˜é‡å¤§é‡æ‰©æ•£çš„é—®é¢˜ç§°ä¸ºè¿‡æ±¡æŸ“(over-taint)é—®é¢˜.ç›®å‰,é’ˆå¯¹éšå¼æµé—®é¢˜çš„ç ”ç©¶é‡ç‚¹æ˜¯å°½é‡å‡å°‘æ¬ æ±¡æŸ“å’Œè¿‡æ±¡æŸ“çš„æƒ…å†µ.æˆ‘ä»¬å°†åœ¨åé¢å…·ä½“ä»‹ç»ç°æœ‰æŠ€æœ¯æ˜¯å¦‚ä½•è§£å†³ä¸Šè¿°é—®é¢˜çš„ã€‚ æ— å®³å¤„ç†æ±¡ç‚¹æ•°æ®åœ¨ä¼ æ’­çš„è¿‡ç¨‹ä¸­å¯èƒ½ä¼šç»è¿‡æ— å®³å¤„ç†æ¨¡å—,æ— å®³å¤„ç†æ¨¡å—æ˜¯æŒ‡æ±¡ç‚¹æ•°æ®ç»è¿‡è¯¥æ¨¡å—çš„å¤„ç†å,æ•°æ®æœ¬èº«ä¸å†æºå¸¦æ•æ„Ÿä¿¡æ¯æˆ–è€…é’ˆå¯¹è¯¥æ•°æ®çš„æ“ä½œä¸ä¼šå†å¯¹ç³»ç»Ÿäº§ç”Ÿå±å®³.æ¢è¨€ä¹‹,å¸¦æ±¡ç‚¹æ ‡è®°çš„æ•°æ®åœ¨ç»è¿‡æ— å®³å¤„ç†æ¨¡å—å,æ±¡ç‚¹æ ‡è®°å¯ä»¥è¢«ç§»é™¤.æ­£ç¡®åœ°ä½¿ç”¨æ— å®³å¤„ç†å¯ä»¥é™ä½ç³»ç»Ÿä¸­æ±¡ç‚¹æ ‡è®°çš„æ•°é‡,æé«˜æ±¡ç‚¹åˆ†æçš„æ•ˆç‡,å¹¶ä¸”é¿å…ç”±äºæ±¡ç‚¹æ‰©æ•£å¯¼è‡´çš„åˆ†æç»“æœä¸ç²¾ç¡®çš„é—®é¢˜ åœ¨åº”ç”¨è¿‡ç¨‹ä¸­,ä¸ºäº†é˜²æ­¢æ•æ„Ÿæ•°æ®è¢«æ³„éœ²(ä¿æŠ¤ä¿å¯†æ€§),é€šå¸¸ä¼šå¯¹æ•æ„Ÿæ•°æ®è¿›è¡ŒåŠ å¯†å¤„ç†.æ­¤æ—¶,åŠ å¯†åº“å‡½æ•°åº”è¯¥è¢«è¯†åˆ«æˆæ— å®³å¤„ç†æ¨¡å—.è¿™ä¸€æ–¹é¢æ˜¯ç”±äºåº“å‡½æ•°ä¸­ä½¿ç”¨äº†å¤§é‡çš„åŠ å¯†ç®—æ³•,å¯¼è‡´æ”»å‡»è€…å¾ˆéš¾æœ‰æ•ˆåœ°è®¡ç®—å‡ºå¯†ç çš„å¯èƒ½èŒƒå›´;å¦ä¸€æ–¹é¢æ˜¯åŠ å¯†åçš„æ•°æ®ä¸å†å…·æœ‰å¨èƒæ€§,ç»§ç»­ä¼ æ’­æ±¡ç‚¹æ ‡è®°æ²¡æœ‰æ„ä¹‰ã€‚ æ­¤å¤–,ä¸ºäº†é˜²æ­¢å¤–ç•Œæ•°æ®å› ä¸ºæºå¸¦å±é™©æ“ä½œè€Œå¯¹ç³»ç»Ÿå…³é”®åŒºåŸŸäº§ç”Ÿå±å®³(ä¿æŠ¤å®Œæ•´æ€§),é€šå¸¸ä¼šå¯¹è¾“å…¥çš„æ•°æ®è¿›è¡ŒéªŒè¯ã€‚ ç»¼ä¸Š,ç›®å‰å¯¹æ±¡ç‚¹æºã€æ±¡ç‚¹æ±‡èšç‚¹ä»¥åŠæ— å®³å¤„ç†æ¨¡å—çš„è¯†åˆ«é€šå¸¸æ ¹æ®ç³»ç»Ÿæˆ–æ¼æ´ç±»å‹ä½¿ç”¨å®šåˆ¶çš„æ–¹æ³•.ç”±äºè¿™äº›æ–¹æ³•éƒ½æ¯”è¾ƒç›´æ¥,æœ¬æ–‡å°†ä¸å†è¿›è¡Œæ›´æ·±å…¥çš„æ¢è®¨.ä¸‹ä¸€èŠ‚å°†é‡ç‚¹ä»‹ç»æ±¡ç‚¹ä¼ æ’­ä¸­çš„å…³é”®æŠ€æœ¯ã€‚ æ€»ç»“ï¼Œä½¿ç”¨æ±¡ç‚¹åˆ†ææ£€æµ‹ç¨‹åºæ¼æ´çš„å·¥ä½œåŸç†å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š åŸºäºæ•°æ®æµçš„æ±¡ç‚¹åˆ†æã€‚åœ¨ä¸è€ƒè™‘éšå¼ä¿¡æ¯æµçš„æƒ…å†µä¸‹ï¼Œå¯ä»¥å°†æ±¡ç‚¹åˆ†æçœ‹åšé’ˆå¯¹æ±¡ç‚¹æ•°æ®çš„æ•°æ®æµåˆ†æã€‚æ ¹æ®æ±¡ç‚¹ä¼ æ’­è§„åˆ™è·Ÿè¸ªæ±¡ç‚¹ä¿¡æ¯æˆ–è€…æ ‡è®°è·¯å¾„ä¸Šçš„å˜é‡æ±¡æŸ“æƒ…å†µï¼Œè¿›è€Œæ£€æŸ¥æ±¡ç‚¹ä¿¡æ¯æ˜¯å¦å½±å“æ•æ„Ÿæ“ä½œã€‚ åŸºäºä¾èµ–å…³ç³»çš„æ±¡ç‚¹åˆ†æã€‚è€ƒè™‘éšå¼ä¿¡æ¯æµï¼Œåœ¨åˆ†æè¿‡ç¨‹ä¸­ï¼Œæ ¹æ®ç¨‹åºä¸­çš„è¯­å¥æˆ–è€…æŒ‡ä»¤ä¹‹é—´çš„ä¾èµ–å…³ç³»ï¼Œæ£€æŸ¥ Sink ç‚¹å¤„æ•æ„Ÿæ“ä½œæ˜¯å¦ä¾èµ–äº Source ç‚¹å¤„æ¥æ”¶æ±¡ç‚¹ä¿¡æ¯çš„æ“ä½œã€‚ æ±¡ç‚¹ä¼ æ’­åˆ†æçš„å…³é”®æŠ€æœ¯æ±¡ç‚¹ä¼ æ’­åˆ†ææ˜¯å½“å‰æ±¡ç‚¹åˆ†æé¢†åŸŸçš„ç ”ç©¶é‡ç‚¹.ä¸ç¨‹åºåˆ†ææŠ€æœ¯ç›¸ç»“åˆ,å¯ä»¥è·å¾—æ›´åŠ é«˜æ•ˆã€ç²¾ç¡®çš„æ±¡ç‚¹åˆ†æç»“æœ.æ ¹æ®åˆ†æè¿‡ç¨‹ä¸­æ˜¯å¦éœ€è¦è¿è¡Œç¨‹åº,å¯ä»¥å°†æ±¡ç‚¹ä¼ æ’­åˆ†æåˆ†ä¸ºé™æ€æ±¡ç‚¹åˆ†æå’ŒåŠ¨æ€æ±¡ç‚¹åˆ†æ.æœ¬èŠ‚ä¸»è¦ä»‹ç»å¦‚ä½•ä½¿ç”¨åŠ¨/é™æ€ç¨‹åºåˆ†ææŠ€æœ¯æ¥è§£å†³æ±¡ç‚¹ä¼ æ’­ä¸­çš„æ˜¾å¼æµåˆ†æå’Œéšå¼æµåˆ†æé—®é¢˜ æ˜¾å¼æµåˆ†æå’Œéšå¼æµåˆ†ææ˜¯ä»ä¸¤ç§ä¸åŒçš„è§’åº¦(æ•°æ®æµå’Œæ§åˆ¶æµ)æ¥è§‚å¯Ÿæ±¡ç‚¹ä¼ æ’­ æ±¡ç‚¹ä¼ æ’­ä¸­çš„æ˜¾å¼æµåˆ†æé™æ€åˆ†ææŠ€æœ¯é™æ€æ±¡ç‚¹ä¼ æ’­åˆ†æ(ç®€ç§°é™æ€æ±¡ç‚¹åˆ†æ)æ˜¯æŒ‡åœ¨ä¸è¿è¡Œä¸”ä¸ä¿®æ”¹ä»£ç çš„å‰æä¸‹,é€šè¿‡åˆ†æç¨‹åºå˜é‡é—´çš„æ•°æ®ä¾èµ–å…³ç³»æ¥æ£€æµ‹æ•°æ®èƒ½å¦ä»æ±¡ç‚¹æºä¼ æ’­åˆ°æ±¡ç‚¹æ±‡èšç‚¹. é™æ€æ±¡ç‚¹åˆ†æçš„å¯¹è±¡ä¸€èˆ¬æ˜¯ç¨‹åºçš„æºç æˆ–ä¸­é—´è¡¨ç¤º.å¯ä»¥å°†å¯¹æ±¡ç‚¹ä¼ æ’­ä¸­æ˜¾å¼æµçš„é™æ€åˆ†æé—®é¢˜è½¬åŒ–ä¸ºå¯¹ç¨‹åºä¸­é™æ€æ•°æ®ä¾èµ–çš„åˆ†æ: é¦–å…ˆ,æ ¹æ®ç¨‹åºä¸­çš„å‡½æ•°è°ƒç”¨å…³ç³»æ„å»ºè°ƒç”¨å›¾(call graph,ç®€ç§°CG); ç„¶å,åœ¨å‡½æ•°å†…æˆ–è€…å‡½æ•°é—´æ ¹æ®ä¸åŒçš„ç¨‹åºç‰¹æ€§è¿›è¡Œå…·ä½“çš„æ•°æ®æµä¼ æ’­åˆ†æ.å¸¸è§çš„æ˜¾å¼æµæ±¡ç‚¹ä¼ æ’­æ–¹å¼åŒ…æ‹¬ç›´æ¥èµ‹å€¼ä¼ æ’­ã€é€šè¿‡å‡½æ•°(è¿‡ç¨‹)è°ƒç”¨ä¼ æ’­ä»¥åŠé€šè¿‡åˆ«å(æŒ‡é’ˆ)ä¼ æ’­ ä»¥å›¾ 5 æ‰€ç¤ºçš„ Java ç¨‹åºä¸ºä¾‹: ç¬¬ 3 è¡Œçš„å˜é‡ b ä¸ºåˆå§‹çš„æ±¡ç‚¹æ ‡è®°å˜é‡,ç¨‹åºç¬¬ 4 è¡Œå°†ä¸€ä¸ªåŒ…å«å˜é‡ b çš„ç®—æœ¯è¡¨è¾¾å¼çš„è®¡ç®—ç»“æœç›´æ¥èµ‹ç»™å˜é‡ c.ç”±äºå˜é‡ c å’Œå˜é‡ b ä¹‹é—´å…·æœ‰ç›´æ¥çš„èµ‹å€¼å…³ç³»,æ±¡ç‚¹æ ‡è®°å¯ç›´æ¥ä»èµ‹å€¼è¯­å¥å³éƒ¨çš„å˜é‡ä¼ æ’­åˆ°å·¦éƒ¨,ä¹Ÿå°±æ˜¯ä¸Šè¿° 3ç§æ˜¾å¼æµæ±¡ç‚¹ä¼ æ’­æ–¹å¼ä¸­çš„ç›´æ¥èµ‹å€¼ä¼ æ’­ æ¥ä¸‹æ¥,å˜é‡ c è¢«ä½œä¸ºå®å‚ä¼ é€’ç»™ç¨‹åºç¬¬ 5 è¡Œçš„å‡½æ•° foo,c ä¸Šçš„æ±¡ç‚¹æ ‡è®°ä¹Ÿé€šè¿‡å‡½æ•°è°ƒç”¨ä¼ æ’­åˆ° foo çš„å½¢å‚ z,z çš„æ±¡ç‚¹æ ‡è®°åˆé€šè¿‡ç›´æ¥èµ‹å€¼ä¼ æ’­åˆ°ç¨‹åºç¬¬ 8 è¡Œçš„ x.f.ç”±äº foo çš„å¦å¤–ä¸¤ä¸ªå‚æ•°å¯¹è±¡ x å’Œ y éƒ½æ˜¯å¯¹å¯¹è±¡ a çš„å¼•ç”¨,äºŒè€…ä¹‹é—´å­˜åœ¨åˆ«å,å› æ­¤,x.fçš„æ±¡ç‚¹æ ‡è®°å¯ä»¥é€šè¿‡åˆ«åä¼ æ’­åˆ°ç¬¬ 9 è¡Œçš„æ±¡ç‚¹æ±‡èšç‚¹,ç¨‹åºå­˜åœ¨æ³„æ¼é—®é¢˜. ç›®å‰,åˆ©ç”¨æ•°æ®æµåˆ†æè§£å†³æ˜¾å¼æ±¡ç‚¹ä¼ æ’­åˆ†æä¸­çš„ç›´æ¥èµ‹å€¼ä¼ æ’­å’Œå‡½æ•°è°ƒç”¨ä¼ æ’­å·²ç»ç›¸å½“æˆç†Ÿ,ç ”ç©¶çš„é‡ç‚¹æ˜¯å¦‚ä½•ä¸ºåˆ«åä¼ æ’­çš„åˆ†ææä¾›æ›´ç²¾ç¡®ã€é«˜æ•ˆçš„è§£å†³æ–¹æ¡ˆ.ç”±äºç²¾ç¡®åº¦è¶Šé«˜(ä¸Šä¸‹æ–‡æ•æ„Ÿã€æµæ•æ„Ÿã€åŸŸæ•æ„Ÿã€å¯¹è±¡æ•æ„Ÿç­‰)çš„ç¨‹åºé™æ€åˆ†ææŠ€æœ¯å¾€å¾€ä¼´éšç€è¶Šå¤§çš„æ—¶ç©ºå¼€é”€,è¿½æ±‚å…¨æ•æ„Ÿä¸”é«˜æ•ˆçš„åˆ«ååˆ†æéš¾åº¦è¾ƒå¤§.åˆç”±äºé™æ€æ±¡ç‚¹ä¼ æ’­åˆ†æå…³æ³¨çš„æ˜¯ä»æ±¡ç‚¹æºåˆ°æ±¡ç‚¹æ±‡èšç‚¹ä¹‹é—´çš„æ•°æ®æµå…³ç³»,åˆ†æå¯¹è±¡å¹¶éå®Œæ•´çš„ç¨‹åº,è€Œæ˜¯ç¡®å®šçš„å…¥å£å’Œå‡ºå£ä¹‹é—´çš„ç¨‹åºç‰‡æ®µ.è¿™å°±æ„å‘³ç€å¯ä»¥å°è¯•é‡‡ç”¨æŒ‰éœ€(on-demand)å®šåˆ¶çš„åˆ«ååˆ†ææ–¹æ³•æ¥è§£å†³æ˜¾å¼æµæ€æ±¡ç‚¹åˆ†æä¸­çš„åˆ«åä¼ æ’­é—®é¢˜ åŠ¨æ€åˆ†ææŠ€æœ¯åŠ¨æ€æ±¡ç‚¹ä¼ æ’­åˆ†æ(ç®€ç§°åŠ¨æ€æ±¡ç‚¹åˆ†æ)æ˜¯æŒ‡åœ¨ç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­,é€šè¿‡å®æ—¶ç›‘æ§ç¨‹åºçš„æ±¡ç‚¹æ•°æ®åœ¨ç³»ç»Ÿç¨‹åºä¸­çš„ä¼ æ’­æ¥æ£€æµ‹æ•°æ®èƒ½å¦ä»æ±¡ç‚¹æºä¼ æ’­åˆ°æ±¡ç‚¹æ±‡èšç‚¹.åŠ¨æ€æ±¡ç‚¹ä¼ æ’­åˆ†æé¦–å…ˆéœ€è¦ä¸ºæ±¡ç‚¹æ•°æ®æ‰©å±•ä¸€ä¸ªæ±¡ç‚¹æ ‡è®°(tainted tag)çš„æ ‡ç­¾å¹¶å°†å…¶å­˜å‚¨åœ¨å­˜å‚¨å•å…ƒ(å†…å­˜ã€å¯„å­˜å™¨ã€ç¼“å­˜ç­‰)ä¸­,ç„¶åæ ¹æ®æŒ‡ä»¤ç±»å‹å’ŒæŒ‡ä»¤æ“ä½œæ•°è®¾è®¡ç›¸åº”çš„ä¼ æ’­é€»è¾‘ä¼ æ’­æ±¡ç‚¹æ ‡è®° åŠ¨æ€æ±¡ç‚¹ä¼ æ’­åˆ†ææŒ‰ç…§å®ç°å±‚æ¬¡è¢«åˆ†ä¸ºåŸºäºç¡¬ä»¶ã€åŸºäºè½¯ä»¶ä»¥åŠæ··åˆå‹çš„æ±¡ç‚¹ä¼ æ’­åˆ†æè¿™3ç±» 1.ç¡¬ä»¶åŸºäºç¡¬ä»¶çš„æ±¡ç‚¹ä¼ æ’­åˆ†æéœ€è¦å®šåˆ¶çš„ç¡¬ä»¶æ”¯æŒ,ä¸€èˆ¬éœ€è¦åœ¨åŸæœ‰ä½“ç³»ç»“æ„ä¸Šä¸ºå¯„å­˜å™¨æˆ–è€…å†…å­˜æ‰©å±•ä¸€ä¸ªæ ‡è®°ä½,ç”¨æ¥å­˜å‚¨æ±¡ç‚¹æ ‡è®° 2.åŸºäºè½¯ä»¶åŸºäºè½¯ä»¶çš„æ±¡ç‚¹ä¼ æ’­åˆ†æé€šè¿‡ä¿®æ”¹ç¨‹åºçš„äºŒè¿›åˆ¶ä»£ç æ¥è¿›è¡Œæ±¡ç‚¹æ ‡è®°ä½çš„å­˜å‚¨ä¸ä¼ æ’­ åŸºäºè½¯ä»¶çš„æ±¡ç‚¹ä¼ æ’­çš„ä¼˜ç‚¹åœ¨äºä¸å¿…æ›´æ”¹å¤„ç†å™¨ç­‰åº•å±‚çš„ç¡¬ä»¶,å¹¶ä¸”å¯ä»¥æ”¯æŒæ›´é«˜çš„è¯­ä¹‰é€»è¾‘çš„å®‰å…¨ç­–ç•¥(åˆ©ç”¨å…¶æ›´è´´è¿‘æºç¨‹åºå±‚æ¬¡çš„ç‰¹ç‚¹),ä½†ç¼ºç‚¹æ˜¯ä½¿ç”¨æ’æ¡©(instrumentation åœ¨ä¿è¯è¢«æµ‹ç¨‹åºåŸæœ‰é€»è¾‘å®Œæ•´æ€§çš„åŸºç¡€ä¸Šåœ¨ç¨‹åºä¸­æ’å…¥ä¸€äº›æ¢é’ˆ)æˆ–ä»£ç é‡å†™(code rewriting)ä¿®æ”¹ç¨‹åºå¾€å¾€ä¼šç»™åˆ†æç³»ç»Ÿå¸¦æ¥å·¨å¤§çš„å¼€é”€.ç›¸ååœ°,åŸºäºç¡¬ä»¶çš„æ±¡ç‚¹ä¼ æ’­åˆ†æè™½ç„¶å¯ä»¥åˆ©ç”¨å®šåˆ¶ç¡¬ä»¶é™ä½å¼€é”€,ä½†é€šå¸¸ä¸èƒ½æ”¯æŒæ›´é«˜çš„è¯­ä¹‰é€»è¾‘çš„å®‰å…¨ç­–ç•¥,å¹¶ä¸”éœ€è¦å¯¹å¤„ç†å™¨ç»“æ„è¿›è¡Œé‡æ–°è®¾è®¡ 3.æ··åˆå‹æ··åˆå‹çš„æ±¡ç‚¹åˆ†ææ˜¯å¯¹ä¸Šè¿°ä¸¤ç±»æ–¹æ³•çš„æŠ˜ä¸­,å³,é€šè¿‡å°½å¯èƒ½å°‘çš„ç¡¬ä»¶ç»“æ„æ”¹åŠ¨ä»¥ä¿è¯æ›´é«˜çš„è¯­ä¹‰é€»è¾‘çš„å®‰å…¨ç­–ç•¥ ç›®å‰,é’ˆå¯¹åŠ¨æ€æ±¡ç‚¹ä¼ æ’­åˆ†æçš„ç ”ç©¶å·¥ä½œå…³æ³¨çš„é¦–è¦é—®é¢˜æ˜¯å¦‚ä½•è®¾è®¡æœ‰æ•ˆçš„æ±¡ç‚¹ä¼ æ’­é€»è¾‘,ä»¥ç¡®ä¿ç²¾ç¡®çš„æ±¡ç‚¹ä¼ æ’­åˆ†æ æ±¡ç‚¹ä¼ æ’­ä¸­çš„éšå¼æµåˆ†ææ±¡ç‚¹ä¼ æ’­åˆ†æä¸­çš„éšå¼æµåˆ†æå°±æ˜¯åˆ†ææ±¡ç‚¹æ•°æ®å¦‚ä½•é€šè¿‡æ§åˆ¶ä¾èµ–è¿›è¡Œä¼ æ’­,å¦‚æœå¿½ç•¥äº†å¯¹éšå¼æµæ±¡ç‚¹ä¼ æ’­çš„åˆ†æ,åˆ™ä¼šå¯¼è‡´æ¬ æ±¡æŸ“çš„æƒ…å†µ;å¦‚æœå¯¹éšå¼æµåˆ†æä¸å½“,é‚£ä¹ˆé™¤äº†æ¬ æ±¡æŸ“ä¹‹å¤–,è¿˜å¯èƒ½å‡ºç°è¿‡æ±¡æŸ“çš„æƒ…å†µ.ä¸æ˜¾å¼æµåˆ†æç±»ä¼¼,éšå¼æµåˆ†ææŠ€æœ¯åŒæ ·ä¹Ÿå¯ä»¥åˆ†ä¸ºé™æ€åˆ†æå’ŒåŠ¨æ€åˆ†æä¸¤ç±» é™æ€åˆ†ææŠ€æœ¯é™æ€éšå¼æµåˆ†æé¢ä¸´çš„æ ¸å¿ƒé—®é¢˜æ˜¯ç²¾åº¦ä¸æ•ˆç‡ä¸å¯å…¼å¾—çš„é—®é¢˜.ç²¾ç¡®çš„éšå¼æµæ±¡ç‚¹ä¼ æ’­åˆ†æéœ€è¦åˆ†ææ¯ä¸€ä¸ªåˆ†æ”¯æ§åˆ¶æ¡ä»¶æ˜¯å¦éœ€è¦ä¼ æ’­æ±¡ç‚¹æ ‡è®°.è·¯å¾„æ•æ„Ÿçš„æ•°æ®æµåˆ†æå¾€å¾€ä¼šäº§ç”Ÿè·¯å¾„çˆ†ç‚¸é—®é¢˜,å¯¼è‡´å¼€é”€éš¾ä»¥æ¥å—.ä¸ºäº†é™ä½å¼€é”€,ä¸€ç§ç®€å•çš„é™æ€ä¼ æ’­(æ ‡è®°)åˆ†æ”¯è¯­å¥çš„æ±¡ç‚¹æ ‡è®°æ–¹æ³•æ˜¯å°†æ§åˆ¶ä¾èµ–äºå®ƒçš„è¯­å¥å…¨éƒ¨è¿›è¡Œæ±¡ç‚¹æ ‡è®°,ä½†è¯¥æ–¹æ³•ä¼šå¯¼è‡´ä¸€äº›å¹¶ä¸æºå¸¦éšç§æ•°æ®çš„å˜é‡è¢«æ ‡è®°,å¯¼è‡´è¿‡æ±¡æŸ“æƒ…å†µçš„å‘ç”Ÿ.è¿‡æ±¡æŸ“ä¼šå¼•èµ·æ±¡ç‚¹çš„å¤§é‡æ‰©æ•£,æœ€ç»ˆå¯¼è‡´ç”¨æˆ·å¾—åˆ°çš„æŠ¥å‘Šä¸­ä¿¡æ¯è¿‡å¤š,éš¾ä»¥ä½¿ç”¨ åŠ¨æ€åˆ†ææŠ€æœ¯åŠ¨æ€éšå¼æµåˆ†æå…³æ³¨çš„é¦–è¦é—®é¢˜æ˜¯å¦‚ä½•ç¡®å®šæ±¡ç‚¹æ§åˆ¶æ¡ä»¶ä¸‹éœ€è¦æ ‡è®°çš„è¯­å¥çš„èŒƒå›´.ç”±äºåŠ¨æ€æ‰§è¡Œè½¨è¿¹å¹¶ä¸èƒ½åæ˜ å‡ºè¢«æ‰§è¡Œçš„æŒ‡ä»¤ä¹‹é—´çš„æ§åˆ¶ä¾èµ–å…³ç³»,ç›®å‰çš„ç ”ç©¶å¤šé‡‡ç”¨ç¦»çº¿çš„é™æ€åˆ†æè¾…åŠ©åˆ¤æ–­åŠ¨æ€æ±¡ç‚¹ä¼ æ’­ä¸­çš„éšå¼æµæ ‡è®°èŒƒå›´.Clauseç­‰äººæå‡º,åˆ©ç”¨ç¦»çº¿é™æ€åˆ†æå¾—åˆ°çš„æ§åˆ¶æµå›¾èŠ‚ç‚¹é—´çš„åæ”¯é…(post-dominate)å…³ç³»æ¥è§£å†³åŠ¨æ€æ±¡ç‚¹ä¼ æ’­ä¸­çš„éšå¼æµæ ‡è®°é—®é¢˜ ä¾‹å¦‚,å¦‚å›¾ 6(a)æ‰€ç¤º,ç¨‹åºç¬¬ 3 è¡Œçš„åˆ†æ”¯è¯­å¥è¢«æ ‡è®°ä¸ºæ±¡ç‚¹æº,å½“document.cookie çš„å€¼ä¸º abc æ—¶,ä¼šå‘ç”Ÿæ±¡ç‚¹æ•°æ®æ³„éœ².æ ¹æ®åŸºäºåæ”¯é…å…³ç³»çš„æ ‡è®°ç®—æ³•,ä¼šå¯¹è¯¥ç¤ºä¾‹ç¬¬ 4 è¡Œè¯­å¥çš„æŒ‡ä»¤ç›®çš„åœ°,å³ x çš„å€¼è¿›è¡Œæ±¡ç‚¹æ ‡è®°.(ps:å› ä¸ºæ ¹æ®è¯¥åˆ†æ”¯æ§åˆ¶ä¸‹çš„è¯­å¥çš„æ‰§è¡Œç»“æœå¯ä»¥åˆ¤å®šæ±¡æŸ“æºdocument.cookieçš„å€¼,é€ æˆæ±¡ç‚¹æ•°æ®æ³„éœ²) åŠ¨æ€åˆ†æé¢ä¸´çš„ç¬¬ 2 ä¸ªé—®é¢˜æ˜¯ç”±äºéƒ¨åˆ†æ³„æ¼(partially leaked)å¯¼è‡´çš„æ¼æŠ¥.éƒ¨åˆ†æ³„æ¼æ˜¯æŒ‡æ±¡ç‚¹ä¿¡æ¯é€šè¿‡åŠ¨æ€æœªæ‰§è¡Œéƒ¨åˆ†è¿›è¡Œä¼ æ’­å¹¶æ³„æ¼.Vogtç­‰äººå‘ç°,åªåŠ¨æ€åœ°æ ‡è®°åˆ†æ”¯æ¡ä»¶ä¸‹çš„è¯­å¥ä¼šå‘ç”Ÿè¿™ç§æƒ…å†µ ä»ä»¥å›¾ 6(a)ä¸­çš„ç¨‹åºä¸ºä¾‹:å½“ç¬¬ 3 è¡Œçš„æ§åˆ¶æ¡ä»¶è¢«æ‰§è¡Œæ—¶,å¯¹åº”çš„ x ä¼šè¢«æ ‡è®°.æ­¤æ—¶,x çš„å€¼ä¸º true,è€Œ y å€¼æ²¡æœ‰å˜åŒ–,ä»ç„¶ä¸º false.åœ¨åç»­æ‰§è¡Œè¿‡ç¨‹ä¸­,ç”±äºç¬¬ 9è¡Œçš„æ±¡ç‚¹æ±‡èšç‚¹ä¸å¯è¾¾,è€Œç¬¬ 12 è¡Œçš„æ±‡èšç‚¹å¯è¾¾,åŠ¨æ€åˆ†ææ²¡æœ‰æ£€æµ‹åˆ°æ±¡ç‚¹æ•°æ®æ³„æ¼.ä½†æ”»å‡»è€…ç”±ç¬¬ 11 è¡Œ y ç­‰äº false çš„æ¡ä»¶èƒ½å¤Ÿåæ¨å‡ºç¨‹åºæ‰§è¡Œäº†ç¬¬ 3 è¡Œçš„åˆ†æ”¯æ¡ä»¶,ç¨‹åºå®é™…ä¸Šå­˜åœ¨ä¿¡æ¯æ³„æ¼çš„é—®é¢˜.è¿™ä¸ªä¿¡æ¯æ³„éœ²æ˜¯ç”±ç¬¬ 6 è¡Œæœªè¢«æ‰§è¡Œåˆ°çš„ y çš„èµ‹å€¼è¯­å¥æ‰€è§¦å‘çš„.å› æ­¤,y åº”è¯¥è¢«åŠ¨æ€æ±¡ç‚¹ä¼ æ’­åˆ†ææ‰€æ ‡è®°.ä¸ºäº†è§£å†³éƒ¨åˆ†æ³„æ¼é—®é¢˜,Vogtç­‰äººåœ¨ä¼ ç»Ÿçš„åŠ¨æ€æ±¡ç‚¹åˆ†æåŸºç¡€ä¸Šå¢åŠ äº†ç¦»çº¿çš„é™æ€åˆ†æ,ä»¥è·Ÿè¸ªåŠ¨æ€æ‰§è¡Œè¿‡ç¨‹ä¸­çš„æ§åˆ¶ä¾èµ–å…³ç³»,å¯¹æ±¡ç‚¹åˆ†æ”¯æ§åˆ¶èŒƒå›´å†…çš„æ‰€æœ‰èµ‹å€¼è¯­å¥ä¸­çš„å˜é‡éƒ½è¿›è¡Œæ ‡è®°.å…·ä½“åˆ°å›¾ 6(a)æ‰€ç¤ºçš„ä¾‹å­,å°±æ˜¯ç¬¬ 4 è¡Œå’Œç¬¬ 6 è¡Œä¸­çš„å˜é‡å‡ä¼šè¢«æ±¡ç‚¹æ ‡è®°.ä½†æ˜¯,Vogt ç­‰äººçš„æ–¹æ³•ä»ç„¶ä¼šäº§ç”Ÿè¿‡æ±¡æŸ“çš„æƒ…å†µ. åŠ¨æ€åˆ†æéœ€è¦è§£å†³çš„ç¬¬ 3 ä¸ªé—®é¢˜æ˜¯å¦‚ä½•é€‰æ‹©åˆé€‚çš„æ±¡ç‚¹æ ‡è®°åˆ†æ”¯è¿›è¡Œæ±¡ç‚¹ä¼ æ’­.é‰´äºå•çº¯åœ°å°†æ‰€æœ‰åŒ…å«æ±¡ç‚¹æ ‡è®°çš„åˆ†æ”¯è¿›è¡Œä¼ æ’­ä¼šå¯¼è‡´è¿‡æ±¡æŸ“çš„æƒ…å†µ,å¯ä»¥æ ¹æ®ä¿¡æ¯æ³„æ¼èŒƒå›´çš„ä¸åŒ,å®šé‡åœ°è®¾è®¡æ±¡ç‚¹æ ‡è®°åˆ†æ”¯çš„é€‰æ‹©ç­–ç•¥. ä»¥å›¾ 6(b)æ‰€ç¤ºçš„ç¨‹åºä¸ºä¾‹,ç¬¬ 2 è¡Œçš„å˜é‡ a ä¸ºåˆå§‹çš„æ±¡ç‚¹æ ‡è®°å˜é‡.ç¬¬ 5 è¡Œã€ç¬¬ 7 è¡Œã€ç¬¬ 9 è¡Œå‡ä¸ºä»¥ aä½œä¸ºæºæ“ä½œæ•°çš„æ±¡ç‚¹æ ‡è®°çš„åˆ†æ”¯.å¦‚æœä¼ æ’­ç­–ç•¥ä¸ºåªè¦åˆ†æ”¯æŒ‡ä»¤ä¸­åŒ…å«æ±¡ç‚¹æ ‡è®°å°±å¯¹å…¶è¿›è¡Œä¼ æ’­,é‚£ä¹ˆç¬¬ 5 è¡Œã€ç¬¬ 7 è¡Œã€ç¬¬ 9 è¡Œå°†åˆ†åˆ«è¢«ä¼ æ’­ç»™ç¬¬ 6 è¡Œã€ç¬¬ 8 è¡Œã€ç¬¬ 10 è¡Œ,å¹¶æœ€ç»ˆä¼ æ’­åˆ°ç¬¬ 12 è¡Œçš„æ±¡ç‚¹æ±‡èšç‚¹.å¦‚æœå¯¹è¿™æ®µç¨‹åºè¿›è¡Œæ·±å…¥åˆ†æä¼šå‘ç°,3ä¸ªåˆ†æ”¯æ¡ä»¶æ‰€æä¾›çš„ä¿¡æ¯å€¼(æ‰€èƒ½æ³„éœ²çš„ä¿¡æ¯èŒƒå›´)å¹¶ä¸ç›¸åŒ,åˆ†åˆ«æ˜¯ a ç­‰äº 10ã€aå¤§äº 10 ä¸”å°äºæˆ–ç­‰äº 13(å°† w å€¼ä»£å…¥è®¡ç®—)ä»¥åŠ a å°äº 10.å¯¹äº a ç­‰äº 10 çš„æƒ…å†µ,æ”»å‡»è€…å¯ä»¥æ ¹æ®ç¬¬ 12 è¡Œæ³„æ¼çš„ x çš„å€¼ç›´æ¥è¿˜åŸå‡ºæ±¡ç‚¹æºå¤„ a çš„å€¼(è¿™ç±»åˆ†æ”¯ä¹Ÿè¢«ç§°ä¸ºèƒ½å¤Ÿä¿å­˜å®Œæ•´ä¿¡æ¯çš„åˆ†æ”¯);å¯¹äº a å¤§äº 10 ä¸”å°äºæˆ–ç­‰äº 13 çš„æƒ…å†µ,æ”»å‡»è€…ä¹Ÿåªéœ€è¦å°è¯• 3 æ¬¡å°±å¯ä»¥è¿˜åŸä¿¡æ¯;è€Œå¯¹äº a å°äº 10 çš„æƒ…å†µ,æ”»å‡»è€…æ‰€è·å¾—çš„ä¸ç¡®å®šæ€§è¾ƒå¤§,æˆåŠŸè¿˜åŸä¿¡æ¯çš„å‡ ç‡æ˜¾è‘—ä½äºå‰ä¸¤ç§,å¯¹è¯¥åˆ†æ”¯è¿›è¡Œæ±¡ç‚¹ä¼ æ’­çš„å®é™…æ„ä¹‰ä¸å¤§. Baoç­‰äººåªå°†ä¸¥æ ¼æ§åˆ¶ä¾èµ–(strict control dependence)è¯†åˆ«æˆéœ€è¦æ±¡ç‚¹ä¼ æ’­çš„åˆ†æ”¯,å…¶ä¸­,ä¸¥æ ¼æ§åˆ¶ä¾èµ–å³åˆ†æ”¯æ¡ä»¶è¡¨è¾¾å¼çš„ä¸¤ç«¯å…·æœ‰å¸¸æ•°å·®å¼‚çš„åˆ†æ”¯.ä½†æ˜¯,Bao çš„æ–¹æ³•åªé€‚ç”¨äºèƒ½å¤Ÿåœ¨ç¼–è¯‘é˜¶æ®µè®¡ç®—å‡ºå¸¸æ•°å·®å¼‚çš„åˆ†æ”¯. æ±¡ç‚¹åˆ†ææ–¹æ³•å®ç°é™æ€æ±¡ç‚¹åˆ†ææŠ€æœ¯é™æ€æ±¡ç‚¹åˆ†æç³»ç»Ÿé¦–å…ˆå¯¹ç¨‹åºä»£ç è¿›è¡Œè§£æï¼Œè·å¾—ç¨‹åºä»£ç çš„ä¸­é—´è¡¨ç¤ºï¼Œç„¶ååœ¨ä¸­é—´è¡¨ç¤ºçš„åŸºç¡€ä¸Šå¯¹ç¨‹åºä»£ç è¿›è¡Œæ§åˆ¶æµåˆ†æç­‰è¾…åŠ©åˆ†æï¼Œä»¥è·å¾—éœ€è¦çš„æ§åˆ¶æµå›¾ã€è°ƒç”¨å›¾ç­‰ã€‚åœ¨è¾…åŠ©åˆ†æçš„è¿‡ç¨‹ä¸­ï¼Œç³»ç»Ÿå¯ä»¥åˆ©ç”¨æ±¡ç‚¹åˆ†æè§„åˆ™åœ¨ä¸­é—´è¡¨ç¤ºä¸Šè¯†åˆ«ç¨‹åºä¸­çš„ Source ç‚¹å’Œ Sink ç‚¹ã€‚æœ€åæ£€æµ‹ç³»ç»Ÿæ ¹æ®æ±¡ç‚¹åˆ†æè§„åˆ™ï¼Œåˆ©ç”¨é™æ€æ±¡ç‚¹åˆ†ææ£€æŸ¥ç¨‹åºæ˜¯å¦å­˜åœ¨æ±¡ç‚¹ç±»å‹çš„æ¼æ´ã€‚ åŸºäºæ•°æ®æµçš„æ±¡ç‚¹åˆ†æåœ¨åŸºäºæ•°æ®æµçš„æ±¡ç‚¹åˆ†æä¸­ï¼Œå¸¸å¸¸éœ€è¦ä¸€äº›è¾…åŠ©åˆ†ææŠ€æœ¯ï¼Œä¾‹å¦‚åˆ«ååˆ†æã€å–å€¼åˆ†æç­‰ï¼Œæ¥æé«˜åˆ†æç²¾åº¦ã€‚è¾…åŠ©åˆ†æå’Œæ±¡ç‚¹åˆ†æäº¤æ›¿è¿›è¡Œï¼Œé€šå¸¸æ²¿ç€ç¨‹åºè·¯å¾„çš„æ–¹å‘åˆ†ææ±¡ç‚¹ä¿¡æ¯çš„æµå‘ï¼Œæ£€æŸ¥ Source ç‚¹å¤„ç¨‹åºæ¥æ”¶çš„æ±¡ç‚¹ä¿¡æ¯æ˜¯å¦ä¼šå½±å“åˆ° Sink ç‚¹å¤„çš„æ•æ„Ÿæ“ä½œã€‚ è¿‡ç¨‹å†…çš„åˆ†æä¸­ï¼ŒæŒ‰ç…§ä¸€å®šçš„é¡ºåºåˆ†æè¿‡ç¨‹å†…çš„æ¯ä¸€æ¡è¯­å¥æˆ–è€…æŒ‡ä»¤ï¼Œè¿›è€Œåˆ†ææ±¡ç‚¹ä¿¡æ¯çš„æµå‘ã€‚ è®°å½•æ±¡ç‚¹ä¿¡æ¯ã€‚åœ¨é™æ€åˆ†æå±‚é¢ï¼Œç¨‹åºå˜é‡çš„æ±¡æŸ“æƒ…å†µä¸ºä¸»è¦å…³æ³¨å¯¹è±¡ã€‚ä¸ºè®°å½•æ±¡æŸ“ä¿¡æ¯ï¼Œé€šå¸¸ä¸ºå˜é‡æ·»åŠ ä¸€ä¸ªæ±¡æŸ“æ ‡ç­¾ã€‚æœ€ç®€å•çš„å°±æ˜¯ä¸€ä¸ªå¸ƒå°”å‹å˜é‡ï¼Œè¡¨ç¤ºå˜é‡æ˜¯å¦è¢«æ±¡æŸ“ã€‚æ›´å¤æ‚çš„æ ‡ç­¾è¿˜å¯ä»¥è®°å½•å˜é‡çš„æ±¡æŸ“ä¿¡æ¯æ¥è‡ªå“ªäº› Source ç‚¹ï¼Œç”šè‡³ç²¾ç¡®åˆ° Source ç‚¹æ¥æ”¶æ•°æ®çš„å“ªä¸€éƒ¨åˆ†ã€‚å½“ç„¶ä¹Ÿå¯ä»¥ä¸ä½¿ç”¨æ±¡æŸ“æ ‡ç­¾ï¼Œè¿™æ—¶æˆ‘ä»¬é€šè¿‡å¯¹å˜é‡è¿›è¡Œè·Ÿè¸ªçš„æ–¹å¼è¾¾åˆ°åˆ†ææ±¡ç‚¹ä¿¡æ¯æµå‘çš„ç›®çš„ã€‚ä¾‹å¦‚ä½¿ç”¨æ ˆæˆ–è€…é˜Ÿåˆ—æ¥è®°å½•è¢«æ±¡æŸ“çš„å˜é‡ã€‚ ç¨‹åºè¯­å¥çš„åˆ†æã€‚åœ¨ç¡®å®šå¦‚ä½•è®°å½•æ±¡æŸ“ä¿¡æ¯åï¼Œå°†å¯¹ç¨‹åºè¯­å¥è¿›è¡Œé™æ€åˆ†æã€‚é€šå¸¸æˆ‘ä»¬ä¸»è¦å…³æ³¨èµ‹å€¼è¯­å¥ã€æ§åˆ¶è½¬ç§»è¯­å¥ä»¥åŠè¿‡ç¨‹è°ƒç”¨è¯­å¥ä¸‰ç±»ã€‚ èµ‹å€¼è¯­å¥ã€‚ å¯¹äºç®€å•çš„èµ‹å€¼è¯­å¥ï¼Œå½¢å¦‚ a = b è¿™æ ·çš„ï¼Œè®°å½•è¯­å¥å·¦ç«¯çš„å˜é‡å’Œå³ç«¯çš„å˜é‡å…·æœ‰ç›¸åŒçš„æ±¡æŸ“çŠ¶æ€ã€‚ç¨‹åºä¸­çš„å¸¸é‡é€šå¸¸è®¤ä¸ºæ˜¯æœªæ±¡æŸ“çš„ï¼Œå¦‚æœä¸€ä¸ªå˜é‡è¢«èµ‹å€¼ä¸ºå¸¸é‡ï¼Œåœ¨ä¸è€ƒè™‘éšå¼ä¿¡æ¯æµçš„æƒ…å†µä¸‹ï¼Œè®¤ä¸ºå˜é‡çš„çŠ¶æ€åœ¨èµ‹å€¼åæ˜¯æœªæ±¡æŸ“çš„ã€‚ å¯¹äºå½¢å¦‚ a = b + c è¿™æ ·å¸¦æœ‰äºŒå…ƒæ“ä½œçš„èµ‹å€¼è¯­å¥ï¼Œé€šå¸¸è§„å®šå¦‚æœå³ç«¯çš„æ“ä½œæ•°åªè¦æœ‰ä¸€ä¸ªæ˜¯è¢«æ±¡æŸ“çš„ï¼Œåˆ™å·¦ç«¯çš„å˜é‡æ˜¯æ±¡æŸ“çš„ï¼ˆé™¤éå³ç«¯è®¡ç®—ç»“æœä¸ºå¸¸é‡ï¼‰ã€‚ å¯¹äºå’Œæ•°ç»„å…ƒç´ ç›¸å…³çš„èµ‹å€¼ï¼Œå¦‚æœå¯ä»¥é€šè¿‡é™æ€åˆ†æç¡®å®šæ•°ç»„ä¸‹æ ‡çš„å–å€¼æˆ–è€…å–å€¼èŒƒå›´ï¼Œé‚£ä¹ˆå°±å¯ä»¥ç²¾ç¡®åœ°åˆ¤æ–­æ•°ç»„ä¸­å“ªä¸ªæˆ–å“ªäº›å…ƒç´ æ˜¯æ±¡æŸ“çš„ã€‚ä½†é€šå¸¸é™æ€åˆ†æä¸èƒ½ç¡®å®šä¸€ä¸ªå˜é‡æ˜¯æ±¡æŸ“çš„ï¼Œé‚£ä¹ˆå°±ç®€å•åœ°è®¤ä¸ºæ•´ä¸ªæ•°ç»„éƒ½æ˜¯æ±¡æŸ“çš„ã€‚ å¯¹äºåŒ…å«å­—æ®µæˆ–è€…åŒ…å«æŒ‡é’ˆæ“ä½œçš„èµ‹å€¼è¯­å¥ï¼Œå¸¸å¸¸éœ€è¦ç”¨åˆ°æŒ‡å‘åˆ†æçš„åˆ†æç»“æœã€‚ æ§åˆ¶è½¬ç§»è¯­å¥ã€‚ åœ¨åˆ†ææ¡ä»¶æ§åˆ¶è½¬ç§»è¯­å¥æ—¶ï¼Œé¦–å…ˆè€ƒè™‘è¯­å¥ä¸­çš„è·¯å¾„æ¡ä»¶å¯èƒ½æ˜¯åŒ…å«å¯¹æ±¡ç‚¹æ•°æ®çš„é™åˆ¶ï¼Œåœ¨å®é™…åˆ†æä¸­å¸¸å¸¸éœ€è¦è¯†åˆ«è¿™ç§é™åˆ¶æ±¡ç‚¹æ•°æ®çš„æ¡ä»¶ï¼Œä»¥åˆ¤æ–­è¿™äº›é™åˆ¶æ¡ä»¶æ˜¯å¦è¶³å¤ŸåŒ…å«ç¨‹åºä¸ä¼šå—åˆ°æ”»å‡»ã€‚å¦‚æœå¾—å‡ºè·¯å¾„æ¡ä»¶çš„é™åˆ¶æ˜¯è¶³å¤Ÿçš„ï¼Œé‚£ä¹ˆå¯ä»¥å°†ç›¸åº”çš„å˜é‡æ ‡è®°ä¸ºæœªæ±¡æŸ“çš„ã€‚ å¯¹äºå¾ªç¯è¯­å¥ï¼Œé€šå¸¸è§„å®šå¾ªç¯å˜é‡çš„å–å€¼èŒƒå›´ä¸èƒ½å—åˆ°è¾“å…¥çš„å½±å“ã€‚ä¾‹å¦‚åœ¨è¯­å¥ for (i = 1ï¼› i &lt; kï¼› i++)&#123;&#125; ä¸­ï¼Œå¯ä»¥è§„å®šå¾ªç¯çš„ä¸Šç•Œ k ä¸èƒ½æ˜¯æ±¡æŸ“çš„ã€‚ è¿‡ç¨‹è°ƒç”¨è¯­å¥ã€‚ å¯ä»¥ä½¿ç”¨è¿‡ç¨‹é—´çš„åˆ†ææˆ–è€…ç›´æ¥åº”ç”¨è¿‡ç¨‹æ‘˜è¦è¿›è¡Œåˆ†æã€‚æ±¡ç‚¹åˆ†ææ‰€ä½¿ç”¨çš„è¿‡ç¨‹æ‘˜è¦ä¸»è¦æè¿°æ€æ ·æ”¹å˜ä¸è¯¥è¿‡ç¨‹ç›¸å…³çš„å˜é‡çš„æ±¡æŸ“çŠ¶æ€ï¼Œä»¥åŠå¯¹å“ªäº›å˜é‡çš„æ±¡æŸ“çŠ¶æ€è¿›è¡Œæ£€æµ‹ã€‚è¿™äº›å˜é‡å¯ä»¥æ˜¯è¿‡ç¨‹ä½¿ç”¨çš„å‚æ•°ã€å‚æ•°çš„å­—æ®µæˆ–è€…è¿‡ç¨‹çš„è¿”å›å€¼ç­‰ã€‚ä¾‹å¦‚åœ¨è¯­å¥ flag = objã€‚method(str)ï¼› ä¸­ï¼Œstr æ˜¯æ±¡æŸ“çš„ï¼Œé‚£ä¹ˆé€šè¿‡è¿‡ç¨‹é—´çš„åˆ†æï¼Œå°†å˜é‡ obj çš„å­—æ®µ str æ ‡è®°ä¸ºæ±¡æŸ“çš„ï¼Œè€Œè®°å½•æ–¹æ³•çš„è¿”å›å€¼çš„å˜é‡ flag æ ‡è®°ä¸ºæœªæ±¡æŸ“çš„ã€‚ åœ¨å®é™…çš„è¿‡ç¨‹é—´åˆ†æä¸­ï¼Œå¯ä»¥å¯¹å·²ç»åˆ†æè¿‡çš„è¿‡ç¨‹æ„å»ºè¿‡ç¨‹æ‘˜è¦ã€‚ä¾‹å¦‚å‰é¢çš„è¯­å¥ï¼Œå…¶è¿‡ç¨‹æ‘˜è¦æè¿°ä¸ºï¼šæ–¹æ³• method çš„å‚æ•°æ±¡æŸ“çŠ¶æ€å†³å®šå…¶æ¥æ”¶å¯¹è±¡çš„å®ä¾‹åŸŸ str çš„æ±¡æŸ“çŠ¶æ€ï¼Œå¹¶ä¸”å®ƒçš„è¿”å›å€¼æ˜¯æœªå—æ±¡æŸ“çš„ã€‚é‚£ä¹ˆä¸‹ä¸€æ¬¡åˆ†æéœ€è¦æ—¶ï¼Œå°±å¯ä»¥ç›´æ¥åº”ç”¨æ‘˜è¦è¿›è¡Œåˆ†æã€‚ ä»£ç çš„éå†ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå¸¸å¸¸ä½¿ç”¨æµæ•æ„Ÿçš„æ–¹å¼æˆ–è€…è·¯å¾„æ•æ„Ÿçš„æ–¹å¼è¿›è¡Œéå†ï¼Œå¹¶åˆ†æè¿‡ç¨‹ä¸­çš„ä»£ç ã€‚å¦‚æœä½¿ç”¨æµæ•æ„Ÿçš„æ–¹å¼ï¼Œå¯ä»¥é€šè¿‡å¯¹ä¸åŒè·¯å¾„ä¸Šçš„åˆ†æç»“æœè¿›è¡Œæ±‡é›†ï¼Œä»¥å‘ç°ç¨‹åºä¸­çš„æ•°æ®å‡€åŒ–è§„åˆ™ã€‚å¦‚æœä½¿ç”¨è·¯å¾„æ•æ„Ÿçš„åˆ†ææ–¹å¼ï¼Œåˆ™éœ€è¦å…³æ³¨è·¯å¾„æ¡ä»¶ï¼Œå¦‚æœè·¯å¾„æ¡ä»¶ä¸­æ¶‰åŠå¯¹æ±¡æŸ“å˜é‡å–å€¼çš„é™åˆ¶ï¼Œå¯è®¤ä¸ºè·¯å¾„æ¡ä»¶å¯¹æ±¡æŸ“æ•°æ®è¿›è¡Œäº†å‡€åŒ–ï¼Œè¿˜å¯ä»¥å°†åˆ†æè·¯å¾„æ¡ä»¶å¯¹æ±¡æŸ“æ•°æ®çš„é™åˆ¶è¿›è¡Œè®°å½•ï¼Œå¦‚æœåœ¨ä¸€æ¡ç¨‹åºè·¯å¾„ä¸Šï¼Œè¿™äº›é™åˆ¶è¶³å¤Ÿä¿è¯æ•°æ®ä¸ä¼šè¢«æ”»å‡»è€…åˆ©ç”¨ï¼Œå°±å¯ä»¥å°†ç›¸åº”çš„å˜é‡æ ‡è®°ä¸ºæœªæ±¡æŸ“çš„ã€‚ è¿‡ç¨‹é—´çš„åˆ†æä¸æ•°æ®æµè¿‡ç¨‹é—´åˆ†æç±»ä¼¼ï¼Œä½¿ç”¨è‡ªåº•å‘ä¸Šçš„åˆ†ææ–¹æ³•ï¼Œåˆ†æè°ƒç”¨å›¾ä¸­çš„æ¯ä¸€ä¸ªè¿‡ç¨‹ï¼Œè¿›è€Œå¯¹ç¨‹åºè¿›è¡Œæ•´ä½“çš„åˆ†æã€‚ åŸºäºä¾èµ–å…³ç³»çš„æ±¡ç‚¹åˆ†æåœ¨åŸºäºä¾èµ–å…³ç³»çš„æ±¡ç‚¹åˆ†æä¸­ï¼Œé¦–å…ˆåˆ©ç”¨ç¨‹åºçš„ä¸­é—´è¡¨ç¤ºã€æ§åˆ¶æµå›¾å’Œè¿‡ç¨‹è°ƒç”¨å›¾æ„é€ ç¨‹åºå®Œæ•´çš„æˆ–è€…å±€éƒ¨çš„ç¨‹åºçš„ä¾èµ–å…³ç³»ã€‚åœ¨åˆ†æç¨‹åºä¾èµ–å…³ç³»åï¼Œæ ¹æ®æ±¡ç‚¹åˆ†æè§„åˆ™ï¼Œæ£€æµ‹ Sink ç‚¹å¤„æ•æ„Ÿæ“ä½œæ˜¯å¦ä¾èµ–äº Source ç‚¹ã€‚ åˆ†æç¨‹åºä¾èµ–å…³ç³»çš„è¿‡ç¨‹å¯ä»¥çœ‹åšæ˜¯æ„å»ºç¨‹åºä¾èµ–å›¾çš„è¿‡ç¨‹ã€‚ç¨‹åºä¾èµ–å›¾æ˜¯ä¸€ä¸ªæœ‰å‘å›¾ã€‚å®ƒçš„èŠ‚ç‚¹æ˜¯ç¨‹åºè¯­å¥ï¼Œå®ƒçš„æœ‰å‘è¾¹è¡¨ç¤ºç¨‹åºè¯­å¥ä¹‹é—´çš„ä¾èµ–å…³ç³»ã€‚ç¨‹åºä¾èµ–å›¾çš„æœ‰å‘è¾¹å¸¸å¸¸åŒ…æ‹¬æ•°æ®ä¾èµ–è¾¹å’Œæ§åˆ¶ä¾èµ–è¾¹ã€‚åœ¨æ„å»ºæœ‰ä¸€å®šè§„æ¨¡çš„ç¨‹åºçš„ä¾èµ–å›¾æ—¶ï¼Œéœ€è¦æŒ‰éœ€åœ°æ„å»ºç¨‹åºä¾èµ–å…³ç³»ï¼Œå¹¶ä¸”ä¼˜å…ˆè€ƒè™‘å’Œæ±¡ç‚¹ä¿¡æ¯ç›¸å…³çš„ç¨‹åºä»£ç ã€‚ é™æ€æ±¡ç‚¹åˆ†æå®ä¾‹åˆ†æåœ¨ä½¿ç”¨æ±¡ç‚¹åˆ†ææ–¹æ³•æ£€æµ‹ç¨‹åºæ¼æ´æ—¶ï¼Œæ±¡ç‚¹æ•°æ®ç›¸å…³çš„ç¨‹åºæ¼æ´æ˜¯ä¸»è¦å…³æ³¨å¯¹è±¡ï¼Œå¦‚ SQL æ³¨å…¥æ¼æ´ã€å‘½ä»¤æ³¨å…¥æ¼æ´å’Œè·¨ç«™è„šæœ¬æ¼æ´ç­‰ã€‚ ä¸‹é¢æ˜¯ä¸€ä¸ªå­˜åœ¨ SQL æ³¨å…¥æ¼æ´ ASP ç¨‹åºçš„ä¾‹å­ï¼š 1234567891011121314&lt;% Set pwd = &quot;bar&quot; Set sql1 = &quot;SELECT companyname FROM &quot; &amp; Requestã€‚Cookies(&quot;hello&quot;) Set sql2 = Requestã€‚QueryString(&quot;foo&quot;) MySqlStuff pwdï¼Œ sql1ï¼Œ sql2 Sub MySqlStuff(passwordï¼Œ cmd1ï¼Œ cmd2) Set conn = Serverã€‚CreateObject(&quot;ADODBã€‚Connection&quot;) connã€‚Provider = &quot;Microsoftã€‚Jetã€‚OLEDBã€‚4ã€‚0&quot; connã€‚Open &quot;cï¼š/webdata/fooã€‚mdb&quot;ï¼Œ &quot;foo&quot;ï¼Œ password Set rs = connã€‚Execute(cmd2) Set rs = Serverã€‚CreateObject(&quot;ADODBã€‚recordset&quot;) rsã€‚Open cmd1ï¼Œ conn End Sub%&gt; é¦–å…ˆå¯¹è¿™æ®µä»£ç è¡¨ç¤ºä¸ºä¸€ç§ä¸‰åœ°å€ç çš„å½¢å¼ï¼Œä¾‹å¦‚ç¬¬ 3 è¡Œå¯ä»¥è¡¨ç¤ºä¸ºï¼š 1234567a = &quot;SELECT companyname FROM &quot;b = &quot;hello&quot;param0 Requestparam1 bcallCookiesreturn csql1 = a &amp; c è§£æå®Œæ¯•åï¼Œéœ€è¦å¯¹ç¨‹åºä»£ç è¿›è¡Œæ§åˆ¶æµåˆ†æï¼Œè¿™é‡ŒåªåŒ…å«äº†ä¸€ä¸ªè°ƒç”¨å…³ç³»ï¼ˆç¬¬ 5 è¡Œï¼‰ã€‚ æ¥ä¸‹æ¥ï¼Œéœ€è¦è¯†åˆ«ç¨‹åºä¸­çš„ Source ç‚¹å’Œ Sink ç‚¹ä»¥åŠåˆå§‹çš„è¢«æ±¡æŸ“çš„æ•°æ®ã€‚ å…·ä½“çš„åˆ†æè¿‡ç¨‹å¦‚ä¸‹ï¼š è°ƒç”¨ Requestã€‚Cookies(â€œhelloâ€) çš„è¿”å›ç»“æœæ˜¯æ±¡æŸ“çš„ï¼Œæ‰€ä»¥å˜é‡ sql1 ä¹Ÿæ˜¯æ±¡æŸ“çš„ã€‚ è°ƒç”¨ Requestã€‚QueryString(â€œfooâ€) çš„è¿”å›ç»“æœ sql2 æ˜¯æ±¡æŸ“çš„ã€‚ å‡½æ•° MySqlStuff è¢«è°ƒç”¨ï¼Œå®ƒçš„å‚æ•° sql1ï¼Œsql2 éƒ½æ˜¯æ±¡æŸ“çš„ã€‚åˆ†äº†åˆ†æå‡½æ•°çš„å¤„ç†è¿‡ç¨‹ï¼Œæ ¹æ®ç¬¬ 6 è¡Œå‡½æ•°çš„å£°æ˜ï¼Œæ ‡è®°å…¶å‚æ•° cmd1ï¼Œcmd2 æ˜¯æ±¡æŸ“çš„ã€‚ ç¬¬ 10 è¡Œæ˜¯ç¨‹åºçš„ Sink ç‚¹ï¼Œå‡½æ•° connã€‚Execute æ‰§è¡Œ SQL æ“ä½œï¼Œå…¶å‚æ•° cmd2 æ˜¯æ±¡æŸ“çš„ï¼Œè¿›è€Œå‘ç°æ±¡æŸ“æ•°æ®ä» Source ç‚¹ä¼ æ’­åˆ° Sink ç‚¹ã€‚å› æ­¤ï¼Œè®¤ä¸ºç¨‹åºå­˜åœ¨ SQL æ³¨å…¥æ¼æ´ åŠ¨æ€æ±¡ç‚¹åˆ†ææŠ€æœ¯åŠ¨æ€æ±¡ç‚¹åˆ†ææ˜¯åœ¨ç¨‹åºè¿è¡Œçš„åŸºç¡€ä¸Šï¼Œå¯¹æ•°æ®æµæˆ–æ§åˆ¶æµè¿›è¡Œç›‘æ§ï¼Œä»è€Œå®ç°å¯¹æ•°æ®åœ¨å†…å­˜ä¸­çš„æ˜¾å¼ä¼ æ’­ã€æ•°æ®è¯¯ç”¨ç­‰è¿›è¡Œè·Ÿè¸ªå’Œæ£€æµ‹ã€‚åŠ¨æ€æ±¡ç‚¹åˆ†æä¸é™æ€æ±¡ç‚¹åˆ†æçš„å”¯ä¸€åŒºåˆ«åœ¨äºé™æ€æ±¡ç‚¹åˆ†ææŠ€æœ¯åœ¨æ£€æµ‹æ—¶å¹¶ä¸çœŸæ­£è¿è¡Œç¨‹åºï¼Œè€Œæ˜¯é€šè¿‡æ¨¡æ‹Ÿç¨‹åºçš„æ‰§è¡Œè¿‡ç¨‹æ¥ä¼ æ’­æ±¡ç‚¹æ ‡è®°ï¼Œè€ŒåŠ¨æ€æ±¡ç‚¹åˆ†ææŠ€æœ¯éœ€è¦è¿è¡Œç¨‹åºï¼ŒåŒæ—¶å®æ—¶ä¼ æ’­å¹¶æ£€æµ‹æ±¡ç‚¹æ ‡è®°ã€‚ åŠ¨æ€æ±¡ç‚¹åˆ†ææŠ€æœ¯å¯åˆ†ä¸ºä¸‰ä¸ªéƒ¨åˆ†ï¼š æ±¡ç‚¹æ•°æ®æ ‡è®°ï¼šç¨‹åºæ”»å‡»é¢æ˜¯ç¨‹åºæ¥å—è¾“å…¥æ•°æ®çš„æ¥å£é›†ï¼Œä¸€èˆ¬ç”±ç¨‹åºå…¥å£ç‚¹å’Œå¤–éƒ¨å‡½æ•°è°ƒç”¨ç»„æˆã€‚åœ¨æ±¡ç‚¹åˆ†æä¸­ï¼Œæ¥è‡ªå¤–éƒ¨çš„è¾“å…¥æ•°æ®ä¼šè¢«æ ‡è®°ä¸ºæ±¡ç‚¹æ•°æ®ã€‚æ ¹æ®è¾“å…¥æ•°æ®æ¥æºçš„ä¸åŒï¼Œå¯åˆ†ä¸ºä¸‰ç±»ï¼šç½‘ç»œè¾“å…¥ã€æ–‡ä»¶è¾“å…¥å’Œè¾“å…¥è®¾å¤‡è¾“å…¥ã€‚ æ±¡ç‚¹åŠ¨æ€è·Ÿè¸ªï¼šåœ¨æ±¡ç‚¹æ•°æ®æ ‡è®°çš„åŸºç¡€ä¸Šï¼Œå¯¹è¿›ç¨‹è¿›è¡ŒæŒ‡ä»¤ç²’åº¦çš„åŠ¨æ€è·Ÿè¸ªåˆ†æï¼Œåˆ†ææ¯ä¸€æ¡æŒ‡ä»¤çš„æ•ˆæœï¼Œç›´è‡³è¦†ç›–æ•´ä¸ªç¨‹åºçš„è¿è¡Œè¿‡ç¨‹ï¼Œè·Ÿè¸ªæ•°æ®æµçš„ä¼ æ’­ã€‚ åŠ¨æ€æ±¡ç‚¹è·Ÿè¸ªé€šå¸¸åŸºäºä»¥ä¸‹ä¸‰ç§æœºåˆ¶ åŠ¨æ€ä»£ç æ’æ¡©ï¼šå¯ä»¥è·Ÿè¸ªå•ä¸ªè¿›ç¨‹çš„æ±¡ç‚¹æ•°æ®æµåŠ¨ï¼Œé€šè¿‡åœ¨è¢«åˆ†æç¨‹åºä¸­æ’å…¥åˆ†æä»£ç ï¼Œè·Ÿè¸ªæ±¡ç‚¹ä¿¡æ¯æµåœ¨è¿›ç¨‹ä¸­çš„æµåŠ¨æ–¹å‘ã€‚ å…¨ç³»ç»Ÿæ¨¡æ‹Ÿï¼šåˆ©ç”¨å…¨ç³»ç»Ÿæ¨¡æ‹ŸæŠ€æœ¯ï¼Œåˆ†ææ¨¡æ‹Ÿç³»ç»Ÿä¸­æ¯æ¡æŒ‡ä»¤çš„æ±¡ç‚¹ä¿¡æ¯æ‰©æ•£è·¯å¾„ï¼Œå¯ä»¥è·Ÿè¸ªæ±¡ç‚¹æ•°æ®åœ¨æ“ä½œç³»ç»Ÿå†…çš„æµåŠ¨ã€‚ è™šæ‹Ÿæœºç›‘è§†å™¨ï¼šé€šè¿‡åœ¨è™šæ‹Ÿæœºç›‘è§†å™¨ä¸­å¢åŠ åˆ†ææ±¡ç‚¹ä¿¡æ¯æµçš„åŠŸèƒ½ï¼Œè·Ÿè¸ªæ±¡ç‚¹æ•°æ®åœ¨æ•´ä¸ªå®¢æˆ·æœºä¸­å„ä¸ªè™šæ‹Ÿæœºä¹‹é—´çš„æµåŠ¨ã€‚ æ±¡ç‚¹åŠ¨æ€è·Ÿè¸ªé€šå¸¸éœ€è¦å½±å­å†…å­˜ï¼ˆshadow memoryï¼‰æ¥æ˜ å°„å®é™…å†…å­˜çš„æ±¡æŸ“æƒ…å†µï¼Œä»è€Œè®°å½•å†…å­˜åŒºåŸŸå’Œå¯„å­˜å™¨æ˜¯å¦æ˜¯è¢«æ±¡æŸ“çš„ã€‚å¯¹æ¯æ¡è¯­å¥è¿›è¡Œåˆ†æçš„è¿‡ç¨‹ä¸­ï¼Œæ±¡ç‚¹è·Ÿè¸ªæ”»å‡»æ ¹æ®å½±å­å†…å­˜åˆ¤æ–­æ˜¯å¦å­˜åœ¨æ±¡ç‚¹ä¿¡æ¯çš„ä¼ æ’­ï¼Œä»è€Œå¯¹æ±¡ç‚¹ä¿¡æ¯è¿›è¡Œä¼ æ’­å¹¶å°†ä¼ æ’­ç»“æœä¿å­˜äºå½±å­å†…å­˜ä¸­ï¼Œè¿›è€Œè¿½è¸ªæ±¡ç‚¹æ•°æ®çš„æµå‘ã€‚ ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæ•°æ®ç§»åŠ¨ç±»å’Œç®—æ•°ç±»æŒ‡ä»¤éƒ½å°†é€ æˆæ˜¾ç¤ºçš„ä¿¡æ¯æµä¼ æ’­ã€‚ä¸ºäº†è·Ÿè¸ªæ±¡ç‚¹æ•°æ®çš„æ˜¾ç¤ºä¼ æ’­ï¼Œéœ€è¦åœ¨æ¯ä¸ªæ•°æ®ç§»åŠ¨æŒ‡ä»¤å’Œç®—æ•°æŒ‡ä»¤æ‰§è¡Œå‰åšç›‘æ§ï¼Œå½“æŒ‡ä»¤çš„ç»“æœè¢«å…¶ä¸­ä¸€ä¸ªæ“ä½œæ•°æ±¡æŸ“åï¼ŒæŠŠç»“æœæ•°æ®å¯¹åº”çš„å½±å­å†…å­˜è®¾ç½®ä¸ºä¸€ä¸ªæŒ‡é’ˆï¼ŒæŒ‡å‘æºæ±¡æŸ“ç‚¹æ“ä½œæ•°æŒ‡å‘çš„æ•°æ®ç»“æ„ã€‚ æ±¡ç‚¹è¯¯ç”¨æ£€æŸ¥ï¼šåœ¨æ­£ç¡®æ ‡è®°æ±¡ç‚¹æ•°æ®å¹¶å¯¹æ±¡ç‚¹æ•°æ®çš„ä¼ æ’­è¿›è¡Œå®æ—¶è·Ÿè¸ªåï¼Œå°±éœ€è¦å¯¹æ”»å‡»åšå‡ºæ­£ç¡®çš„æ£€æµ‹å³æ£€æµ‹æ±¡ç‚¹æ•°æ®æ˜¯å¦æœ‰éæ³•ä½¿ç”¨çš„æƒ…å†µã€‚ åŠ¨æ€æ±¡ç‚¹åˆ†æçš„ä¼˜ç¼ºç‚¹ï¼š ä¼˜ç‚¹ï¼šè¯¯æŠ¥ç‡è¾ƒä½ï¼Œæ£€æµ‹ç»“æœçš„å¯ä¿¡åº¦è¾ƒé«˜ã€‚ ç¼ºç‚¹ï¼š æ¼æŠ¥ç‡è¾ƒé«˜ï¼šç”±äºç¨‹åºåŠ¨æ€è¿è¡Œæ—¶çš„ä»£ç è¦†ç›–ç‡å†³å®šçš„ã€‚ å¹³å°ç›¸å…³æ€§è¾ƒé«˜ï¼šç‰¹å®šçš„åŠ¨æ€æ±¡ç‚¹åˆ†æå·¥å…·åªèƒ½å¤Ÿè§£å†³åœ¨ç‰¹å®šå¹³å°ä¸Šè¿è¡Œçš„ç¨‹åºã€‚ èµ„æºæ¶ˆè€—å¤§ï¼šåŒ…æ‹¬ç©ºé—´ä¸Šå’Œæ—¶é—´ä¸Šã€‚ åŠ¨æ€æ±¡ç‚¹åˆ†æçš„æ–¹æ³•å®ç°1.æ±¡ç‚¹æ•°æ®æ ‡è®°æ±¡ç‚¹æ•°æ®é€šå¸¸ä¸»è¦æ˜¯æŒ‡è½¯ä»¶ç³»ç»Ÿæ‰€æ¥å—çš„å¤–éƒ¨è¾“å…¥æ•°æ®ï¼Œåœ¨è®¡ç®—æœºä¸­ï¼Œè¿™äº›æ•°æ®å¯èƒ½ä»¥å†…å­˜ä¸´æ—¶æ•°æ®çš„å½¢å¼å­˜å‚¨ï¼Œä¹Ÿå¯èƒ½ä»¥æ–‡ä»¶çš„å½¢å¼å­˜å‚¨ã€‚å½“ç¨‹åºéœ€è¦ä½¿ç”¨è¿™äº›æ•°æ®æ—¶ï¼Œä¸€èˆ¬é€šè¿‡å‡½æ•°æˆ–ç³»ç»Ÿè°ƒç”¨æ¥è¿›è¡Œæ•°æ®è®¿é—®å’Œå¤„ç†ï¼Œå› æ­¤åªéœ€è¦å¯¹è¿™äº›å…³é”®å‡½æ•°è¿›è¡Œç›‘æ§ï¼Œå³å¯å¾—åˆ°ç¨‹åºè¯»å–æˆ–è¾“å‡ºäº†ä»€ä¹ˆæ±¡ç‚¹ä¿¡æ¯ã€‚å¦å¤–å¯¹äºç½‘ç»œè¾“å…¥ï¼Œä¹Ÿéœ€è¦å¯¹ç½‘ç»œæ“ä½œå‡½æ•°è¿›è¡Œç›‘æ§ã€‚ è¯†åˆ«å‡ºæ±¡ç‚¹æ•°æ®åï¼Œéœ€è¦å¯¹æ±¡ç‚¹è¿›è¡Œæ ‡è®°ã€‚æ±¡ç‚¹ç”Ÿå‘½å‘¨æœŸæ˜¯æŒ‡åœ¨è¯¥ç”Ÿå‘½å‘¨æœŸçš„æ—¶é—´èŒƒå›´å†…ï¼Œæ±¡ç‚¹è¢«å®šä¹‰ä¸ºæœ‰æ•ˆã€‚æ±¡ç‚¹ç”Ÿå‘½å‘¨æœŸå¼€å§‹äºæ±¡ç‚¹åˆ›å»ºæ—¶åˆ»ï¼Œç”Ÿæˆæ±¡ç‚¹æ ‡è®°ï¼Œç»“æŸäºæ±¡ç‚¹åˆ é™¤æ—¶åˆ»ï¼Œæ¸…é™¤æ±¡ç‚¹æ ‡è®°ã€‚ æ±¡ç‚¹åˆ›å»º å°†æ¥è‡ªäºéå¯é æ¥æºçš„æ•°æ®åˆ†é…ç»™æŸå¯„å­˜å™¨æˆ–å†…å­˜æ“ä½œæ•°æ—¶ å°†å·²ç»æ ‡è®°ä¸ºæ±¡ç‚¹çš„æ•°æ®é€šè¿‡è¿ç®—åˆ†é…ç»™æŸå¯„å­˜å™¨æˆ–å†…å­˜æ“ä½œæ•°æ—¶ æ±¡ç‚¹åˆ é™¤ å°†éæ±¡ç‚¹æ•°æ®æŒ‡æ´¾ç»™å­˜æ”¾æ±¡ç‚¹çš„å¯„å­˜å™¨æˆ–å†…å­˜æ“ä½œæ•°æ—¶ å°†æ±¡ç‚¹æ•°æ®æŒ‡æ´¾ç»™å­˜æ”¾æ±¡ç‚¹çš„å¯„å­˜å™¨æˆ–å†…å­˜åœ°å€æ—¶ï¼Œæ­¤æ—¶ä¼šåˆ é™¤åŸæ±¡ç‚¹ï¼Œå¹¶åˆ›å»ºæ–°æ±¡ç‚¹ ä¸€äº›ä¼šæ¸…é™¤æ±¡ç‚¹ç—•è¿¹çš„ç®—æ•°è¿ç®—æˆ–é€»è¾‘è¿ç®—æ“ä½œæ—¶ 2.æ±¡ç‚¹åŠ¨æ€è·Ÿè¸ªå½“æ±¡ç‚¹æ•°æ®ä»ä¸€ä¸ªä½ç½®ä¼ é€’åˆ°å¦ä¸€ä¸ªä½ç½®æ—¶ï¼Œåˆ™è®¤ä¸ºäº§ç”Ÿäº†æ±¡ç‚¹ä¼ æ’­ã€‚æ±¡ç‚¹ä¼ æ’­è§„åˆ™ï¼š æŒ‡ä»¤ç±»å‹ ä¼ æ’­è§„åˆ™ ä¸¾ä¾‹è¯´æ˜ æ‹·è´æˆ–ç§»åŠ¨æŒ‡ä»¤ T(a)&lt;-T(b) mov aï¼Œ b ç®—æ•°è¿ç®—æŒ‡ä»¤ T(a)&lt;-T(b) add aï¼Œ b å †æ ˆæ“ä½œæŒ‡ä»¤ T(esp)&lt;-T(a) push a æ‹·è´æˆ–ç§»åŠ¨ç±»å‡½æ•°è°ƒç”¨æŒ‡ä»¤ T(dst)&lt;-T(src) call memcpy æ¸…é›¶æŒ‡ä»¤ T(a)&lt;-false xor aï¼Œ a æ³¨ï¼šT(x) çš„å–å€¼åˆ†ä¸º true å’Œ false ä¸¤ç§ï¼Œå–å€¼ä¸º true æ—¶è¡¨ç¤º x ä¸ºæ±¡ç‚¹ï¼Œå¦åˆ™ x ä¸æ˜¯æ±¡ç‚¹ã€‚ å¯¹äºæ±¡ç‚¹ä¿¡æ¯æµï¼Œé€šè¿‡æ±¡ç‚¹è·Ÿè¸ªå’Œå‡½æ•°ç›‘æ§ï¼Œå·²ç»èƒ½å¤Ÿè¿›è¡Œæ±¡ç‚¹ä¿¡æ¯æµæµåŠ¨æ–¹å‘çš„åˆ†æã€‚ä½†ç”±äºç¼ºå°‘å¯¹è±¡çº§çš„ä¿¡æ¯ï¼Œä»…é æŒ‡ä»¤çº§çš„ä¿¡æ¯æµåŠ¨å¹¶ä¸èƒ½å®Œå…¨ç»™å‡ºè¦åˆ†æçš„è½¯ä»¶çš„ç¡®åˆ‡è¡Œä¸ºã€‚å› æ­¤ï¼Œéœ€è¦åœ¨å‡½æ•°ç›‘æ§çš„åŸºç¡€ä¸Šè¿›è¡Œè§†å›¾é‡å»ºï¼Œå¦‚è·å–æ–‡ä»¶å¯¹è±¡å’Œå¥—æ¥å­—å¯¹è±¡çš„è¯¦ç»†ä¿¡æ¯ï¼Œä»¥æ–¹ä¾¿è¿›ä¸€æ­¥çš„åˆ†æå·¥ä½œã€‚ æ ¹æ®æ¼æ´åˆ†æçš„å®é™…éœ€æ±‚ï¼Œæ±¡ç‚¹åˆ†æåº”åŒ…æ‹¬ä¸¤æ–¹é¢çš„ä¿¡æ¯ï¼š æ±¡ç‚¹çš„ä¼ æ’­å…³ç³»ï¼Œå¯¹äºä»»ä¸€æ±¡ç‚¹èƒ½å¤Ÿè·çŸ¥å…¶ä¼ æ’­æƒ…å†µã€‚ å¯¹æ±¡ç‚¹æ•°æ®è¿›è¡Œå¤„ç†çš„æ‰€æœ‰æŒ‡ä»¤ä¿¡æ¯ï¼ŒåŒ…æ‹¬æŒ‡ä»¤åœ°å€ã€æ“ä½œç ã€æ“ä½œæ•°ä»¥åŠåœ¨æ±¡ç‚¹å¤„ç†è¿‡ç¨‹ä¸­è¿™äº›æŒ‡ä»¤æ‰§è¡Œçš„å…ˆåé¡ºåºç­‰ã€‚ æ±¡ç‚¹åŠ¨æ€è·Ÿè¸ªçš„å®ç°é€šå¸¸ä½¿ç”¨ï¼š å½±å­å†…å­˜ï¼šçœŸå®å†…å­˜ä¸­æ±¡ç‚¹æ•°æ®çš„é•œåƒï¼Œç”¨äºå­˜æ”¾ç¨‹åºæ‰§è¡Œçš„å½“å‰æ—¶åˆ»æ‰€æœ‰çš„æœ‰æ•ˆæ±¡ç‚¹ã€‚ æ±¡ç‚¹ä¼ æ’­æ ‘ï¼šç”¨äºè¡¨ç¤ºæ±¡ç‚¹çš„ä¼ æ’­å…³ç³»ã€‚ æ±¡ç‚¹å¤„ç†æŒ‡ä»¤é“¾ï¼šç”¨äºæŒ‰æ—¶é—´é¡ºåºå­˜å‚¨ä¸æ±¡ç‚¹æ•°æ®å¤„ç†ç›¸å…³çš„æ‰€æœ‰æŒ‡ä»¤ã€‚ å½“é‡åˆ°ä¼šå¼•èµ·æ±¡ç‚¹ä¼ æ’­çš„æŒ‡ä»¤æ—¶ï¼Œé¦–å…ˆå¯¹æŒ‡ä»¤ä¸­çš„æ¯ä¸ªæ“ä½œæ•°éƒ½é€šè¿‡æ±¡ç‚¹å¿«é€Ÿæ˜ å°„æŸ¥æ‰¾å½±å­å†…å­˜ä¸­æ˜¯å¦å­˜åœ¨ä¸ä¹‹å¯¹åº”çš„å½±å­æ±¡ç‚¹ä»è€Œç¡®å®šå…¶æ˜¯å¦ä¸ºæ±¡ç‚¹æ•°æ®ï¼Œç„¶åæ ¹æ®æ±¡ç‚¹ä¼ æ’­è§„åˆ™å¾—åˆ°è¯¥æŒ‡ä»¤å¼•èµ·çš„æ±¡ç‚¹ä¼ æ’­ç»“æœï¼Œå¹¶å°†ä¼ æ’­äº§ç”Ÿçš„æ–°æ±¡ç‚¹æ·»åŠ åˆ°å½±å­å†…å­˜å’Œæ±¡ç‚¹ä¼ æ’­æ ‘ä¸­ï¼ŒåŒæ—¶å°†å¤±æ•ˆæ±¡ç‚¹å¯¹åº”çš„å½±å­æ±¡ç‚¹åˆ é™¤ã€‚åŒæ—¶ç”±äºä¸€æ¡æŒ‡ä»¤æ˜¯å¦æ¶‰åŠæ±¡ç‚¹æ•°æ®çš„å¤„ç†ï¼Œéœ€è¦åœ¨æ±¡ç‚¹åˆ†æè¿‡ç¨‹ä¸­åŠ¨æ€ç¡®å®šï¼Œå› æ­¤éœ€è¦åœ¨æ±¡ç‚¹å¤„ç†æŒ‡ä»¤é“¾ä¸­è®°å½•æ±¡ç‚¹æ•°æ®çš„æŒ‡ä»¤ä¿¡æ¯ã€‚ 3.æ±¡ç‚¹è¯¯ç”¨æ£€æŸ¥æ±¡ç‚¹æ•æ„Ÿç‚¹ï¼Œå³ Sink ç‚¹ï¼Œæ˜¯æ±¡ç‚¹æ•°æ®æœ‰å¯èƒ½è¢«è¯¯ç”¨çš„æŒ‡ä»¤æˆ–ç³»ç»Ÿè°ƒç”¨ç‚¹ï¼Œä¸»è¦åˆ†ä¸ºï¼š è·³è½¬åœ°å€ï¼šæ£€æŸ¥æ±¡ç‚¹æ•°æ®æ˜¯å¦ç”¨äºè·³è½¬å¯¹è±¡ï¼Œå¦‚è¿”å›åœ°å€ã€å‡½æ•°æŒ‡é’ˆã€å‡½æ•°æŒ‡é’ˆåç§»ç­‰ã€‚å…·ä½“æ“ä½œæ˜¯åœ¨æ¯ä¸ªè·³è½¬ç±»æŒ‡ä»¤ï¼ˆå¦‚callã€retã€jmpç­‰ï¼‰æ‰§è¡Œå‰è¿›è¡Œç›‘æ§åˆ†æï¼Œä¿è¯è·³è½¬å¯¹è±¡ä¸æ˜¯æ±¡ç‚¹æ•°æ®æ‰€åœ¨çš„å†…å­˜åœ°å€ã€‚ æ ¼å¼åŒ–å­—ç¬¦ä¸²ï¼šæ£€æŸ¥æ±¡ç‚¹æ•°æ®æ˜¯å¦ç”¨ä½œprintfç³»åˆ—å‡½æ•°çš„æ ¼å¼åŒ–å­—ç¬¦ä¸²å‚æ•°ã€‚ ç³»ç»Ÿè°ƒç”¨å‚æ•°ï¼šæ£€æŸ¥ç‰¹æ®Šç³»ç»Ÿè°ƒç”¨çš„ç‰¹æ®Šå‚æ•°æ˜¯å¦ä¸ºæ±¡ç‚¹æ•°æ®ã€‚ æ ‡å¿—ä½ï¼šè·Ÿè¸ªæ ‡å¿—ä½æ˜¯å¦è¢«æ„ŸæŸ“ï¼ŒåŠè¢«æ„ŸæŸ“çš„æ ‡å¿—ä½æ˜¯å¦ç”¨äºæ”¹å˜ç¨‹åºæ§åˆ¶æµã€‚ åœ°å€ï¼šæ£€æŸ¥æ•°æ®ç§»åŠ¨ç±»æŒ‡ä»¤çš„åœ°å€æ˜¯å¦è¢«æ„ŸæŸ“ã€‚ åœ¨è¿›è¡Œæ±¡ç‚¹è¯¯ç”¨æ£€æŸ¥æ—¶ï¼Œé€šå¸¸éœ€è¦æ ¹æ®ä¸€äº›æ¼æ´æ¨¡å¼æ¥è¿›è¡Œæ£€æŸ¥ï¼Œé¦–å…ˆéœ€è¦æ˜ç¡®å¸¸è§æ¼æ´åœ¨äºŒè¿›åˆ¶ä»£ç ä¸Šçš„è¡¨ç°å½¢å¼ï¼Œç„¶åå°†å…¶æç‚¼æˆæ¼æ´æ¨¡å¼ï¼Œä»¥æ›´æœ‰æ•ˆåœ°æŒ‡å¯¼è‡ªåŠ¨åŒ–çš„å®‰å…¨åˆ†æã€‚ åŠ¨æ€æ±¡ç‚¹åˆ†æçš„å®ä¾‹åˆ†æä¸‹é¢æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªä½¿ç”¨åŠ¨æ€æ±¡ç‚¹åˆ†æçš„æ–¹æ³•æ£€æµ‹ç¼“å†²åŒºæº¢å‡ºæ¼æ´çš„ä¾‹å­ã€‚ 12345678910111213141516void fun(char *str)&#123; char temp[15]ï¼› printf(&quot;in strncpyï¼Œ sourceï¼š %s\\n&quot;ï¼Œ str)ï¼› strncpy(tempï¼Œ strï¼Œ strlen(str))ï¼› // Sink ç‚¹&#125;int main(int argcï¼Œ char *argv[])&#123; char source[30]ï¼› gets(source)ï¼› // Source ç‚¹ if (strlen(source) &lt; 30) fun(source)ï¼› else printf(&quot;too long stringï¼Œ %s\\n&quot;ï¼Œ source)ï¼› return 0ï¼›&#125; æ¼æ´å¾ˆæ˜æ˜¾ï¼Œ è°ƒç”¨ strncpy å‡½æ•°å­˜åœ¨ç¼“å†²åŒºæº¢å‡ºã€‚ ç¨‹åºæ¥å—å¤–éƒ¨è¾“å…¥å­—ç¬¦ä¸²çš„äºŒè¿›åˆ¶ä»£ç å¦‚ä¸‹ï¼š 12345670x08048609 &lt;+51&gt;ï¼š lea eaxï¼Œ[ebp-0x2a]0x0804860c &lt;+54&gt;ï¼š push eax0x0804860d &lt;+55&gt;ï¼š call 0x8048400 &lt;gets@plt&gt;...0x0804862c &lt;+86&gt;ï¼š lea eaxï¼Œ[ebp-0x2a]0x0804862f &lt;+89&gt;ï¼š push eax0x08048630 &lt;+90&gt;ï¼š call 0x8048566 &lt;fun&gt; ç¨‹åºè°ƒç”¨ strncpy å‡½æ•°çš„äºŒè¿›åˆ¶ä»£ç å¦‚ä¸‹ï¼š 1234567890x080485a1 &lt;+59&gt;ï¼š push DWORD PTR [ebp-0x2c]0x080485a4 &lt;+62&gt;ï¼š call 0x8048420 &lt;strlen@plt&gt;0x080485a9 &lt;+67&gt;ï¼š add espï¼Œ0x100x080485ac &lt;+70&gt;ï¼š sub espï¼Œ0x40x080485af &lt;+73&gt;ï¼š push eax0x080485b0 &lt;+74&gt;ï¼š push DWORD PTR [ebp-0x2c]0x080485b3 &lt;+77&gt;ï¼š lea eaxï¼Œ[ebp-0x1b]0x080485b6 &lt;+80&gt;ï¼š push eax0x080485b7 &lt;+81&gt;ï¼š call 0x8048440 &lt;strncpy@plt&gt; é¦–å…ˆï¼Œåœ¨æ‰«æè¯¥ç¨‹åºçš„äºŒè¿›åˆ¶ä»£ç æ—¶ï¼Œèƒ½å¤Ÿæ‰«æåˆ° call &lt;gets@plt&gt;ï¼Œè¯¥å‡½æ•°ä¼šè¯»å…¥å¤–éƒ¨è¾“å…¥ï¼Œå³ç¨‹åºçš„æ”»å‡»é¢ã€‚ç¡®å®šäº†æ”»å‡»é¢åï¼Œæˆ‘ä»¬å°†åˆ†ææ±¡æŸ“æºæ•°æ®å¹¶è¿›è¡Œæ ‡è®°ï¼Œå³å°† [ebp-0x2a] æ•°ç»„ï¼ˆå³æºç¨‹åºä¸­çš„sourceï¼‰æ ‡è®°ä¸ºæ±¡ç‚¹æ•°æ®ã€‚ç¨‹åºç»§ç»­æ‰§è¡Œï¼Œè¯¥æ±¡æŸ“æ ‡è®°ä¼šéšç€è¯¥å€¼çš„ä¼ æ’­è€Œä¸€ç›´ä¼ é€’ã€‚åœ¨è¿›å…¥ fun() å‡½æ•°æ—¶ï¼Œè¯¥æ±¡æŸ“æ ‡è®°é€šè¿‡å½¢å‚å®å‚çš„æ˜ å°„ä¼ é€’åˆ°å‚æ•° str ä¸Šã€‚ç„¶åè¿è¡Œåˆ° Sink ç‚¹å‡½æ•° strncpy()ã€‚è¯¥å‡½æ•°çš„ç¬¬äºŒä¸ªå‚æ•°å³ str å’Œ ç¬¬ä¸‰ä¸ªå‚æ•° strlen(str) éƒ½æ˜¯æ±¡ç‚¹æ•°æ®ã€‚æœ€ååœ¨æ‰§è¡Œ strncpy() å‡½æ•°æ—¶ï¼Œè‹¥è®¾å®šäº†ç›¸åº”çš„æ¼æ´è§„åˆ™ï¼ˆç›®æ ‡æ•°ç»„å°äºæºæ•°ç»„ï¼‰ï¼Œåˆ™æ¼æ´è§„åˆ™å°†è¢«è§¦å‘ï¼Œæ£€æµ‹å‡ºç¼“å†²åŒºæº¢å‡ºæ¼æ´ã€‚ æ±¡ç‚¹åˆ†æåœ¨å®é™…åº”ç”¨ä¸­çš„å…³é”®æŠ€æœ¯æ±¡ç‚¹åˆ†æè¢«å¹¿æ³›åœ°åº”ç”¨åœ¨ç³»ç»Ÿéšç§æ•°æ®æ³„éœ²ã€å®‰å…¨æ¼æ´ç­‰é—®é¢˜çš„æ£€æµ‹ä¸­.åœ¨å®é™…åº”ç”¨è¿‡ç¨‹ä¸­,ç”±äºç³»ç»Ÿæ¡†æ¶ã€è¯­è¨€ç‰¹æ€§ç­‰æ–¹é¢çš„å·®å¼‚,é€šç”¨çš„æ±¡ç‚¹åˆ†ææŠ€æœ¯å¾€å¾€éš¾ä»¥é€‚ç”¨.æ¯”å¦‚:ç³»ç»Ÿæ¡†æ¶çš„é«˜åº¦æ¨¡å—åŒ–ä»¥åŠå„æ¨¡å—ä¹‹é—´å¤æ‚çš„è°ƒç”¨å…³ç³»å¯¼è‡´æ±¡ç‚¹æºåˆ°æ±‡èšç‚¹çš„ä¼ æ’­è·¯å¾„å˜å¾—å¤æ‚ã€åºå¤§,é‡‡ç”¨é€šç”¨çš„æ±¡ç‚¹åˆ†ææŠ€æœ¯å¯èƒ½é¢ä¸´å¼€é”€éš¾ä»¥æ¥å—çš„é—®é¢˜;é€šç”¨çš„æ±¡ç‚¹åˆ†ææŠ€æœ¯å¯¹æ–°çš„è¯­è¨€ç‰¹æ€§æ”¯æŒæœ‰é™ç­‰.ä¸ºæ­¤,éœ€è¦é’ˆå¯¹ä¸åŒçš„åº”ç”¨åœºæ™¯,å¯¹é€šç”¨çš„æ±¡ç‚¹åˆ†ææŠ€æœ¯è¿›è¡Œæ‰©å±•æˆ–å®šåˆ¶ æœ¬èŠ‚ä»¥ä¸¤ä¸ªä»£è¡¨æ€§çš„åº”ç”¨åœºæ™¯â€”â€”æ™ºèƒ½æ‰‹æœºçš„éšç§æ³„æ¼æ£€æµ‹å’ŒWebåº”ç”¨å®‰å…¨æ¼æ´æ£€æµ‹ä¸ºåˆ‡å…¥ç‚¹,æ€»ç»“è¿‘10å¹´æ¥æ±¡ç‚¹åˆ†ææŠ€æœ¯åœ¨ä¸Šè¿°é¢†åŸŸçš„åº”ç”¨å®è·µè¿‡ç¨‹ä¸­æ‰€é¢ä¸´çš„é—®é¢˜å’Œå…³é”®è§£å†³æŠ€æœ¯ æ£€æµ‹æ™ºèƒ½æ‰‹æœºéšç§æ³„éœ²é’ˆå¯¹Androidçš„æ±¡ç‚¹ä¼ æ’­åˆ†æä¹Ÿå›´ç»•ç»„ä»¶å±•å¼€,æŒ‰ç…§ä¼ æ’­å¯èƒ½é€šè¿‡çš„æ¨¡å—çš„ä¸åŒ,åˆ†ä¸ºç»„ä»¶å†…æ±¡ç‚¹ä¼ æ’­ã€ç»„ä»¶é—´æ±¡ç‚¹ä¼ æ’­ã€ç»„ä»¶ä¸åº“å‡½æ•°ä¹‹é—´çš„æ±¡ç‚¹ä¼ æ’­è¿™3ç±»(å¦‚å›¾7æ‰€ç¤º).æ¥ä¸‹æ¥å°†åˆ†åˆ«ä»‹ç»é’ˆå¯¹è¿™3ç±»ä¼ æ’­é—®é¢˜çš„é™æ€å’ŒåŠ¨æ€æ±¡ç‚¹ä¼ æ’­åˆ†ææŠ€æœ¯ é™æ€æ±¡ç‚¹åˆ†æ1.ç»„ä»¶å†…æ±¡ç‚¹ä¼ æ’­åˆ†æç»„ä»¶å†…éƒ¨æ±¡ç‚¹åˆ†æé¢ä¸´çš„ä¸»è¦é—®é¢˜æ˜¯å¦‚ä½•æ„å»ºå®Œæ•´çš„åˆ†ææ¨¡å‹.ä¸åŒäºä¼ ç»Ÿçš„C/C++ç¨‹åº(æœ‰å”¯ä¸€çš„Mainå‡½æ•°å…¥å£),Androidåº”ç”¨ç¨‹åºå­˜åœ¨æœ‰å¤šä¸ªå…¥å£å‡½æ•°çš„æƒ…å†µ.è¿™ä¸ªæƒ…å†µæºäºAndroidåº”ç”¨ç¨‹åºå¤æ‚çš„è¿è¡Œç”Ÿå‘½å‘¨æœŸ(ä¾‹å¦‚onCreate,onStart,onResume,onPauseç­‰)ä»¥åŠç¨‹åºä¸­å¤§é‡å­˜åœ¨çš„å›è°ƒå‡½æ•°å’Œå¼‚æ­¥å‡½æ•°è°ƒç”¨.ç”±äºä»»ä½•çš„ç¨‹åºå…¥å£éƒ½æœ‰å¯èƒ½æ˜¯éšç§æ•°æ®çš„æ¥æº,åœ¨é™æ€çš„æ±¡ç‚¹åˆ†æå¼€å§‹ä¹‹å‰å¿…é¡»æ„å»ºå®Œæ•´çš„åº”ç”¨ç¨‹åºæ¨¡å‹,ä»¥ç¡®ä¿ç¨‹åºä¸­æ¯ä¸€ç§å¯èƒ½çš„æ‰§è¡Œè·¯å¾„éƒ½ä¼šè¢«é™æ€æ±¡ç‚¹ä¼ æ’­åˆ†æè¦†ç›–åˆ° LeakMiner[^4]å’ŒCHEX[^5]å°è¯•ä½¿ç”¨å¢é‡çš„æ–¹æ³•æ„å»ºç³»ç»Ÿè°ƒç”¨å›¾. Arztç­‰äººè®¾è®¡çš„FlowDroid[^6]æå‡ºäº†ä¸€ç§æ›´ç³»ç»Ÿçš„æ„å»ºAndroidç¨‹åºå®Œæ•´åˆ†ææ¨¡å‹çš„æ–¹æ³•:é¦–å…ˆ,é€šè¿‡XMLé…ç½®æ–‡ä»¶æå–ä¸Androidç”Ÿå‘½å‘¨æœŸç›¸å…³çš„å…¥å£å‡½æ•°,å°†è¿™äº›æ–¹æ³•ä½œä¸ºèŠ‚ç‚¹,å¹¶æ ¹æ®Androidç”Ÿå‘½å‘¨æœŸæ„å»ºè°ƒç”¨å›¾(å¦‚å›¾8æ‰€ç¤º);å…¶æ¬¡,å¯¹äºç”Ÿå‘½å‘¨æœŸå†…çš„å›è°ƒå‡½æ•°,åœ¨è¯¥è°ƒç”¨å›¾çš„åŸºç¡€ä¸Šå¢åŠ ä¸é€æ˜è°“è¯èŠ‚ç‚¹(å³å›¾8ä¸­è±å½¢çš„PèŠ‚ç‚¹);ç„¶å,å¢é‡å¼åœ°å°†å›è°ƒå‡½æ•°åŠ å…¥è¿™ä¸ªå‡½æ•°è°ƒç”¨å›¾;æœ€å,å°†è°ƒç”¨å›¾ä¸Šæ‰€æœ‰çš„æ‰§è¡Œå…¥å£è¿æ¥åˆ°ä¸€ä¸ªè™šå‡çš„Mainå‡½æ•°ä¸Š.FlowDroidä¸­çš„ä¸€æ¬¡åˆæ³•çš„æ‰§è¡Œ,å°±æ˜¯å¯¹è°ƒç”¨å›¾è¿›è¡Œçš„ä¸€æ¬¡éå† Gordonç­‰äºº[^7]æå‡ºçš„DroidSafeä½¿ç”¨Androidè®¾å¤‡å®ç°(Android device implementation)æ¥æ„å»ºAndroidçš„å®Œæ•´åˆ†ææ¨¡å‹.Androidè®¾å¤‡å®ç°æ˜¯å¯¹Androidè¿è¡Œç¯å¢ƒçš„ä¸€ä¸ªç®€å•æ¨¡æ‹Ÿ,å®ƒä½¿ç”¨Javaè¯­è¨€,ç»“åˆAndroid Open Source Porject(AOSP),å®ç°äº†ä¸åŸAndroidæ¥å£è¯­ä¹‰ç­‰ä»·çš„æ¨¡å‹,å¹¶ä½¿ç”¨ç²¾ç¡®åˆ†æå­˜æ ¹(accurate analysis stub)å°†AOSPä»£ç ä¹‹å¤–çš„å‡½æ•°åŠ å…¥åˆ°æ¨¡å‹ä¸­ 2.ç»„ä»¶é—´æ±¡ç‚¹ä¼ æ’­åˆ†æå³ä½¿æ­£ç¡®åˆ†æäº†ç»„ä»¶å†…çš„æ•°æ®æµå…³ç³»,æ±¡ç‚¹æ•°æ®ä»ç„¶å¯èƒ½é€šè¿‡ç»„ä»¶é—´çš„æ•°æ®æµæ¥ä¼ é€’,ä»è€Œé€ æˆä¿¡æ¯æ³„éœ².å¦‚ä¸Šå›¾7å·¦ä¾§æ‰€ç¤º,å³ä½¿ä¿è¯äº†å¯¹ç»„ä»¶Aå†…éƒ¨æ±¡ç‚¹ä¼ æ’­çš„ç²¾ç¡®åˆ†æ,ç»„ä»¶Aä»ç„¶å¯èƒ½é€šè¿‡è°ƒç”¨æ–¹æ³•startActivityforResult()å°†ä¿¡æ¯ä¼ é€’ç»™ç»„ä»¶B,å†é€šè¿‡ç»„ä»¶Bäº§ç”Ÿæ³„éœ².å› æ­¤,é’ˆå¯¹Androidåº”ç”¨çš„æ±¡ç‚¹åˆ†æè¿˜éœ€è¦åˆ†æå‡ºç»„ä»¶é—´æ‰€æœ‰å¯èƒ½çš„æ•°æ®æµä¿¡æ¯.ç»„ä»¶é—´é€šä¿¡æ˜¯é€šè¿‡ç»„ä»¶å‘é€Intentæ¶ˆæ¯å¯¹è±¡å®Œæˆçš„.IntentæŒ‰ç…§å‚æ•°å­—æ®µæ˜¯å¦åŒ…å«ç›®æ ‡ç»„ä»¶åç§°åˆ†ä¸ºæ˜¾å¼Intentå’Œéšå¼Intent.å¦‚å›¾9æ‰€ç¤º:æ˜¾å¼Intentå¯¹è±¡ä½¿ç”¨ä¸€ä¸ªåŒ…å«ç›®æ ‡ç»„ä»¶åç§°çš„å‚æ•°æ˜¾å¼åœ°æŒ‡å®šé€šä¿¡çš„ä¸‹ä¸€ä¸ªç»„ä»¶;éšå¼Intentä½¿ç”¨action,categoryç­‰åŸŸéšå¼åœ°è®©Androidç³»ç»Ÿé€šè¿‡Intent Filterè‡ªåŠ¨é€‰æ‹©ä¸€ä¸ªç»„ä»¶è°ƒç”¨.ç›®å‰,è§£å†³è¯¥é—®é¢˜çš„ä¸»è¦æ€æƒ³æ˜¯åˆ©ç”¨Intentå‚æ•°ä¿¡æ¯åˆ†æç»„ä»¶é—´çš„æ•°æ®æµ è§£å†³ç»„ä»¶é—´æ•°æ®æµçš„å‰ææ˜¯è§£æIntentçš„ç›®çš„åœ°,è§£æIntentç›®çš„åœ°åŒ…æ‹¬è§£ææ˜¾å¼Intentçš„ç›®çš„åœ°å’Œéšå¼Intentçš„ç›®çš„åœ°.ç”±äºæ˜¾å¼Intentçš„ç›®çš„åœ°å¯ä»¥ç›´æ¥é€šè¿‡åˆå§‹åŒ–Intentçš„åœ°å€å­—ç¬¦ä¸²å‚æ•°è·å¾—,ç›®å‰,è§£ææ˜¾å¼Intentç›®çš„åœ°çš„å¸¸ç”¨æ–¹æ³•æ˜¯ä½¿ç”¨å­—ç¬¦ä¸²åˆ†æå·¥å…·æå–Intentä¸­å­—ç¬¦ä¸²å‚æ•°çš„ä¿¡æ¯. è§£æéšå¼Intentç›®çš„åœ°çš„ä¸»è¦æ–¹æ³•æ˜¯åˆ†æé…ç½®æ–‡ä»¶ä¿¡æ¯ä¸Intent Filteræ³¨å†Œå™¨ä¹‹é—´çš„æ˜ å°„å…³ç³»,å»ºç«‹å‘é€Intentç»„ä»¶å’Œæ¥å—Intentç»„ä»¶ä¹‹é—´çš„é…å¯¹å…³ç³».åœ¨è§£æå‡ºIntentç›®çš„åœ°ä¹‹å,é—®é¢˜çš„é‡ç‚¹è½¬ç§»åˆ°å¦‚ä½•æé«˜ç»„ä»¶é—´æ•°æ®æµåˆ†æçš„ç²¾åº¦ä¸Š. Klieberç­‰äººå°è¯•åœ¨å·²ç»å»ºç«‹å¥½çš„ç»„ä»¶å†…æ±¡ç‚¹åˆ†æçš„åŸºç¡€ä¸Š,ç»“åˆæ¨å¯¼è§„åˆ™æ¥åˆ†æç»„ä»¶é—´æ•°æ®æµ.åœ¨åˆ†æä¹‹å‰,éœ€è¦æ”¶é›†ç»„ä»¶å†…éƒ¨çš„æ±¡ç‚¹æºå’Œæ±‡èšç‚¹ä»¥åŠç»„ä»¶å†…Intentçš„å‘é€ç›®çš„åœ°æ ‡ç­¾ç­‰ä¿¡æ¯.è¡¨4å’Œè¡¨5ç»™å‡ºäº†æ¨å¯¼è§„åˆ™çš„å‰æå®šä¹‰å’Œå…·ä½“çš„æ¨å¯¼è§„åˆ™,å…¶ä¸­,ä¸€æ¬¡å®Œæ•´çš„åˆ†ææ˜¯æŒ‡æ ¹æ®å·²çŸ¥ç»„ä»¶å†…éƒ¨çš„ä¿¡æ¯srcâ†’sinksrcâ†’sin**kä»¥åŠæ¨å¯¼è§„åˆ™è¯†åˆ«æ‰€æœ‰srcâ€²â†’sinkâ€²srcâ€²â†’sin**kâ€²çš„æµé›†åˆ Octeauç­‰äººå°è¯•ä½¿ç”¨ç°æœ‰çš„ç¨‹åºåˆ†ææ–¹æ³•æé«˜ç»„ä»¶é—´æ•°æ®æµåˆ†æçš„ç²¾åº¦,ä»–ä»¬å°†ç»„ä»¶é—´æ•°æ®æµåˆ†æé—®é¢˜è½¬åŒ–æˆIDE(interprocedural distributive environment)é—®é¢˜[58]è¿›è¡Œæ±‚è§£.DroidSafeè®¾è®¡äº†ä¸€ç§å¯¹è±¡æ•æ„Ÿçš„åˆ«ååˆ†ææŠ€æœ¯,åœ¨æ­¤åŸºç¡€ä¸Šæä¾›çš„ç²¾åº¦ä¼˜åŒ–æ–¹æ³•åŒ…æ‹¬:æå–Intentçš„ç›®çš„åœ°çš„å­—ç¬¦ä¸²å‚æ•°ã€å°†Intentç›®çš„åœ°çš„åˆå§‹åŒ–å‡½æ•°åµŒå…¥åˆ°ç›®çš„ç»„ä»¶å½“ä¸­ä»¥æé«˜åˆ«ååˆ†æçš„ç²¾åº¦,åŒæ—¶,å¢åŠ å¤„ç†Android Serviceçš„æ”¯æŒ ç»„ä»¶ä¸åº“å‡½æ•°ä¹‹é—´çš„æ±¡ç‚¹ä¼ æ’­åˆ†æç»„ä»¶ä¸åº“å‡½æ•°ä¹‹é—´çš„æ±¡ç‚¹ä¼ æ’­åˆ†æé¢ä¸´çš„ä¸»è¦é—®é¢˜åŒ…æ‹¬å¯¹Androidåº“å‡½æ•°è‡ªèº«åºå¤§çš„ä»£ç é‡çš„åˆ†æä»¥åŠç»„ä»¶å’ŒæŸäº›åº“å‡½æ•°ä½¿ç”¨çš„å®ç°è¯­è¨€ä¸åŒ(Androidç»„ä»¶é€šå¸¸ç”¨Javaå®ç°,è€Œæœ¬åœ°åº“åˆ™é‡‡ç”¨C/C++ä»£ç ç¼–å†™)è¿™ä¸¤æ–¹é¢ åŠ¨æ€æ±¡ç‚¹åˆ†æAndroidç³»ç»Ÿä¸­çš„åŠ¨æ€æ±¡ç‚¹åŒæ ·éœ€è¦åˆ†æç»„ä»¶å†…æ±¡ç‚¹ä¼ æ’­ã€ç»„ä»¶é—´æ±¡ç‚¹ä¼ æ’­ä»¥åŠç»„ä»¶ä»£ç ä¸æœ¬åœ°åº“ä¹‹é—´çš„æ±¡ç‚¹ä¼ æ’­.åŠ¨æ€æ±¡ç‚¹åˆ†æé¢ä¸´çš„ä¸»è¦æŒ‘æˆ˜æ˜¯ç³»ç»Ÿä¿¡æ¯é™¤äº†åœ¨ç³»ç»Ÿå†…éƒ¨é€šè¿‡DEXæŒ‡ä»¤ä¼ æ’­ä»¥å¤–,è¿˜ä¼šç»è¿‡å…¶ä»–çš„é€šé“,å¦‚æœ¬åœ°åº“ã€ç½‘ç»œã€æ–‡ä»¶ç­‰. 1.ç»„ä»¶å†…çš„æ±¡ç‚¹ä¼ æ’­2.ç»„ä»¶é—´çš„æ±¡ç‚¹ä¼ æ’­3.ç»„ä»¶ä¸æœ¬åœ°åº“å‡½æ•°é—´çš„æ±¡ç‚¹ä¼ æ’­åŒ…æ‹¬æ±¡ç‚¹æ•°æ®é€šè¿‡æœ¬åœ°åº“ä»£ç æˆ–æ–‡ä»¶è¿›è¡Œä¼ æ’­.TaintDroidé€šè¿‡è®¾è®¡åç½®æ¡ä»¶å¯¹æœ¬åœ°ä»£ç çš„å‡½æ•°è¿›è¡Œæ±¡ç‚¹ä¼ æ’­.åç½®æ¡ä»¶ä¸º: (a) æ‰€æœ‰æœ¬åœ°ä»£ç è®¿é—®çš„å¤–éƒ¨å˜é‡éƒ½ä¼šè¢«æ ‡è®°ä¸Šæ±¡ç‚¹æ ‡ç­¾; (b) æ ¹æ®é¢„å®šä¹‰è§„åˆ™å°†è¢«èµ‹å€¼çš„å‡½æ•°è¿”å›å€¼ä¹Ÿæ ‡è®°ä¸Šæ±¡ç‚¹æ ‡ç­¾ æ€»ç»“æ±¡ç‚¹åˆ†æä½œä¸ºä¿¡æ¯æµåˆ†æçš„ä¸€ç§å®è·µæŠ€æœ¯,è¢«å¹¿æ³›åº”ç”¨äºäº’è”ç½‘åŠç§»åŠ¨ç»ˆç«¯å¹³å°ä¸Šåº”ç”¨ç¨‹åºçš„ä¿¡æ¯å®‰å…¨ä¿éšœä¸­.æœ¬æ–‡ä»‹ç»äº†æ±¡ç‚¹åˆ†æçš„åŸºæœ¬åŸç†å’Œé€šç”¨æŠ€æœ¯,å¹¶é’ˆå¯¹è¿‘å¹´æ¥æ±¡ç‚¹åˆ†æåœ¨è§£å†³å®é™…åº”ç”¨ç¨‹åºå®‰å…¨é—®é¢˜æ—¶é‡åˆ°çš„é—®é¢˜å’Œå…³é”®è§£å†³æŠ€æœ¯è¿›è¡Œäº†åˆ†æç»¼è¿°.ä¸åŒäºåŸºäºå®‰å…¨ç±»å‹ç³»ç»Ÿçš„ä¿¡æ¯æµåˆ†ææŠ€æœ¯,æ±¡ç‚¹åˆ†æå¯ä»¥ä¸æ”¹å˜ç¨‹åºç°æœ‰çš„ç¼–ç¨‹æ¨¡å‹æˆ–è¯­è¨€ç‰¹æ€§,å¹¶æä¾›ç²¾ç¡®ä¿¡æ¯æµä¼ æ’­è·Ÿè¸ª.åœ¨å®é™…åº”ç”¨è¿‡ç¨‹ä¸­,æ±¡ç‚¹åˆ†æè¿˜éœ€è¦å€ŸåŠ©ä¼ ç»Ÿçš„ç¨‹åºåˆ†ææŠ€æœ¯çš„æ”¯æŒ,ä¾‹å¦‚é™æ€åˆ†æä¸­çš„æ•°æ®æµåˆ†æã€åŠ¨æ€åˆ†æä¸­çš„ä»£ç é‡å†™ç­‰æŠ€æœ¯.å¦å¤–,ç»“åˆæµ‹è¯•ç”¨ä¾‹ç”ŸæˆæŠ€æœ¯ã€ç¬¦å·æ‰§è¡ŒæŠ€æœ¯ä»¥åŠè™šæ‹ŸæœºæŠ€æœ¯,ä¹Ÿä¼šç»™æ±¡ç‚¹åˆ†æå¸¦æ¥æ›´å¤šè¡Œä¹‹æœ‰æ•ˆçš„è§£å†³æ–¹æ¡ˆ å‚è€ƒæ–‡çŒ®[^1]:Vogt P, Nentwich F, Jovanovic N, Kirda E, Kruegel C, Vigna G. Cross site scripting prevention with dynamic data tainting and static analysis. In: Proc. of the NDSS 2007. 2007. 12. http://citeseerx.ist.psu.edu/viewdoc/summary?doi=10.1.1.72.4505[^2]:Gordon MI, Kim D, Perkins JH, Gilham L, Nguyen N, Rinard MC. Information flow analysis of Android applications in DroidSafe. In: Proc. of the NDSS 2015. 2015. [doi: 10.14722/ndss.2015.23089][^3]:Rasthofer S, Arzt S, Bodden E. A machine-learning approach for classifying and categorizing android sources and sinks. In: Proc. of the Network and Distributed System Security Symp. (NDSS). 2014. [doi: 10.14722/ndss.2014.23039] [^4]:Yang Z, Yang M. Leakminer: Detect information leakage on Android with static taint analysis. In: Proc. of the Software Engineering. IEEE, 2012. 101âˆ’104. [doi: 10.1109/WCSE.2012.26][^5]:Lu L, Li Z, Wu Z, Lee W, Jiang G. Chex: Statically vetting Android apps for component hijacking vulnerabilities. In: Proc. of the 2012 ACM Conf. on Computer and Communications Security. ACM Press, 2012. 229âˆ’240. [doi: 10.1145/2382196.2382223][^6]:Arzt S, Rasthofer S, Fritz C, Bodden E, Bartel A, Klein J, Le Traon Y, Octeau D, McDaniel P. Flowdroid: Precise context, flow, field, object-sensitive and lifecycle-aware taint analysis for Android apps. ACM SIGPLAN Notices, 2014,49(6):259âˆ’269. [doi: 10.1145/2594291.2594299][^7]:Gordon MI, Kim D, Perkins JH, Gilham L, Nguyen N, Rinard MC. Information flow analysis of Android applications in DroidSafe. In: Proc. of the NDSS 2015. 2015. [doi: 10.14722/ndss.2015.23089] åŸæ–‡é“¾æ¥","categories":[{"name":"ç¨‹åºåˆ†æ","slug":"ç¨‹åºåˆ†æ","permalink":"https://lwy0518.github.io/categories/%E7%A8%8B%E5%BA%8F%E5%88%86%E6%9E%90/"}],"tags":[{"name":"æ•°æ®æµ","slug":"æ•°æ®æµ","permalink":"https://lwy0518.github.io/tags/%E6%95%B0%E6%8D%AE%E6%B5%81/"},{"name":"æ±¡ç‚¹åˆ†æ","slug":"æ±¡ç‚¹åˆ†æ","permalink":"https://lwy0518.github.io/tags/%E6%B1%A1%E7%82%B9%E5%88%86%E6%9E%90/"},{"name":"ä¾èµ–å…³ç³»","slug":"ä¾èµ–å…³ç³»","permalink":"https://lwy0518.github.io/tags/%E4%BE%9D%E8%B5%96%E5%85%B3%E7%B3%BB/"},{"name":"Source/Sink","slug":"Source-Sink","permalink":"https://lwy0518.github.io/tags/Source-Sink/"}],"author":"lwy"},{"title":"EOSIOAnalyzeræ¶æ„","slug":"EOSIOAnalyzeræ¶æ„","date":"2021-12-13T11:00:39.000Z","updated":"2021-12-27T02:33:24.263Z","comments":true,"path":"2021/12/13/EOSIOAnalyzeræ¶æ„/","link":"","permalink":"https://lwy0518.github.io/2021/12/13/EOSIOAnalyzer%E6%9E%B6%E6%9E%84/","excerpt":"EOSIOAnalyzerç›®å½• EOSIOAnalyzer æ¡†æ¶ Control flow graph builder Static analyzer å°†å¾—åˆ°çš„Wasm CFGè½¬ä¸ºIR CFG å¯¹IR CFGåŸºæœ¬å—è¿›è¡Œæ•°æ®æµåˆ†æ è¾“å‡ºæ‰€æœ‰çš„EDBæ–‡ä»¶ ç¨‹åºä»‹ç» åˆ†æè„šæœ¬ Datalogè§„èŒƒ Vulnerability detector Fake EOS Transfer Forged Transfer Notification Block Information Dependency","text":"EOSIOAnalyzerç›®å½• EOSIOAnalyzer æ¡†æ¶ Control flow graph builder Static analyzer å°†å¾—åˆ°çš„Wasm CFGè½¬ä¸ºIR CFG å¯¹IR CFGåŸºæœ¬å—è¿›è¡Œæ•°æ®æµåˆ†æ è¾“å‡ºæ‰€æœ‰çš„EDBæ–‡ä»¶ ç¨‹åºä»‹ç» åˆ†æè„šæœ¬ Datalogè§„èŒƒ Vulnerability detector Fake EOS Transfer Forged Transfer Notification Block Information Dependency EOSIOAnalyzer EOSIOAnalyzeræ˜¯ä¸€ä¸ªç”¨äºåˆ†æEOSIOæ™ºèƒ½åˆçº¦å­—èŠ‚ç çš„åˆ†ææ¡†æ¶ã€‚åˆ†ææ¡†æ¶ç”±ä¸‰ä¸ªéƒ¨åˆ†ç»„æˆï¼š Control flow graph builder Static analyzer Vulnerability detector ä»¥ä¸Šæ˜¯è¯¥æ¡†æ¶çš„ä¸»è¦éƒ¨åˆ†ã€‚é™¤äº†Vulnerability detectoréƒ¨åˆ†æ˜¯é€šè¿‡ Datalogç¼–å†™çš„ï¼ˆæ‰§è¡Œå¼•æ“ä¸ºSouffle)ï¼Œå…¶ä»–éƒ¨åˆ†å‡ç”¨pythonç¼–å†™ã€‚ Datalogå¤§çº¦900è¡Œï¼Œpythonå¤§çº¦3000è¡Œ ä¸‹å›¾æ˜¯å…¶æ¡†æ¶å›¾ï¼š Control flow graph builderâ€‹ è¾“å…¥ä¸ºWasmå­—èŠ‚ç ï¼Œå¦‚æœæ˜¯æºä»£ç ï¼Œå¯ä»¥ç”¨ç°æœ‰çš„ç¼–è¯‘å™¨ï¼ˆllvmï¼Œeosio.cdtï¼Œemscriptenï¼Œrustupç­‰ç­‰ï¼‰ç¼–è¯‘ä¸ºå­—èŠ‚ç ï¼Œç„¶ååŸºäºç°æœ‰å¼€æºå·¥å…·Octopuså°†Wasmå­—èŠ‚ç æ„é€ å¯¹åº”çš„æ§åˆ¶æµå›¾ï¼Œä½œä¸ºä¸‹ä¸€æ­¥çš„è¾“å…¥ Static analyzer è¿™æ˜¯EOSIOAnalyzerçš„æ ¸å¿ƒã€‚ç”±äºEOS VMçš„åŸºäºå †æ ˆçš„ç´§å‡‘æ‰§è¡Œæ¨¡å‹æ··æ·†äº†è·³è½¬åœ°å€ï¼Œæ‰€ä»¥å°† Wasmå­—èŠ‚ç è½¬æ¢ä¸ºä¸­é—´è¡¨ç¤ºï¼Œå…¶ä¸­æ‰§è¡Œå †æ ˆè¢«å¯„å­˜å™¨å˜é‡æ›¿æ¢ï¼Œç„¶åæ„å»ºåˆçº¦çš„è¿‡ç¨‹é—´æ§åˆ¶æµå›¾ï¼ˆICFGï¼‰ä»¥è¿›è¡Œæ¼æ´åˆ†æ å°†å¾—åˆ°çš„Wasm CFGè½¬ä¸ºIR CFGâ€‹ å°†ä¸Šä¸€æ­¥å¾—åˆ°çš„Wasm CFGè¿›è¡Œè½¬æ¢ï¼Œå°†ä½çº§çš„wasmæŒ‡ä»¤è½¬ä¸ºæ›´é«˜çº§ä¸­é—´è¡¨ç¤ºï¼ˆIRï¼‰ å¯¹IR CFGåŸºæœ¬å—è¿›è¡Œæ•°æ®æµåˆ†æâ€‹ å¯¹å¾—åˆ°çš„IR CFGè¿›è¡Œæ•°æ®æµåˆ†æï¼Œå¾—åˆ°å®Œæ•´çš„æ•°æ®ä¼ æ’­å…³ç³»ï¼ˆDef_Useï¼‰ ç»†ç²’åº¦åˆ†æå¾—åˆ°è¿‡ç¨‹å†…CFGï¼ˆintra-procedural control flow graphï¼‰ä»¥åŠç²—ç²’åº¦åˆ†æå¾—åˆ°è°ƒç”¨å›¾ï¼ˆcall graphï¼‰ï¼Œç»“åˆå¾—åˆ°è¿‡ç¨‹é—´æ§åˆ¶æµå›¾ï¼ˆICFGï¼Œinter-procedural control flow graphï¼‰ â€‹ å…·ä½“è¿‡ç¨‹å¦‚ä¸‹ï¼š å°† Wasmå­—èŠ‚ç è½¬ä¸ºWasmåŸºæœ¬å—ï¼ˆåœ¨Control flow graph builderä¸­å·²ç»å®ç°ï¼‰ å°†æ¯ä¸ªWasmåŸºæœ¬å—è½¬ä¸ºå¯¹åº”çš„IRåŸºæœ¬å— æ„é€ å¯¹åº”çš„IR CFGï¼Œä½œä¸ºç¨‹åºsrc/exporter.pyçš„è¾“å…¥ï¼Œè¾“å‡ºä»¥ä¸‹å†…å®¹ çŠ¶æ€è½¬æ¢å‡½æ•°ï¼š è¾“å‡ºæ‰€æœ‰çš„EDBï¼ˆ.factsï¼‰æ–‡ä»¶ edgeï¼šåŒ…å«å—å†…ä¸å—é—´ä¹‹é—´çš„è¾¹ defï¼šæ–°èµ‹å€¼çš„å˜é‡ï¼Œæ¯ä¸ªå˜é‡éƒ½æ˜¯ä¸€ä¸ªå¯„å­˜å™¨å˜é‡ï¼ˆå”¯ä¸€ï¼‰ useï¼šæ¯ä¸ªè¯­å¥éœ€è¦ä½¿ç”¨ä¹‹å‰å®šä¹‰çš„å˜é‡ opï¼šwasmæ“ä½œç  valueï¼šç¨‹åºä¸­çš„å¸¸é‡ immï¼šæ“ä½œç éœ€è¦çš„ç«‹å³æ•° block_in_functionï¼šæ¯ä¸ªå‡½æ•°åŒ…å«çš„å—å func_call_edgeï¼šåŒ…å«æ‰€æœ‰ç›´æ¥è°ƒç”¨ï¼ˆcallï¼‰ä»¥åŠé—´æ¥è°ƒç”¨ï¼ˆcall_indirectï¼‰ä¹‹é—´çš„è¾¹ in_functionï¼šæ¯ä¸ªå‡½æ•°åŒ…å«çš„è¯­å¥ï¼ˆstatementï¼‰ is_functionï¼šç¨‹åºä¸­çš„æ‰€æœ‰å‡½æ•°ï¼ˆåŒ…æ‹¬importã€exportã€localï¼‰ function_typesï¼šåªåŒ…å«exportå’Œlocalå‡½æ•°çš„ç­¾åï¼ˆå‚æ•°åŠè¿”å›å€¼ï¼‰ static_datasï¼šç¨‹åºä¸­çš„å¸¸é‡åŠå­—ç¬¦ä¸² block_domï¼šåŒ…å«å—å†…ä¸å—é—´çš„dominatorå…³ç³» typesï¼šé—´æ¥è°ƒç”¨å¯¹åº”çš„å‡½æ•°ç±»å‹ï¼ˆcall_indirectçš„ç¬¬ä¸€ä¸ªç«‹å³æ•°ï¼‰ ç¨‹åºä»‹ç» å®ç°ï¼šç›®å½•srcä¸‹åŒ…å«å¤§éƒ¨åˆ†pythonç¨‹åºï¼Œä¸‹é¢å°†ä»‹ç»è¿™äº›ç¨‹åºåŠŸèƒ½ src/cfg.pyï¼šå®šä¹‰åŸºç±»ControlFlowGraphå’ŒBasicBlock src/wasm_cfg.pyï¼šä¸“é—¨çš„cfg.ControlFlowGraphå’Œcfg.BasicBlockç”¨äºè¡¨ç¤ºWasmå­—èŠ‚ç çš„æ§åˆ¶æµå›¾ src/ir_cfg.pyï¼šä¸“é—¨wasm_cfg.*ç”¨äºåœ¨æˆ‘ä»¬çš„ä¸­é—´è¡¨ç¤ºä¸­è¡¨ç¤ºåˆçº¦çš„ç±»ã€‚å®ç°å®šä¹‰ir_cfg.Destackifieräº†ä¸€ä¸ªå°†å•ä¸ªwasm_cfg.EVMBasicBlockå®ä¾‹è½¬æ¢ä¸ºir_cfg.IRBasicBlockå®ä¾‹çš„ç±»ï¼›å’Œè¾…åŠ©ç±»IROp, IRAssignOp, IRArg,IRCallOp ä»¥åŠIRLocRefæˆ‘ä»¬çš„ä¸­é—´è¡¨ç¤º src/exporter.pyï¼šå®šä¹‰äº†ä»ç»™å®šçš„æ§åˆ¶æµå›¾ç”Ÿæˆ EOSIOAnalyzerè¾“å‡ºè¡¨ç¤ºçš„ç±»ã€‚åœ¨å…¶æ„é€ å‡½æ•°ä¸­æ¥å—ä¸€ä¸ª CFG å®ä¾‹ï¼Œå¹¶åŒ…å«ä¸€ä¸ªäº§ç”Ÿè¾“å‡ºçš„export()å‡½æ•°ï¼Œè¾“å‡ºæ‰€æœ‰EDBæ–‡ä»¶ src/dataflow.pyï¼š src/lattice.pyï¼šå®ç°latticeç±»ï¼Œç”¨äºå®šç‚¹æ•°æ®æµåˆ†æ src/memtypes.pyï¼šç”¨äºè¡¨ç¤ºå’Œä½¿ç”¨æˆ‘ä»¬çš„ IR ä¸­ä½¿ç”¨çš„å¯„å­˜å™¨å˜é‡çš„ç±»ã€‚å˜é‡å¯ä»¥æ˜¯å¸¸æ•°ã€è®¾å®šå€¼æˆ–æœªçŸ¥ src/wasm_inst.pyï¼šä½¿ç”¨å®˜æ–¹æ–‡æ¡£ä¸­çš„ä¿¡æ¯å®šä¹‰ WasmæŒ‡ä»¤é›† src/number.pyï¼šåŒ…å«æ‰€æœ‰ä¸numberç›¸å…³çš„å‡½æ•°å’Œç±» src/requirement.txtï¼šåŒ…å«ç¨‹åºè¿è¡Œæ‰€éœ€è¦çš„åŒ… åˆ†æè„šæœ¬ æˆ‘ä»¬çš„åˆ†æè„šæœ¬tools/bulk_analysis.pyå¯ä»¥åˆ†æå•ä¸ªåˆçº¦å­—èŠ‚ç ç›®å½•ï¼Œä¹Ÿå¯ä»¥åˆ†æåŒ…å«å¤šä¸ªæ™ºèƒ½åˆçº¦å­—èŠ‚ç ç›®å½•ï¼ˆå¯ä»¥å¤šçº¿ç¨‹è¿è¡Œï¼‰ï¼Œåªéœ€ä¿®æ”¹è·¯å¾„å³å¯ã€‚ç»“åˆSouffle å¼•æ“ä»¥åŠç¼–å†™çš„æ¼æ´è§„åˆ™ï¼Œæœ€ç»ˆä¼šè¾“å‡ºä¸€ä¸ªjsonæ ¼å¼çš„æ–‡ä»¶ï¼ŒåŒ…å«æœ€ç»ˆçš„æ¼æ´åˆ†æç»“æœ Datalogè§„èŒƒ æˆ‘ä»¬ç¼–å†™çš„Datalogè§„åˆ™åœ¨ç›®å½•tools/spec.dlã€tools/instructions.dlä¸­ ä¾‹å¦‚ï¼Œä»¥ä¸‹è§„åˆ™ç”¨äºæ£€æµ‹Fake EOS Transferæ¼æ´ 1234567.decl DetectFakedEosTransfer(call_stmt: Statement).output DetectFakedEosTransferDetectFakedEosTransfer(call_stmt) :- NotEosioToken(true_stmt), Call_Transfer(call_stmt), Dominates(call_stmt, true_stmt). Vulnerability detector Fake EOS Transfer æè¿°ï¼šç”±äºeosio.tokenæºä»£ç å®Œå…¨å…¬å¼€çš„ï¼Œæ‰€ä»¥ä»»ä½•äººéƒ½èƒ½å¤åˆ¶å…¶æºä»£ç ï¼Œå¹¶å‘å¸ƒä¸€ä¸ªtokenï¼ˆç›¸åŒçš„åå­—ã€ç¬¦å·å’Œä»£ç ï¼‰ï¼Œè™šå‡çš„EOSå’Œå®˜æ–¹çš„å”¯ä¸€ä¸åŒå°±æ˜¯å…·æœ‰ä¸åŒçš„å‘å¸ƒäººã€‚æˆ–è€…ç›´æ¥è°ƒç”¨æ¼æ´åˆçº¦çš„transferå‡½æ•°è¿›è¡Œè½¬è´¦ è§„åˆ™ï¼šcode == N(eosio.token) â€“&gt; action == N(transfer) åœ¨applyå‡½æ•°ä¸­ï¼Œçœ‹æ˜¯å¦å­˜åœ¨è¿™æ ·ä¸€æ¡éªŒè¯è·¯å¾„ï¼Œå¦‚å­˜åœ¨åˆ™ä¸å­˜åœ¨è¯¥æ¼æ´ï¼Œåä¹‹åˆ™å­˜åœ¨ï¼› Forged Transfer Notification æè¿°ï¼šæ”»å‡»è€…åœ¨ EOS ç½‘ç»œä¸­æ§åˆ¶ä¸¤ä¸ªè´¦æˆ· A å’Œ Bï¼Œé€šè¿‡è´¦æˆ· A å‘è´¦æˆ· B å‘é€çœŸæ­£çš„ EOSï¼Œeosio.token åˆçº¦åœ¨è½¬è´¦æˆåŠŸåä¼šå‘ B å‘é€ notificationã€‚å½“è´¦æˆ· B æ”¶åˆ° notificationåéšå³è½¬å‘åˆ°å—å®³è€…æ™ºèƒ½åˆçº¦ C Transfer â€“&gt; _self == to åœ¨æ‰¾åˆ°çš„æ‰€ä»¥å¯èƒ½â€œtransferâ€å‡½æ•°ä¸­ï¼Œçœ‹æ˜¯å¦å­˜åœ¨*_self*ä¸toçš„æ¯”è¾ƒï¼Œå¦‚å­˜åœ¨åˆ™ä¸å­˜åœ¨è¯¥æ¼æ´ï¼Œåä¹‹åˆ™å­˜åœ¨ï¼› Block Information Dependency æè¿°ï¼šå¼€å‘è€…ä¸€èˆ¬è°ƒç”¨tapos_block_prefixæˆ–tapos_block_numberè·å¾—åŒºå—é“¾ä¿¡æ¯ï¼Œå¹¶å°†å…¶è¿”å›å€¼ä½œä¸ºæ§åˆ¶æµçš„åˆ¤æ–­æ¡ä»¶ï¼Œå¹¶æœ€åè§¦å‘è°ƒç”¨send_inlineå‡½æ•°è¿›è¡Œè½¬è´¦è¡Œä¸º tapos_block_prefix/tapos_block_num â€“&gt; send_inline å¦‚æœå­˜åœ¨ä¸€æ¡ç”±tapos_block_prefix/tapos_block_numå‡½æ•°ä½œä¸ºæ§åˆ¶æ¡ä»¶å¹¶æœ€åè§¦å‘send_inlineå‡½æ•°çš„è°ƒç”¨ï¼Œåˆ™å­˜åœ¨è¯¥æ¼æ´ï¼Œåä¹‹ä¸å­˜åœ¨","categories":[{"name":"EOSIO","slug":"EOSIO","permalink":"https://lwy0518.github.io/categories/EOSIO/"}],"tags":[{"name":"æ•°æ®æµ","slug":"æ•°æ®æµ","permalink":"https://lwy0518.github.io/tags/%E6%95%B0%E6%8D%AE%E6%B5%81/"},{"name":"EOSIO","slug":"EOSIO","permalink":"https://lwy0518.github.io/tags/EOSIO/"},{"name":"ç¼–è¯‘å™¨","slug":"ç¼–è¯‘å™¨","permalink":"https://lwy0518.github.io/tags/%E7%BC%96%E8%AF%91%E5%99%A8/"},{"name":"æ¼æ´æ£€æµ‹","slug":"æ¼æ´æ£€æµ‹","permalink":"https://lwy0518.github.io/tags/%E6%BC%8F%E6%B4%9E%E6%A3%80%E6%B5%8B/"},{"name":"é™æ€åˆ†æ","slug":"é™æ€åˆ†æ","permalink":"https://lwy0518.github.io/tags/%E9%9D%99%E6%80%81%E5%88%86%E6%9E%90/"},{"name":"Datalog","slug":"Datalog","permalink":"https://lwy0518.github.io/tags/Datalog/"},{"name":"CFG","slug":"CFG","permalink":"https://lwy0518.github.io/tags/CFG/"},{"name":"IR","slug":"IR","permalink":"https://lwy0518.github.io/tags/IR/"}],"author":"lwy"},{"title":"ç¨‹åºåˆ†æä¹‹ä¸­é—´è¡¨ç¤ºï¼ˆIntermediate Representationï¼‰","slug":"ç¨‹åºåˆ†æä¹‹ä¸­é—´è¡¨ç¤ºï¼ˆIntermediate-Representationï¼‰","date":"2021-12-10T07:43:30.000Z","updated":"2021-12-26T07:47:51.812Z","comments":true,"path":"2021/12/10/ç¨‹åºåˆ†æä¹‹ä¸­é—´è¡¨ç¤ºï¼ˆIntermediate-Representationï¼‰/","link":"","permalink":"https://lwy0518.github.io/2021/12/10/%E7%A8%8B%E5%BA%8F%E5%88%86%E6%9E%90%E4%B9%8B%E4%B8%AD%E9%97%B4%E8%A1%A8%E7%A4%BA%EF%BC%88Intermediate-Representation%EF%BC%89/","excerpt":"é™æ€åˆ†æç¨‹åºé™æ€åˆ†æï¼ˆProgram Static Analysisï¼‰æ˜¯æŒ‡åœ¨ä¸è¿è¡Œä»£ç çš„æ–¹å¼ä¸‹ï¼Œé€šè¿‡è¯æ³•åˆ†æã€è¯­æ³•åˆ†æã€æ§åˆ¶æµã€æ•°æ®æµåˆ†æç­‰æŠ€æœ¯å¯¹ç¨‹åºä»£ç è¿›è¡Œæ‰«æï¼ŒéªŒè¯ä»£ç æ˜¯å¦æ»¡è¶³è§„èŒƒæ€§ã€å®‰å…¨æ€§ã€å¯é æ€§ã€å¯ç»´æŠ¤æ€§ç­‰æŒ‡æ ‡çš„ä¸€ç§ä»£ç åˆ†ææŠ€æœ¯ã€‚é™æ€åˆ†ææŠ€æœ¯å‘æ¨¡æ‹Ÿæ‰§è¡Œçš„æŠ€æœ¯å‘å±•ä»¥èƒ½å¤Ÿå‘ç°æ›´å¤šä¼ ç»Ÿæ„ä¹‰ä¸ŠåŠ¨æ€æµ‹è¯•æ‰èƒ½å‘ç°çš„ç¼ºé™·ï¼Œä»è€Œæé«˜å¼€å‘æ•ˆç‡å’Œè½¯ä»¶è´¨é‡ã€‚æœ¬æ–‡ä»‹ç»éƒ¨åˆ†åœ¨é™æ€ä»£ç åˆ†æä¸­ä½¿ç”¨çš„ä¸­é—´è¡¨ç¤ºçš„æ¦‚å¿µï¼Œä¸»è¦åŒ…æ‹¬æŠ½è±¡è¯­æ³•æ ‘ã€ä¸‰åœ°å€ç ã€SSAå½¢å¼ï¼ŒåŠCFGå’ŒRTLç­‰æ¦‚å¿µ","text":"é™æ€åˆ†æç¨‹åºé™æ€åˆ†æï¼ˆProgram Static Analysisï¼‰æ˜¯æŒ‡åœ¨ä¸è¿è¡Œä»£ç çš„æ–¹å¼ä¸‹ï¼Œé€šè¿‡è¯æ³•åˆ†æã€è¯­æ³•åˆ†æã€æ§åˆ¶æµã€æ•°æ®æµåˆ†æç­‰æŠ€æœ¯å¯¹ç¨‹åºä»£ç è¿›è¡Œæ‰«æï¼ŒéªŒè¯ä»£ç æ˜¯å¦æ»¡è¶³è§„èŒƒæ€§ã€å®‰å…¨æ€§ã€å¯é æ€§ã€å¯ç»´æŠ¤æ€§ç­‰æŒ‡æ ‡çš„ä¸€ç§ä»£ç åˆ†ææŠ€æœ¯ã€‚é™æ€åˆ†ææŠ€æœ¯å‘æ¨¡æ‹Ÿæ‰§è¡Œçš„æŠ€æœ¯å‘å±•ä»¥èƒ½å¤Ÿå‘ç°æ›´å¤šä¼ ç»Ÿæ„ä¹‰ä¸ŠåŠ¨æ€æµ‹è¯•æ‰èƒ½å‘ç°çš„ç¼ºé™·ï¼Œä»è€Œæé«˜å¼€å‘æ•ˆç‡å’Œè½¯ä»¶è´¨é‡ã€‚æœ¬æ–‡ä»‹ç»éƒ¨åˆ†åœ¨é™æ€ä»£ç åˆ†æä¸­ä½¿ç”¨çš„ä¸­é—´è¡¨ç¤ºçš„æ¦‚å¿µï¼Œä¸»è¦åŒ…æ‹¬æŠ½è±¡è¯­æ³•æ ‘ã€ä¸‰åœ°å€ç ã€SSAå½¢å¼ï¼ŒåŠCFGå’ŒRTLç­‰æ¦‚å¿µ ä¸­é—´è¡¨ç¤ºï¼ˆIntermediate Representationï¼‰æŠ½è±¡è¯­æ³•æ ‘ï¼ˆAbstract Syntax Treeï¼ŒASTï¼‰åœ¨ä»‹ç»ASTæ—¶ï¼Œæˆ‘ä»¬ç”¨ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼šx = 3 + 4 * y è¿™ä¸ªè¡¨è¾¾å¼ä½œä¸ºä¾‹å­æ¥è¿›è¡Œä»‹ç»ï¼š ASTï¼š æ˜¯æºä»£ç çš„æŠ½è±¡è¯­æ³•ç»“æ„çš„æ ‘çŠ¶è¡¨ç¤ºï¼Œæ ‘ä¸Šçš„æ¯ä¸ªèŠ‚ç‚¹éƒ½è¡¨ç¤ºæºä»£ç ä¸­çš„ä¸€ç§ç»“æ„ï¼Œä¹‹æ‰€ä»¥è¯´æ˜¯æŠ½è±¡çš„ï¼Œæ˜¯å› ä¸ºæŠ½è±¡è¯­æ³•æ ‘å¹¶ä¸ä¼šè¡¨ç¤ºå‡ºçœŸå®è¯­æ³•å‡ºç°çš„æ¯ä¸€ä¸ªç»†èŠ‚ æŠ½è±¡è¯­æ³•æ ‘ï¼Œå…¶å®å°±æ˜¯ç”¨æ ‘çŠ¶ç»“æ„è¡¨ç¤ºè¯­æ³•ç»“æ„ï¼Œä¹Ÿæ²¡æœ‰è¯´å¿…é¡»æ˜¯ä»€ä¹ˆå½¢å¼ï¼Œåªè¦èƒ½å¿ å®åœ°åæ˜ å‡ºæºç çš„æ ¼å¼å³å¯ å½“ç„¶ï¼Œä¸€èˆ¬èµ„æ–™ä¸­åœ¨è¿›è¡Œä»‹ç»æ—¶ï¼Œéƒ½æ˜¯ä»¥æ“ä½œç¬¦ä½œä¸ºæ ¹èŠ‚ç‚¹ï¼Œç”»ä¸ªæ ‘çŠ¶çš„ç»“æ„æ¥è¡¨ç¤ºï¼Œè¿™é‡Œå’±ä»¬ä¹Ÿç®€å•ç”»ä¸€ä¸ªæ„æ€ä¸€ä¸‹ï¼Œå¦‚ä¸‹å›¾ï¼š ä¸‰åœ°å€ç ï¼ˆThree Address Codeï¼ŒTAC/3ACï¼‰ä¸‰åœ°å€ç æ˜¯ä¸€ç§æœ‰æ„æ€çš„ä¸­é—´è¡¨ç¤ºï¼Œå½“å‰ä¹Ÿæ˜¯ç¼–è¯‘åŸç†ä¸­ç”¨å¾—æœ€ç«çš„ã€‚è¿™é‡Œæˆ‘ç»™å¤§å®¶æ¢³ç†ä¸€ç§æˆ‘çš„ç†è§£ä¸Šçš„æ¦‚å¿µï¼Œé‚£å°±æ˜¯ï¼Œåˆ¨æ‰èµ‹å€¼æ“ä½œï¼Œæœ€å¤šåªæœ‰ä¸€ä¸ªæ“ä½œç¬¦ï¼Œå…ˆçœ‹ä¸‹é¢çš„å‡ ä¸ªä¾‹å­ x = y bop z x = uop y x = y goto L å¦‚ä¸Šï¼Œç¬¬ä¸€ä¸ªï¼Œé™¤äº†èµ‹å€¼ä¹‹å¤–ï¼Œåªæœ‰ bop ä¸€ä¸ªæ“ä½œç¬¦ï¼Œç¬¬äºŒä¸ªï¼Œåªæœ‰ uop ä¸€ä¸ªæ“ä½œç¬¦ï¼Œç¬¬ä¸‰ä¸ªæ²¡æœ‰æ“ä½œç¬¦ï¼ŒåŒæ—¶ï¼Œæ“ä½œç¬¦çš„æ¦‚å¿µå¯ä»¥è¿›ä¸€æ­¥æ‰©å±•åˆ°å‡½æ•°è°ƒç”¨ç­‰ï¼Œä¾‹å¦‚ call fun(a, b, c, d)ï¼Œè™½ç„¶æœ‰å››ä¸ªæ“ä½œæ•°ï¼Œä½†æ˜¯æˆ‘ä»¬è®¤ä¸º call funåªæ˜¯ä¸€ä¸ªæ“ä½œç¬¦ã€‚ å¦‚ä¸Šé¢ x = 3 + 4 * y è½¬æ¢ä¸ºä¸‰åœ°å€ç å¦‚ä¸‹ï¼š 123456t1 = 4t2 = yt3 = t1 * t2t4 = 3t5 = t4 + t3x = t5 å½“ç„¶ï¼Œæœ‰äº›å½¢å¼ä¸‹ä¼šå‡å°‘ä¸´æ—¶å˜é‡çš„ä½¿ç”¨ï¼Œå°½é‡å¤ç”¨åŸæ¥çš„å˜é‡æˆ–è€…å¸¸é‡ï¼Œå½¢æˆçš„ä¸‰åœ°å€ç å¦‚ä¸‹ï¼š 12t1 = 4 * yx = 3 + t1 ä¸‰åœ°å€ç æœ€åˆåªæ˜¯å¤„ç†ç±»ä¼¼äº x = y bop z è¿™ç§å½¢å¼çš„è¯­å¥ï¼Œè€Œæå‡ºæ¥çš„â€œä¸‰ä¸ªæ“ä½œæ•°â€çš„æ„æ€ï¼Œéšç€è¯­æ³•çš„æ‰©å……ï¼Œä¹Ÿå¹¶ä¸æ˜¯å®Œå…¨å°±æ˜¯â€œä¸‰åœ°å€â€ã€‚ ASTå’Œä¸‰åœ°å€ç å¯¹æ¯”ä»¥ä¸‹ä»‹ç»å‡ ç‚¹ASTå’Œä¸‰åœ°å€ç çš„å¯¹æ¯”ç‰¹ç‚¹ï¼š æºç ç›¸å…³æ€§ ASTä¸­çš„èŠ‚ç‚¹ä¸è¾“å…¥æºä»£ç ä¸­çš„å„ä¸ªè¯­æ³•å…ƒç´ ä¸€ä¸€å¯¹åº”ï¼Œå¿ å®åœ°ä½“ç°äº†æºç çš„å†…å®¹å’Œè¯­æ³•ç‰¹æ€§ï¼Œå› æ­¤ASTä¸æºç å¼ºç›¸å…³ï¼›ä¸‰åœ°å€ç å°±æ˜¯ä»ASTè¿›ä¸€æ­¥æŠ½è±¡çš„ä¸€ç§ä¸­é—´è¡¨ç¤ºï¼Œæ›´æ¥è¿‘æœºå™¨è¯­è¨€ï¼Œå¯ä»¥è®¤ä¸ºå’Œè¯­è¨€æ— å…³ï¼Œæ˜¯è¿æ¥å‰åç«¯çš„ä¸€ç§ä¸­é—´è¡¨ç¤º å˜åŒ–é¢‘ç¹ç¨‹åº¦ å› ä¸ºASTéœ€è¦å¿ å®åœ°ä½“ç°å‡ºæºä»£ç çš„è¯­æ³•å…ƒç´ ï¼Œå› æ­¤åœ¨å¯¹åº”çš„ç¼–ç¨‹è¯­è¨€å‡çº§æ—¶ï¼Œå¯¹åº”çš„ASTå¿…ç„¶ä¼šè·Ÿç€å‘ç”Ÿå˜åŒ–ï¼Œæ¯”å¦‚Javaï¼Œä»Java7å˜æˆJava8ï¼Œå¢åŠ äº†å¤§é‡çš„Lambdaè¡¨è¾¾å¼ã€å‡½æ•°å¼•ç”¨ç­‰ç‰¹æ€§ï¼Œæ‰€ä»¥ASTèŠ‚ç‚¹ä¹Ÿéœ€è¦å¢åŠ è¿™äº›è¯­æ³•èŠ‚ç‚¹ï¼Œæ‰€ä»¥ASTçš„ç‰ˆæœ¬éœ€è¦éšç€è¯­è¨€å‘å¸ƒè€Œä¸æ–­å˜åŒ–ã€‚ ä½†æ˜¯ä¸‰åœ°å€ç æ˜¯ä¸€ç§ç»è¿‡å¤„ç†çš„è¯­è¨€æ— å…³çš„ä¸­é—´è¡¨ç¤ºï¼Œå³ä½¿æºä»£ç ç»“æ„å˜åŒ–ï¼ŒASTç»“æ„å˜åŒ–ï¼Œä½†æ˜¯è½¬æ¢åçš„ä¸‰åœ°å€ç æ˜¯ç¨³å®šçš„ï¼Œä¸ä¼šç»å¸¸å‘ç”Ÿå˜åŒ–ï¼Œæ„é€ åœ¨ä¸‰åœ°å€ç ä¸Šé¢çš„åˆ†æç®—æ³•å°±ç›¸å¯¹æ¯”è¾ƒç¨³å®š ç»“æ„ ASTä½“ç°æºç çš„ç»“æ„ï¼Œéœ€è¦åŒ¹é…æºç çš„è¯­æ³•ï¼Œå› æ­¤ä¸€èˆ¬ç»“æ„æ¯”è¾ƒå¤æ‚ï¼Œè€Œä¸‰åœ°å€ç»è¿‡å¤„ç†ï¼Œä¸€èˆ¬æ¯”è¾ƒç´§å‡‘ï¼Œç®€å•ã€‚ä¾‹å¦‚ï¼ŒJavaä¸­ï¼Œå¯¹ forï¼Œwhileï¼Œdo while æœ‰å¤šç§ä¸åŒçš„å¾ªç¯æ–¹å¼ï¼Œä½†æ˜¯ï¼Œå…¶å®å†…å®¹å¤§åŒå°å¼‚ï¼Œä½†æ˜¯åœ¨ASTå±‚é¢ï¼Œå°±æ˜¯ä¸ä¸€æ ·çš„ï¼Œä½†æ˜¯è½¬æ¢ä¸ºä¸‰åœ°å€ç åï¼Œæ‰€è¡¨è¾¾çš„æ§åˆ¶è¯­ä¹‰æ˜¯å®Œå…¨ä¸€æ ·çš„ è¡¨è¾¾ä¿¡æ¯ ASTè¡¨è¾¾äº†æºç çš„ä¿¡æ¯ï¼Œå› æ­¤å¯ä»¥åœ¨ASTä¸Šåšç¨‹åºç»“æ„çš„æ£€æŸ¥ï¼Œä½†æ˜¯ä¸‰åœ°å€ç ä¸­ï¼Œå¯ä»¥æ›´å¥½åœ°åŒ…å«äº†ç¨‹åºæ§åˆ¶æµå’Œæ•°æ®æµä¿¡æ¯ï¼Œèƒ½è¿›è¡Œæ›´æ·±å±‚æ¬¡çš„æµæ•æ„Ÿåˆ†æï¼Œè¿‡ç¨‹é—´åˆ†æï¼Œä¸Šä¸‹æ–‡æ•æ„Ÿåˆ†æå’Œå¯¹è±¡æ•æ„Ÿåˆ†æç­‰ç­‰ï¼Œä»è€Œå®ç°å„ç§æ›´é«˜éš¾åº¦çš„ç¨‹åºæ¼æ´æ£€æŸ¥ã€‚ åŒæ—¶ï¼Œä¸‰åœ°å€ç å› ä¸ºæ˜¯è¯­è¨€æ— å…³çš„ï¼Œ æ‰€ä»¥åœ¨éƒ¨åˆ†é™æ€ä»£ç åˆ†æå·¥å…·å®ç°æ—¶ï¼Œä¼šå¯¹ä¸åŒçš„ä¸‰åœ°å€ç ï¼Œå®ç°ä¸€ä¸ªåˆ†æå¼•æ“ï¼Œåªæ˜¯é€šè¿‡å¼€å‘ä¸åŒè¯­è¨€çš„è§„åˆ™ï¼Œå®ç°å¯¹ä¸åŒè¯­è¨€çš„èƒ½åŠ›çš„è¦†ç›–ï¼Œè€ŒASTæ˜¯æ— æ³•åšåˆ°è¿™ä¸€ç‚¹çš„ã€‚å› æ­¤ï¼Œä¸‰åœ°å€ç ä¹Ÿè¢«è®¤ä¸ºæ˜¯é™æ€ä»£ç åˆ†æçš„åŸºç¡€ **é™æ€å•èµ‹å€¼å½¢å¼**ï¼ˆStatic Single Assignment Formï¼ŒSSAï¼‰æ–‡ä»¶åœ°å€ SSAæ¦‚å¿µåŠåˆ†ç±» SSAæ¦‚å¿µ åœ¨ç¼–è¯‘å™¨çš„è®¾è®¡ä¸­ï¼Œé™æ€å•èµ‹å€¼å½¢å¼é€šå¸¸ç®€å†™ä¸ºSSA formæˆ–æ˜¯SSAï¼Œæ˜¯ä¸­ä»‹ç çš„ç‰¹æ€§ï¼Œæ¯ä¸ªå˜æ•°ä»…è¢«èµ‹å€¼ä¸€æ¬¡ã€‚åœ¨åŸå§‹çš„IRä¸­ï¼Œå·²å­˜åœ¨çš„å˜æ•°å¯è¢«åˆ†å‰²æˆè®¸å¤šä¸åŒçš„ç‰ˆæœ¬ï¼Œåœ¨è®¸å¤šæ•™ç§‘ä¹¦å½“ä¸­é€šå¸¸ä¼šå°†æ—§çš„å˜æ•°åç§°åŠ ä¸Šä¸€ä¸ªä¸‹æ ‡è€Œæˆä¸ºæ–°çš„å˜æ•°åç§°ï¼Œä»¥è‡³äºæ ‡æ˜æ¯ä¸ªå˜æ•°åŠå…¶ä¸åŒç‰ˆæœ¬ã€‚åœ¨SSAä¸­ï¼ŒUDé“¾ï¼ˆuse-define chainï¼Œèµ‹å€¼ä»£è¡¨defineï¼Œä½¿ç”¨å˜æ•°ä»£è¡¨useï¼‰æ˜¯éå¸¸æ˜ç¡®ï¼Œè€Œä¸”æ¯ä¸ªä»…åŒ…å«å•ä¸€å…ƒç´  ä»¥ä¸‹é¢çš„ä»£ç ä¸ºä¾‹ï¼š 12345678910public void test(int x) &#123; int y = 0; if (x &gt; 3) &#123; y = x + 4; &#125; else &#123; y = 10; &#125; int z = y + 3; System.out.println(z);&#125; ä»¥ä¸‹å›¾ä¸ºä¾‹ï¼Œå·¦å›¾æ˜¯åŸå§‹ä»£ç ï¼Œé‡Œé¢æœ‰åˆ†æ”¯ï¼Œ y å˜é‡åœ¨ä¸åŒè·¯å¾„ä¸­æœ‰ä¸åŒèµ‹å€¼ï¼Œæœ€åæ‰“å° zçš„å€¼ã€‚å³å›¾æ˜¯ç­‰ä»·çš„ SSA å½¢å¼ï¼Œy å˜é‡åœ¨ä¸¤ä¸ªåˆ†æ”¯ä¸­è¢«æ”¹å†™ä¸º y2, y3ï¼Œåœ¨æ§åˆ¶æµäº¤æ±‡å¤„æ’å…¥Ï†å‡½æ•°ï¼Œåˆå¹¶äº†æ¥è‡ªä¸åŒè¾¹çš„ y2, y3å€¼, èµ‹ç»™ y4 æœ€åzç”±y4ç”Ÿæˆ å…¶å®è¦è®²SSAå½¢å¼ï¼Œå°±ä¸èƒ½ç¦»å¼€å¯¹DU Chainï¼ˆDefine-Use Chainï¼‰å’ŒUD Chainï¼ˆUse-Define Chainï¼‰çš„ä»‹ç»ï¼Œå› ä¸ºå¾ˆå¤šåœ°æ–¹å¯¹SSAçš„æ¦‚å¿µçš„ä»‹ç»ï¼Œéƒ½æ˜¯ä»DU Chainå’ŒUD Chainå¼•èµ·çš„ã€‚Use-Define Chain æ˜¯ä¸€ä¸ªæ•°æ®ç»“æ„ï¼ŒåŒ…å«ä¸€ä¸ªDefineå˜é‡ï¼Œä»¥åŠå®ƒçš„å…¨éƒ¨Useçš„é›†åˆã€‚ç›¸å¯¹çš„ï¼ŒDefine-Use Chain åŒ…å«ä¸€ä¸ªUseå˜é‡ï¼Œä»¥åŠå®ƒçš„å…¨éƒ¨ Defineçš„é›†åˆã€‚ å¦å¤–ä¸€ç§SSAçš„æè¿°ï¼Œå°±æ˜¯åœ¨ Define-Use Chainä¸­ï¼Œæ¯ä¸€ä¸ªUseå˜é‡ï¼Œåªä¼šæœ‰ä¸€ä¸ªDefineï¼Œä¾‹å¦‚ï¼Œåœ¨å‰é¢ä¾‹å­ä¸­ï¼Œz = y + 3 ä¸­ï¼Œå› ä¸ºæ­¤æ—¶ yå¯èƒ½åœ¨ä¸¤ä¸ªåˆ†æ”¯ä¸­èµ‹å€¼ï¼Œå› æ­¤ï¼Œå¯¹äºå˜é‡ z = y + 3 ä¸­ï¼Œy çš„Useæ¥è¯´ï¼Œæœ‰ä¸¤ä¸ª Defineï¼Œä½†æ˜¯ï¼Œé€šè¿‡æ›´æ”¹ä¸º SSAå½¢å¼ï¼Œz = y + 3 ä¸­ï¼Œyåªæœ‰ä¸€ä¸ª Defineï¼Œé‚£å°±æ˜¯ y4ã€‚å› æ­¤ï¼Œé€šè¿‡å°†ä¸‰åœ°å€ç è½¬ä¸ºSSAå½¢å¼ï¼Œå¯ä»¥å¾ˆå¤§ç¨‹åº¦ä¸Šï¼Œç®€åŒ–Use-Define Chainå’ŒDefine-Use Chainã€‚ SSAåˆ†ç±» SSA æœ‰å‡ ç§ä¸åŒåˆ†ç±»ï¼ˆä¸»è¦æ˜¯æœ€å°SSAã€å‰ªæSSAã€åŠå‰ªæSSAï¼Œå¦å¤–ä¸¤ç§ä¸¥æ ¼SSAå’Œæœ€å¤§SSAï¼Œå¤§éƒ¨åˆ†èµ„æ–™ä¸Šéƒ½æ²¡æœ‰çœ‹åˆ°ï¼Œåªæ˜¯åœ¨å°‘éƒ¨åˆ†èµ„æ–™ä¸­æœ‰è§åˆ°ï¼Œæ‰€ä»¥ç®€å•æä¸€ä¸‹ï¼‰ æœ€å°SSA æœ€å°SSAæœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼šåŒä¸€åŸå§‹åå­—çš„ä¸¤ä¸ªä¸åŒå®šä¹‰çš„è·¯å¾„æ±‡åˆå¤„éƒ½æ’å…¥ä¸€ä¸ªÏ†å‡½æ•°ã€‚è¿™æ ·å¾—åˆ°ç¬¦åˆä¸¤å¤§ç‰¹å¾çš„ä¸”æ‹¥æœ‰æœ€å°‘Ï†å‡½æ•°æ•°é‡çš„ SSA å½¢å¼ã€‚ä½†æ˜¯è¿™é‡Œçš„æœ€å°ä¸åŒ…å«ä¼˜åŒ–æ•ˆæœï¼Œæ¯”å¦‚æ­»ä»£ç æ¶ˆé™¤ã€‚å¦‚ä¸Šé¢å›¾2.1èŠ‚ï¼Œå°±æ˜¯ä¸€ä¸ªæœ€å°SSAå½¢å¼ å‰ªæSSA å¦‚æœå˜é‡åœ¨åŸºæœ¬å—çš„å…¥å£å¤„ä¸æ˜¯æ´»è·ƒ (live) çš„ï¼Œå°±ä¸å¿…æ’å…¥Ï†å‡½æ•°ã€‚ä¸€ç§æ–¹æ³•æ˜¯åœ¨æ’å…¥ Ï†å‡½æ•°çš„æ—¶å€™è®¡ç®—æ´»è·ƒå˜é‡åˆ†æã€‚å¦ä¸€ç§å‰ªææ–¹å¼æ˜¯åœ¨æœ€å°SSAä¸Šåšæ­»ä»£ç æ¶ˆé™¤ï¼Œåˆ æ‰å¤šä½™çš„Ï†å‡½æ•°ã€‚å¦‚ä¸‹é¢çš„ä¾‹å­ï¼Œyåœ¨åˆ†æ”¯æ‰§è¡Œå®Œåï¼Œåœ¨æœ€åçš„BBå—ä¸­ä¸å†ä½¿ç”¨ï¼Œyå·²ç»ä¸å†æ´»è·ƒï¼Œæ­¤æ—¶æ²¡å¿…è¦åœ¨è¿™ä¸ªèŠ‚ç‚¹æ·»åŠ Ï†å‡½æ•°ï¼Œå¦‚ä¸‹é¢å³å›¾çº¢è‰²æ ‡å‡ºæ¥çš„ä½ç½®ï¼ˆè¯´æ˜ï¼šè™½ç„¶ä¸æ˜¯å‰ªæSSAï¼Œä½†æ˜¯ä»ç„¶æ˜¯æœ€å°SSAï¼‰ åŠå‰ªæSSA é‰´äºå‰ªæ SSA çš„æˆæœ¬ï¼Œå¯ä»¥ç¨å¾®æŠ˜è¡·ä¸€ç‚¹ã€‚æ’å…¥Ï†å‡½æ•°å‰å…ˆå»æ‰éè·¨è¶ŠåŸºæœ¬å—çš„å˜é‡åã€‚è¿™æ ·æ—¢å‡å°‘äº†åå­—ç©ºé—´ä¹Ÿæ²¡æœ‰è®¡ç®—æ´»è·ƒå˜é‡é›†çš„å¼€é”€ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œyå˜é‡é™¤äº†Defineï¼Œå¹¶æ²¡æœ‰Useï¼Œæ‰€ä»¥ï¼Œå˜é‡yå…¶å®å¯ä»¥å»æ‰ï¼Œå¦‚ä¸‹å³å›¾ ä¸¥æ ¼SSA å¦‚æœä¸€ä¸ª SSAä¸­ï¼Œæ¯ä¸ªUseè¢«å…¶Defineæ”¯é…ï¼ˆå¦‚æœä»ç¨‹åºå…¥å£åˆ°ä¸€ä¸ªç»“ç‚¹ A çš„æ‰€æœ‰è·¯å¾„ï¼Œéƒ½å…ˆç»è¿‡ç»“ç‚¹Bï¼Œåˆ™ç§°Aè¢«Bæ”¯é…ï¼‰ï¼Œé‚£ä¹ˆç§°ä¸ºä¸¥æ ¼ SSAï¼ˆå®é™…ä¸Šï¼Œåœ¨å¼ºç±»å‹è¯­è¨€ä¸­ï¼Œè¿™ç§æƒ…å†µæ¯”è¾ƒå°‘ï¼Œå› ä¸ºæ²¡æœ‰å®šä¹‰ï¼Œå°±ä¸å…è®¸ä½¿ç”¨ï¼Œåœ¨å°‘æ•°åŠ¨æ€ç±»å‹è¯­è¨€ä¸­ï¼Œå…è®¸æ²¡æœ‰å®šä¹‰å°±å¯ä»¥ä½¿ç”¨çš„æ‰æœ‰è¿™ç±»é—®é¢˜ï¼‰ æœ€å¤§SSA æœ€å¤§SSAæ˜¯ç›¸å¯¹æœ€å°SSAè€Œè¨€çš„ï¼Œå°±æ˜¯åœ¨æ¯ä¸ªæ±‡åˆç‚¹å¤„ä¸ºæ¯ä¸ªå˜é‡æ”¾ç½®ä¸€ä¸ªÏ†å‡½æ•°ã€‚å¾ˆæ˜¾ç„¶ï¼Œè¿™ç§æ–¹æ³•ä¼šå¯¼è‡´SSAçš„ä½¿ç”¨æ•ˆç‡æœ€å·®ï¼Œç”¨æˆ·ä½“éªŒä¹Ÿå¾ˆå·®ï¼Œæˆ‘ä¼°è®¡è°ç”Ÿæˆçš„SSAæ˜¯è¿™æ ·çš„å½¢å¼ï¼Œä¼šè¢«ä½¿ç”¨çš„äººæ‰“æ­»çš„ SSAå½¢å¼å’Œæ™®é€šä¸‰åœ°å€ç å¯¹æ¯”å…¶å®å¯¹æ¯”SSAå½¢å¼å’Œæ™®é€šçš„ä¸‰åœ°å€ç å½¢å¼ï¼Œåªæœ‰ä¸€ä¸ªåŒºåˆ«ï¼Œé‚£å°±æ˜¯ï¼ŒSSAå½¢å¼ï¼Œå¯¹äºæ¯ä¸ªUseï¼Œåªä¼šæœ‰ä¸€ä¸ªDefineã€‚ä¸¤è€…åœ¨ä¸€å®šç¨‹åº¦ä¸Šï¼Œè¿˜æ˜¯éå¸¸ç±»ä¼¼çš„ã€‚é‚£ä¹ˆä¸»è¦å¯¹æ¯”åœ¨äºä¸¤ç§å½¢å¼çš„å„è‡ªçš„ä¼˜ç¼ºç‚¹ï¼š SSAå½¢å¼ç›¸å¯¹äºä¸‰åœ°å€ç ï¼Œä¼šå¼•å…¥å¤§é‡çš„é¢å¤–çš„ä¸´æ—¶å˜é‡ï¼ŒåŒæ—¶éœ€è¦æ’å…¥Ï†å‡½æ•°ï¼Œè¿˜éœ€è¦ç»´æŠ¤è¿™äº›ä¸´æ—¶å˜é‡åˆ°åŸå§‹å˜é‡çš„æ˜ å°„å…³ç³»ï¼ˆå½“ç„¶ï¼Œä»è€…è§ä»ï¼Œæ™ºè€…è§æ™ºï¼Œä¹Ÿæœ‰èµ„æ–™è§‰å¾—è¿™äº›é¢å¤–çš„ä¸´æ—¶å˜é‡å¯ä»¥å¿½ç•¥ï¼Œé©³æ–¥è¿™ä¸ªè§‚ç‚¹ä¸ºè°¬è®ºï¼Œä¸è¿‡çš„ç¡®è¿˜æ˜¯æœ‰å…¶ä¸èˆ’æœçš„åœ°æ–¹çš„ï¼‰ SSAå½¢å¼çš„ä¼˜åŠ¿åœ¨äºï¼ŒSSAå½¢å¼ç®€åŒ–äº†DU Chainå’ŒUD chainï¼Œæ„å»ºäº†ä¸€ç§ç¨€ç–ç»“æ„ï¼Œå¯ä»¥ç®€åŒ–æ•°æ®æµåˆ†æï¼ˆä¸€èˆ¬åŸºäºä¸‰åœ°å€ç ï¼Œéœ€è¦åŸºäºä¼ ç»Ÿçš„æ•°æ®æµåˆ†ææ¥è¿›è¡Œåˆ†æï¼Œç§°ä¸ºdenseåˆ†æï¼ŒåŸºäºSSAå½¢å¼ï¼Œå¯ä»¥æ„é€ å€¼ä¾èµ–å…³ç³»ï¼ŒåŸºäºå€¼æµåˆ†æï¼Œä¹Ÿç§°ä¸ºsparseåˆ†æï¼ŒåŒæ—¶ï¼ŒSSAå½¢å¼ä¹Ÿéšå«äº†ä¸€å®šçš„ç¨‹åºæµä¿¡æ¯ï¼‰ SSAå½¢å¼ç›¸æ¯”äºæ™®é€šä¸‰åœ°å€ç ï¼Œå¯ä»¥ä¼˜åŒ–å¸¸é‡ä¼ æ’­ã€å€¼ä¾èµ–åˆ†æã€æ­»ä»£ç ã€é‡å¤ä»£ç åˆ é™¤ç­‰ æ§åˆ¶æµå›¾ï¼ˆControl Flow Graphï¼ŒCFGï¼‰ ä¹Ÿå«æ§åˆ¶æµç¨‹å›¾ï¼Œæ˜¯ä¸€ä¸ªè¿‡ç¨‹æˆ–ç¨‹åºçš„æŠ½è±¡è¡¨ç°ï¼Œæ˜¯ç”¨åœ¨ç¼–è¯‘å™¨ä¸­çš„ä¸€ä¸ªæŠ½è±¡æ•°æ®ç»“æ„ï¼Œç”±ç¼–è¯‘å™¨åœ¨å†…éƒ¨ç»´æŠ¤ï¼Œä»£è¡¨äº†ä¸€ä¸ªç¨‹åºæ‰§è¡Œè¿‡ç¨‹ä¸­ä¼šéå†åˆ°çš„æ‰€æœ‰è·¯å¾„ã€‚å®ƒç”¨å›¾çš„å½¢å¼è¡¨ç¤ºä¸€ä¸ªè¿‡ç¨‹å†…æ‰€æœ‰åŸºæœ¬å—æ‰§è¡Œçš„å¯èƒ½æµå‘, ä¹Ÿèƒ½åæ˜ ä¸€ä¸ªè¿‡ç¨‹çš„å®æ—¶æ‰§è¡Œè¿‡ç¨‹ åŸºæœ¬å—ï¼ˆBasic Blockï¼‰ ç‰¹ç‚¹ï¼š å•å…¥å£ã€å•å‡ºå£ã€æ¯ä¸ªå—å†…çš„è¯­å¥éƒ½æ˜¯æŒ‰é¡ºåºæ‰§è¡Œçš„ï¼Œä¸èƒ½æœ‰åˆ†æ”¯å’Œè·³è½¬ åªèƒ½ä»ç¬¬ä¸€æ¡è¯­å¥è¿›å…¥è¯¥åŸºæœ¬å—ï¼Œä¸èƒ½å¤Ÿä»¥æŸç§æ–¹å¼è·³å…¥è¯¥åŸºæœ¬å—çš„ä¸­é—´ åŸºæœ¬å—å†…çš„è¯­å¥åœ¨æ‰§è¡Œæ—¶å¿…é¡»ä»æœ€åä¸€æ¡è¯­å¥ç¦»å¼€ï¼Œä¸èƒ½å¤Ÿæ‰§è¡Œåˆ°ä¸€åŠè·³è½¬åˆ°å…¶å®ƒçš„åŸºæœ¬å— CFG CFGæ˜¯ä¸€ä¸ªç”±åŸºæœ¬å—ç»„æˆçš„æœ‰å‘å›¾ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½æ˜¯ä¸€ä¸ªåŸºæœ¬å—ã€‚å¦‚æœç¨‹åºçš„æ‰§è¡Œè·¯å¾„å¯èƒ½ä»ä¸€ä¸ªåŸºæœ¬å—$B_1$è¿›å…¥å¦ä¸€ä¸ªåŸºæœ¬å—**$B_2$ï¼Œ$B_1$æœ‰ä¸€æ¡æŒ‡å‘$ B_2 $**çš„è¾¹ å…¶ä¸­ï¼š $N:$è¡¨ç¤ºæ‰€æœ‰åŸºæœ¬å—èŠ‚ç‚¹çš„é›†åˆ $E:$è¡¨ç¤ºæ‰€æœ‰è¾¹çš„é›†åˆ $n_0:$è¡¨ç¤ºé¦–èŠ‚ç‚¹ CFGå…·æœ‰å¦‚ä¸‹çš„ä¸¤æ¡æ€§è´¨ï¼š CFG å¿…ç„¶æœ‰å”¯ä¸€çš„ä¸€ä¸ªå…¥å£ç‚¹ é¦–èŠ‚ç‚¹å¿…ç„¶æ”¯é…CFGä¸­å…¶ä»–çš„æ‰€æœ‰èŠ‚ç‚¹ï¼ˆå³ä»é¦–èŠ‚ç‚¹åˆ°CFGä¸Šå…¶ä»–ä»»ä½•ä¸€ä¸ªèŠ‚ç‚¹éƒ½æœ‰ä¸€æ¡è·¯å¯ä»¥è¿é€šï¼‰ å¯„å­˜å™¨ä¼ è¾“è¯­è¨€ï¼ˆRegister Transfer Languageï¼ŒRFLï¼‰ åˆè¯‘ä¸ºæš‚å­˜å™¨è½¬æ¢è¯­è¨€ã€å¯„å­˜å™¨è½¬æ¢è¯­è¨€ï¼Œä¸€ç§ä¸­é—´è¯­è¨€ï¼Œä½¿ç”¨äºç¼–è¯‘å™¨ä¸­ã€‚ä¸æ±‡ç¼–è¯­è¨€å¾ˆæ¥è¿‘ã€‚å¯„å­˜å™¨ä¼ é€’è¯­è¨€è¢«ç”¨äºæè¿°ä¸€ä¸ªæ¶æ„ä¸­å¯„å­˜å™¨ä¼ è¾“çº§ä¸Šçš„æ•°æ®æµã€‚ åœ¨å­¦æœ¯è®ºæ–‡å’Œæ•™ç§‘ä¹¦ä¸­ï¼Œå¯„å­˜å™¨ä¼ é€’è¯­è¨€è¢«è®¤ä¸ºæ˜¯ä¸€ç§ä¸æ¶æ„æ— å…³çš„æ±‡ç¼–è¯­è¨€ã€‚GCCçš„ä¸­é—´è¯­è¨€ï¼Œä¹Ÿè¢«ç§°ä¸ºå¯„å­˜å™¨ä¼ é€’è¯­è¨€ï¼Œé£æ ¼ç±»ä¼¼äºLISPã€‚GCCçš„å‰ç«¯ï¼ˆfront-endï¼‰ä¼šå…ˆå°†ç¼–ç¨‹è¯­è¨€è½¬è¯‘æˆRTLï¼Œä¹‹åå†åˆ©ç”¨åç«¯ï¼ˆback-endï¼‰è½¬åŒ–æˆæœºå™¨ä»£ç  ä»¥ä¸‹ä¸€äº›æ–‡ç« ç”¨åˆ°ç›¸å…³æŠ€æœ¯ï¼š Vandal Securify2 MadMax Gigahorse Ethainter åŸæ–‡é“¾æ¥","categories":[{"name":"ç¨‹åºåˆ†æ","slug":"ç¨‹åºåˆ†æ","permalink":"https://lwy0518.github.io/categories/%E7%A8%8B%E5%BA%8F%E5%88%86%E6%9E%90/"}],"tags":[{"name":"ä¸­é—´è¡¨ç¤ºï¼ˆIRï¼‰","slug":"ä¸­é—´è¡¨ç¤ºï¼ˆIRï¼‰","permalink":"https://lwy0518.github.io/tags/%E4%B8%AD%E9%97%B4%E8%A1%A8%E7%A4%BA%EF%BC%88IR%EF%BC%89/"},{"name":"CFG","slug":"CFG","permalink":"https://lwy0518.github.io/tags/CFG/"},{"name":"AST","slug":"AST","permalink":"https://lwy0518.github.io/tags/AST/"},{"name":"TAC","slug":"TAC","permalink":"https://lwy0518.github.io/tags/TAC/"},{"name":"SSA","slug":"SSA","permalink":"https://lwy0518.github.io/tags/SSA/"},{"name":"RTL","slug":"RTL","permalink":"https://lwy0518.github.io/tags/RTL/"}],"author":"lwy"},{"title":"hexoåšå®¢è¿ç§»åˆ°å¦å¤–ä¸€å°ç”µè„‘","slug":"hexoåšå®¢è¿ç§»åˆ°å¦å¤–ä¸€å°ç”µè„‘","date":"2021-12-10T07:10:46.000Z","updated":"2021-12-22T02:59:05.560Z","comments":true,"path":"2021/12/10/hexoåšå®¢è¿ç§»åˆ°å¦å¤–ä¸€å°ç”µè„‘/","link":"","permalink":"https://lwy0518.github.io/2021/12/10/hexo%E5%8D%9A%E5%AE%A2%E8%BF%81%E7%A7%BB%E5%88%B0%E5%8F%A6%E5%A4%96%E4%B8%80%E5%8F%B0%E7%94%B5%E8%84%91/","excerpt":"å¤åˆ¶åŸç”µè„‘ä¸Šçš„æ•°æ® æ³¨ï¼šä¸éœ€è¦å…¨éƒ¨å¤åˆ¶ _config.ymlï¼šç«™ç‚¹é…ç½®æ–‡ä»¶ package.jsonï¼šåº”ç”¨ç¨‹åºæ•°æ®ï¼ŒæŒ‡æ˜hexoçš„ç‰ˆæœ¬ç­‰ä¿¡æ¯ï¼Œç±»ä¼¼äºä¸€èˆ¬è½¯ä»¶ä¸­çš„å…³äºæŒ‰é’® scaffolds/ï¼šlayoutæ¨¡æ¿æ–‡ä»¶ç›®å½•ï¼Œå…¶ä¸­çš„mdæ–‡ä»¶å¯ä»¥æ·»åŠ ç¼–è¾‘ source/ï¼š æ–‡ç« æºç ç›®å½•ï¼Œè¯¥ç›®å½•ä¸‹çš„markdownå’Œhtmlæ–‡ä»¶å‡ä¼šè¢«hexoå¤„ç†ã€‚è¯¥é¡µé¢å¯¹åº”repoçš„æ ¹ç›®å½•ï¼Œ404æ–‡ä»¶ã€favicon.icoæ–‡ä»¶ï¼ŒCNAMEæ–‡ä»¶ç­‰éƒ½åº”è¯¥æ”¾è¿™é‡Œï¼Œè¯¥ç›®å½•ä¸‹å¯æ–°å»ºé¡µé¢ç›®å½•ã€‚ draftsï¼šè‰ç¨¿æ–‡ç«  postsï¼šå‘å¸ƒæ–‡ç«  themes/ï¼šä¸»é¢˜æ–‡ä»¶","text":"å¤åˆ¶åŸç”µè„‘ä¸Šçš„æ•°æ® æ³¨ï¼šä¸éœ€è¦å…¨éƒ¨å¤åˆ¶ _config.ymlï¼šç«™ç‚¹é…ç½®æ–‡ä»¶ package.jsonï¼šåº”ç”¨ç¨‹åºæ•°æ®ï¼ŒæŒ‡æ˜hexoçš„ç‰ˆæœ¬ç­‰ä¿¡æ¯ï¼Œç±»ä¼¼äºä¸€èˆ¬è½¯ä»¶ä¸­çš„å…³äºæŒ‰é’® scaffolds/ï¼šlayoutæ¨¡æ¿æ–‡ä»¶ç›®å½•ï¼Œå…¶ä¸­çš„mdæ–‡ä»¶å¯ä»¥æ·»åŠ ç¼–è¾‘ source/ï¼š æ–‡ç« æºç ç›®å½•ï¼Œè¯¥ç›®å½•ä¸‹çš„markdownå’Œhtmlæ–‡ä»¶å‡ä¼šè¢«hexoå¤„ç†ã€‚è¯¥é¡µé¢å¯¹åº”repoçš„æ ¹ç›®å½•ï¼Œ404æ–‡ä»¶ã€favicon.icoæ–‡ä»¶ï¼ŒCNAMEæ–‡ä»¶ç­‰éƒ½åº”è¯¥æ”¾è¿™é‡Œï¼Œè¯¥ç›®å½•ä¸‹å¯æ–°å»ºé¡µé¢ç›®å½•ã€‚ draftsï¼šè‰ç¨¿æ–‡ç«  postsï¼šå‘å¸ƒæ–‡ç«  themes/ï¼šä¸»é¢˜æ–‡ä»¶ å®‰è£…é…ç½®ç¯å¢ƒ å®‰è£…node å®‰è£…git å†å‚è€ƒä¸Šä¸€ç¯‡æ–‡ç«  ä¸‹è½½ç›¸å…³æ’ä»¶123456# å°†æ–‡ç« éƒ¨ç½²åˆ°githubä¸Šçš„æ¨¡å—$ cnpm install hexo-deployer-git --save# å®‰è£…RSSæ’ä»¶$ cnpm install hexo-generator-feed --save# æ·»åŠ Sitemap,åŠ é€Ÿç½‘é¡µæ”¶å½•é€Ÿåº¦$ cnpm install hexo-generator-sitemap --save","categories":[{"name":"åšå®¢","slug":"åšå®¢","permalink":"https://lwy0518.github.io/categories/%E5%8D%9A%E5%AE%A2/"}],"tags":[{"name":"åšå®¢","slug":"åšå®¢","permalink":"https://lwy0518.github.io/tags/%E5%8D%9A%E5%AE%A2/"},{"name":"hexo","slug":"hexo","permalink":"https://lwy0518.github.io/tags/hexo/"}],"author":"lwy"},{"title":"EOSIOç¯å¢ƒæ­å»ºåŠåˆ›å»ºè´¦æˆ·","slug":"EOSIOç¯å¢ƒæ­å»ºåŠåˆ›å»ºè´¦æˆ·","date":"2021-12-10T02:01:59.000Z","updated":"2021-12-22T02:58:52.714Z","comments":true,"path":"2021/12/10/EOSIOç¯å¢ƒæ­å»ºåŠåˆ›å»ºè´¦æˆ·/","link":"","permalink":"https://lwy0518.github.io/2021/12/10/EOSIO%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E5%8F%8A%E5%88%9B%E5%BB%BA%E8%B4%A6%E6%88%B7/","excerpt":"ç¯å¢ƒæ­å»ºå®˜æ–¹æ–‡æ¡£ é’±åŒ…å’Œè´¦æˆ·","text":"ç¯å¢ƒæ­å»ºå®˜æ–¹æ–‡æ¡£ é’±åŒ…å’Œè´¦æˆ· Nodeosï¼ˆnode + eos = nodeosï¼‰ï¼šè¿è¡ŒèŠ‚ç‚¹çš„æ ¸å¿ƒæœåŠ¡å®ˆæŠ¤è¿›ç¨‹ï¼Œç”¨äºåŒºå—ç”Ÿäº§ã€API ç«¯ç‚¹æˆ–æœ¬åœ°å¼€å‘ Cleos (cli + eos = cleos) ï¼š ä¸åŒºå—é“¾äº¤äº’çš„å‘½ä»¤è¡Œç•Œé¢ (via nodeos) å’Œç®¡ç†é’±åŒ… (via keosd) Keosd (key + eos = keosd) ï¼š ç®¡ç†é’±åŒ…ä¸­çš„ EOSIO å¯†é’¥å¹¶ä¸ºæ•°å­—ç­¾åæä¾›å®‰å…¨é£åœ°çš„ç»„ä»¶ å¯ä»¥å‚è€ƒä¸‹åˆ—è§£è¯»å›¾ï¼š åˆ›å»ºé’±åŒ…1$ cleos wallet create -n wallet_name --to-console å…¶ä¸­ï¼š**-næ˜¯æŒ‡å®šé’±åŒ…åç§°ï¼ˆå¦‚æœä¸æŒ‡å®šåˆ™ä¼šé»˜è®¤ç”Ÿæˆä¸€ä¸ªdefaulté’±åŒ…ï¼‰ï¼Œ wallet_nameæ˜¯ä½ éœ€è¦åˆ›å»ºçš„é’±åŒ…åï¼ˆä»¥ä¸‹ç”¨lwyä»£æ›¿ï¼‰ï¼Œâ€“to-console**æ˜¯å°†å¯†é’¥è¾“å‡ºåˆ°æ§åˆ¶å°ï¼ˆè®°å¾—ä¸€å®šè¦ä¿å­˜è¿™ä¸ªå¯†é’¥ï¼Œå› ä¸ºè¦ç”¨äºé’±åŒ…çš„è§£é”ï¼‰ æŸ¥çœ‹åˆ›å»ºçš„é’±åŒ…1$ cleos wallet list å…¶ä¸­å¸¦**â€*â€**å·æŒ‡å·²è§£é”çš„é’±åŒ… é’±åŒ…çš„è§£é”ä¸åŠ é” è§£é”ï¼ˆä¼šæç¤ºä½ è¾“å…¥é’±åŒ…å¯†é’¥ï¼‰ 1$ cleos wallet unlock -n lwy --password åŠ é”ï¼ˆä¸éœ€è¦è¾“å…¥å¯†é’¥ï¼‰ 1$ cleos wallet lock -n lwy ç”Ÿæˆå’Œå¯¼å…¥å…¬é’¥-ç§é’¥å¯¹ç”Ÿæˆå…¬é’¥-ç§é’¥å¯¹ ä¸ºäº†ç®€å•å¯ä»¥ç›´æ¥ç”¨ä¸€ä¸ªå…¬é’¥-ç§é’¥å¯¹ï¼ˆè®°å¾—ä¿å­˜ç§é’¥ï¼Œä¸€å®šï¼ä¸€å®š ï¼ï¼‰ 1$ cleos create key --to-console å¯¼å…¥å…¬é’¥-ç§é’¥å¯¹ å¦‚æœlwyé’±åŒ…è¿˜æ²¡è§£é”ï¼Œè®°å¾—å…ˆè§£é” å°†ç”Ÿæˆçš„å…¬é’¥-ç§é’¥å¯¹å¯¼å…¥lwyé’±åŒ…å†… 1$ cleos wallet import -n lwy --private-key 5J9rzfgPNLuCL9j4AEc4RYcchvJQPaPNUtWuToRSeFAEayitM8v åˆ›å»ºå’Œç®¡ç†è´¦æˆ·å‘½ä»¤è¡ŒåŠå‚æ•°è¯´æ˜1$ cleos create account authorizing_account NEW_ACCOUNT OWNER_KEY ACTIVE_KEY æ³¨ï¼šåœ¨è¿™OWNER_KEYä¸ACTIVE_KEYæ˜¯åŒä¸€ä¸ªï¼Œå› ä¸ºæˆ‘ä¸ºäº†ç®€å•åªç”Ÿæˆäº†ä¸€ä¸ªå…¬é’¥-ç§é’¥å¯¹ authorizing_account æ˜¯ä¸ºå¸æˆ·åˆ›å»ºæä¾›èµ„é‡‘çš„å¸æˆ·çš„åç§° new_account æ˜¯æ‚¨è¦åˆ›å»ºçš„å¸æˆ·çš„åç§° owner_keyæ˜¯åˆ†é…ç»™å¸æˆ·owneræƒé™çš„å…¬é’¥ active_keyæ˜¯åˆ†é…ç»™æ‚¨å¸æˆ·çš„activeæƒé™çš„å…¬é’¥ æ–°å¸æˆ·åç§°å¿…é¡»ç¬¦åˆä»¥ä¸‹å‡†åˆ™ï¼š å¿…é¡»åœ¨12ä¸ªå­—ç¬¦ä»¥å†…ï¼ŒåŒ…æ‹¬12å­—ç¬¦ã€‚ åªèƒ½åŒ…å«ä»¥ä¸‹ç¬¦å·ï¼š.12345abcdefghijklmnopqrstuvwxyz è¯·æ³¨æ„ï¼Œè´¦æˆ·åç§°ä¸å…è®¸ä½¿ç”¨6,7,8,9,0ã€‚ ä½¿ç”¨eosioåˆå§‹è´¦æˆ·åˆ›å»ºæ–°è´¦æˆ·eosioå¸æˆ·æ˜¯ç”¨äºå¼•å¯¼EOSIOèŠ‚ç‚¹çš„ç‰¹æ®Šå¸æˆ·ã€‚ç”±äºæˆ‘ä»¬æ²¡æœ‰å…¶ä»–è´¦æˆ·ï¼Œæ‰€ä»¥ç”¨åˆå§‹eosioè´¦æˆ·æ¥åˆ›å»ºæ–°å¸æˆ· eosioå¸æˆ·çš„å¯†é’¥å¯ä»¥åœ¨nodeosé…ç½®æ–‡ä»¶ä¸­æ‰¾åˆ°ï¼Œä½äº~/.local/share/eosio/nodeos/config/config.iniã€‚ åŒæ—¶ï¼Œè®°å¾—è§£é”lwyé’±åŒ… é¦–å…ˆï¼Œéœ€è¦å°†é»˜è®¤è´¦å·eosioçš„ç§é’¥å¯¼å…¥lwyé’±åŒ…å†…ï¼š 1$ cleos wallet import -n lwy --private-key 5J9rzfgPNLuCL9j4AEc4RYcchvJQPaPNUtWuToRSeFAEayitM8v ç„¶åï¼Œç”¨åˆå§‹eosioè´¦æˆ·æ¥åˆ›å»ºæ–°å¸æˆ·testaccountï¼š 1$ cleos create account eosio testaccount 5J9rzfgPNLuCL9j4AEc4RYcchvJQPaPNUtWuToRSeFAEayitM8v æŸ¥çœ‹è´¦æˆ·ä¿¡æ¯1$ cleos get account testaccount -j -j æŒ‡ä¿¡æ¯ä»¥jsonæ ¼å¼è¾“å‡º è‡³æ­¤ï¼ŒEOSIOç¯å¢ƒæ­å»ºä»¥åŠè´¦æˆ·åˆ›å»ºå·²å®Œæˆï¼ï¼","categories":[{"name":"EOSIO","slug":"EOSIO","permalink":"https://lwy0518.github.io/categories/EOSIO/"}],"tags":[{"name":"EOSIO","slug":"EOSIO","permalink":"https://lwy0518.github.io/tags/EOSIO/"},{"name":"æ™ºèƒ½åˆçº¦","slug":"æ™ºèƒ½åˆçº¦","permalink":"https://lwy0518.github.io/tags/%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6/"}],"author":"lwy"},{"title":"EOSIOéƒ¨ç½²å…¨è¿‡ç¨‹","slug":"EOSIOéƒ¨ç½²å…¨è¿‡ç¨‹","date":"2021-12-10T01:19:12.000Z","updated":"2021-12-22T02:58:49.459Z","comments":true,"path":"2021/12/10/EOSIOéƒ¨ç½²å…¨è¿‡ç¨‹/","link":"","permalink":"https://lwy0518.github.io/2021/12/10/EOSIO%E9%83%A8%E7%BD%B2%E5%85%A8%E8%BF%87%E7%A8%8B/","excerpt":"","text":"","categories":[{"name":"EOSIO","slug":"EOSIO","permalink":"https://lwy0518.github.io/categories/EOSIO/"}],"tags":[{"name":"æ•°æ®æµ","slug":"æ•°æ®æµ","permalink":"https://lwy0518.github.io/tags/%E6%95%B0%E6%8D%AE%E6%B5%81/"},{"name":"EOSIO","slug":"EOSIO","permalink":"https://lwy0518.github.io/tags/EOSIO/"},{"name":"ç¼–è¯‘å™¨","slug":"ç¼–è¯‘å™¨","permalink":"https://lwy0518.github.io/tags/%E7%BC%96%E8%AF%91%E5%99%A8/"},{"name":"æ¼æ´æ£€æµ‹","slug":"æ¼æ´æ£€æµ‹","permalink":"https://lwy0518.github.io/tags/%E6%BC%8F%E6%B4%9E%E6%A3%80%E6%B5%8B/"},{"name":"é™æ€åˆ†æ","slug":"é™æ€åˆ†æ","permalink":"https://lwy0518.github.io/tags/%E9%9D%99%E6%80%81%E5%88%86%E6%9E%90/"},{"name":"Datalog","slug":"Datalog","permalink":"https://lwy0518.github.io/tags/Datalog/"},{"name":"CFG","slug":"CFG","permalink":"https://lwy0518.github.io/tags/CFG/"},{"name":"IR","slug":"IR","permalink":"https://lwy0518.github.io/tags/IR/"}],"author":"lwy"},{"title":"æ•°æ®æµåˆ†æ","slug":"æ•°æ®æµåˆ†æ","date":"2021-12-07T07:31:36.000Z","updated":"2021-12-23T03:00:11.231Z","comments":true,"path":"2021/12/07/æ•°æ®æµåˆ†æ/","link":"","permalink":"https://lwy0518.github.io/2021/12/07/%E6%95%B0%E6%8D%AE%E6%B5%81%E5%88%86%E6%9E%90/","excerpt":"åŸºæœ¬åŸç†æ•°æ®æµåˆ†ææ˜¯ä¸€ç§ç”¨æ¥è·å–ç›¸å…³æ•°æ®æ²¿ç€ç¨‹åºæ‰§è¡Œè·¯å¾„æµåŠ¨çš„ä¿¡æ¯åˆ†ææŠ€æœ¯ã€‚åˆ†æå¯¹è±¡æ˜¯ç¨‹åºæ‰§è¡Œè·¯å¾„ä¸Šçš„æ•°æ®æµåŠ¨æˆ–å¯èƒ½çš„å–å€¼ ä¼˜ç‚¹ï¼šå…·æœ‰æ›´å¼ºçš„åˆ†æèƒ½åŠ›ï¼Œé€‚åˆéœ€è¦è€ƒè™‘æ§åˆ¶æµä¿¡æ¯ä¸”å˜é‡å±æ€§ä¹‹æ“ä½œååˆ†ç®€å•çš„é™æ€åˆ†æé—®é¢˜ ç¼ºç‚¹ï¼šåˆ†ææ•ˆç‡ä½ï¼Œè¿‡ç¨‹é—´åˆ†æå’Œä¼˜åŒ–ç®—æ³•å¤æ‚ï¼Œç¼–ç¨‹å·¥ä½œé‡å¤§ï¼Œå®¹æ˜“å‡ºé”™ä¸”æ•ˆç‡ä½ ä¸€ä¸ªæ•°æ®æµåˆ†ææ¡†æ¶(D, L, F)åŒ…å«: Dï¼šæ•°æ®æµçš„æ–¹å‘ï¼Œå‰å‘æˆ–è€…åå‘ Lï¼šåŒ…å«æ•°å€¼ä½œç”¨åŸŸVå’Œæ“ä½œç¬¦meet âŠ“ æˆ– join âŠ” çš„lattice Fï¼šä¸€ç³»åˆ—V to Vçš„ä¼ é€’å‡½æ•° Tips: æ•°æ®æµåˆ†æå¯ä»¥çœ‹æˆåœ¨ä¸€ä¸ªlatticeçš„æ•°å€¼åŸŸä¸Šï¼Œè¿­ä»£åœ°ä½¿ç”¨ä¼ é€’å‡½æ•°å’Œæ“ä½œç¬¦","text":"åŸºæœ¬åŸç†æ•°æ®æµåˆ†ææ˜¯ä¸€ç§ç”¨æ¥è·å–ç›¸å…³æ•°æ®æ²¿ç€ç¨‹åºæ‰§è¡Œè·¯å¾„æµåŠ¨çš„ä¿¡æ¯åˆ†ææŠ€æœ¯ã€‚åˆ†æå¯¹è±¡æ˜¯ç¨‹åºæ‰§è¡Œè·¯å¾„ä¸Šçš„æ•°æ®æµåŠ¨æˆ–å¯èƒ½çš„å–å€¼ ä¼˜ç‚¹ï¼šå…·æœ‰æ›´å¼ºçš„åˆ†æèƒ½åŠ›ï¼Œé€‚åˆéœ€è¦è€ƒè™‘æ§åˆ¶æµä¿¡æ¯ä¸”å˜é‡å±æ€§ä¹‹æ“ä½œååˆ†ç®€å•çš„é™æ€åˆ†æé—®é¢˜ ç¼ºç‚¹ï¼šåˆ†ææ•ˆç‡ä½ï¼Œè¿‡ç¨‹é—´åˆ†æå’Œä¼˜åŒ–ç®—æ³•å¤æ‚ï¼Œç¼–ç¨‹å·¥ä½œé‡å¤§ï¼Œå®¹æ˜“å‡ºé”™ä¸”æ•ˆç‡ä½ ä¸€ä¸ªæ•°æ®æµåˆ†ææ¡†æ¶(D, L, F)åŒ…å«: Dï¼šæ•°æ®æµçš„æ–¹å‘ï¼Œå‰å‘æˆ–è€…åå‘ Lï¼šåŒ…å«æ•°å€¼ä½œç”¨åŸŸVå’Œæ“ä½œç¬¦meet âŠ“ æˆ– join âŠ” çš„lattice Fï¼šä¸€ç³»åˆ—V to Vçš„ä¼ é€’å‡½æ•° Tips: æ•°æ®æµåˆ†æå¯ä»¥çœ‹æˆåœ¨ä¸€ä¸ªlatticeçš„æ•°å€¼åŸŸä¸Šï¼Œè¿­ä»£åœ°ä½¿ç”¨ä¼ é€’å‡½æ•°å’Œæ“ä½œç¬¦ æ•°æ®æµåˆ†æçš„åˆ†ç±» å¯¹ç¨‹åºè·¯å¾„çš„åˆ†æç²¾åº¦åˆ†ç±» æµä¸æ•æ„Ÿåˆ†æï¼ˆflow insensitiveï¼‰ï¼šä¸è€ƒè™‘è¯­å¥çš„å…ˆåé¡ºåºï¼ŒæŒ‰ç…§ç¨‹åºè¯­å¥çš„ç‰©ç†ä½ç½®ä»ä¸Šå¾€ä¸‹é¡ºåºåˆ†ææ¯ä¸€è¯­å¥ï¼Œå¿½ç•¥ç¨‹åºä¸­å­˜åœ¨çš„åˆ†æ”¯ æµæ•æ„Ÿåˆ†æï¼ˆflow sensitiveï¼‰ï¼šè€ƒè™‘ç¨‹åºè¯­å¥å¯èƒ½çš„æ‰§è¡Œé¡ºåºï¼Œé€šå¸¸éœ€è¦åˆ©ç”¨ç¨‹åºçš„æ§åˆ¶æµå›¾ï¼ˆCFGï¼‰ è·¯å¾„æ•æ„Ÿåˆ†æï¼ˆpath sensitiveï¼‰ï¼šä¸ä»…è€ƒè™‘è¯­å¥çš„å…ˆåé¡ºåºï¼Œè¿˜å¯¹ç¨‹åºæ‰§è¡Œè·¯å¾„æ¡ä»¶åŠ ä»¥åˆ¤æ–­ï¼Œä»¥ç¡®å®šåˆ†æä½¿ç”¨çš„è¯­å¥åºåˆ—æ˜¯å¦å¯¹åº”ç€ä¸€æ¡å¯å®é™…è¿è¡Œçš„ç¨‹åºæ‰§è¡Œè·¯å¾„ åˆ†æç¨‹åºè·¯å¾„çš„æ·±åº¦åˆ†ç±» è¿‡ç¨‹å†…åˆ†æï¼ˆintra-procedure analysisï¼‰ï¼šåªé’ˆå¯¹ç¨‹åºä¸­å‡½æ•°å†…çš„ä»£ç  è¿‡ç¨‹é—´åˆ†æï¼ˆinter-procedure analysisï¼‰ï¼šè€ƒè™‘å‡½æ•°ä¹‹é—´çš„æ•°æ®æµï¼Œå³éœ€è¦è·Ÿè¸ªåˆ†æç›®æ ‡æ•°æ®åœ¨å‡½æ•°ä¹‹é—´çš„ä¼ é€’è¿‡ç¨‹ ä¸Šä¸‹æ–‡ä¸æ•æ„Ÿåˆ†æï¼ˆcontext-insensitiveï¼‰ï¼šå°†æ¯ä¸ªè°ƒç”¨æˆ–è¿”å›çœ‹åšä¸€ä¸ª â€œgotoâ€ æ“ä½œï¼Œå¿½ç•¥è°ƒç”¨ä½ç½®å’Œå‡½æ•°å‚æ•°å–å€¼ç­‰å‡½æ•°è°ƒç”¨çš„ç›¸å…³ä¿¡æ¯ ä¸Šä¸‹æ–‡æ•æ„Ÿåˆ†æï¼ˆcontext-sensitiveï¼‰ï¼šå¯¹ä¸åŒè°ƒç”¨ä½ç½®è°ƒç”¨çš„åŒä¸€å‡½æ•°åŠ ä»¥åŒºåˆ† æ£€æµ‹ç¨‹åºæ¼æ´åŸºäºæ•°æ®æµçš„æºä»£ç æ¼æ´åˆ†æçš„åŸç†å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š ä»£ç å»ºæ¨¡ è¯¥è¿‡ç¨‹é€šè¿‡ä¸€ç³»åˆ—çš„ç¨‹åºåˆ†ææŠ€æœ¯è·å¾—ç¨‹åºä»£ç æ¨¡å‹ã€‚é¦–å…ˆé€šè¿‡è¯æ³•åˆ†æç”Ÿæˆè¯ç´ çš„åºåˆ—ï¼Œç„¶åé€šè¿‡è¯­æ³•åˆ†æå°†è¯ç´ ç»„åˆæˆæŠ½è±¡è¯­æ³•æ ‘ã€‚å¦‚æœéœ€è¦ä¸‰åœ°å€ç ï¼Œåˆ™åˆ©ç”¨ä¸­é—´ä»£ç ç”Ÿæˆè¿‡ç¨‹è§£ææŠ½è±¡è¯­æ³•æ ‘ç”Ÿæˆä¸‰åœ°å€ç ã€‚å¦‚æœé‡‡ç”¨æµæ•æ„Ÿæˆ–è·¯å¾„æ•æ„Ÿçš„æ–¹å¼ï¼Œåˆ™å¯ä»¥é€šè¿‡åˆ†ææŠ½è±¡è¯­æ³•æ ‘å¾—åˆ°ç¨‹åºçš„æ§åˆ¶æµå›¾ã€‚æ„é€ æ§åˆ¶æµå›¾çš„è¿‡ç¨‹æ˜¯è¿‡ç¨‹å†…çš„æ§åˆ¶æµåˆ†æè¿‡ç¨‹ã€‚æ§åˆ¶æµè¿˜åŒ…å«åˆ†æå„ä¸ªè¿‡ç¨‹ä¹‹é—´çš„è°ƒç”¨å…³ç³»çš„éƒ¨åˆ†ã€‚é€šè¿‡åˆ†æè¿‡ç¨‹ä¹‹é—´çš„è°ƒç”¨å…³ç³»ï¼Œè¿˜å¯ä»¥æ„é€ ç¨‹åºçš„è°ƒç”¨å›¾ã€‚å¦å¤–ï¼Œè¯¥è¿‡ç¨‹è¿˜éœ€è¦ä¸€äº›è¾…åŠ©æ”¯æŒæŠ€æœ¯ï¼Œä¾‹å¦‚å˜é‡çš„åˆ«ååˆ†æï¼ŒJava åå°„æœºåˆ¶åˆ†æï¼ŒC/C++ çš„å‡½æ•°æŒ‡é’ˆæˆ–è™šå‡½æ•°è°ƒç”¨åˆ†æç­‰ ä»£ç è§£æï¼šæŒ‡è¯æ³•åˆ†æã€è¯­æ³•åˆ†æã€ä¸­é—´ä»£ç ç”Ÿæˆä»¥åŠè¿‡ç¨‹å†…çš„æ§åˆ¶æµåˆ†æç­‰åŸºç¡€çš„åˆ†æè¿‡ç¨‹ è¾…åŠ©åˆ†æï¼šåŒ…æ‹¬æ§åˆ¶æµåˆ†æç­‰ä¸ºæ•°æ®æµåˆ†ææä¾›æ”¯æŒçš„åˆ†æè¿‡ç¨‹ ç¨‹åºä»£ç å»ºæ¨¡ æ¼æ´åˆ†æç³»ç»Ÿé€šå¸¸ä½¿ç”¨æ ‘å‹ç»“æ„çš„æŠ½è±¡è¯­æ³•æ ‘æˆ–è€…çº¿æ€§çš„ä¸‰åœ°å€ç æ¥æè¿°ç¨‹åºä»£ç çš„è¯­ä¹‰ã€‚æ§åˆ¶æµå›¾æè¿°äº†è¿‡ç¨‹å†…ç¨‹åºçš„æ§åˆ¶æµè·¯å¾„ï¼Œè¾ƒä¸ºç²¾ç¡®çš„æ•°æ®æµåˆ†æé€šå¸¸åˆ©ç”¨æ§åˆ¶æµå›¾åˆ†æç¨‹åºæ‰§è¡Œè·¯å¾„ä¸Šçš„æŸäº›è¡Œä¸ºã€‚è°ƒç”¨å›¾æè¿°äº†è¿‡ç¨‹ä¹‹é—´çš„è°ƒç”¨å…³ç³»ï¼Œæ˜¯è¿‡ç¨‹é—´åˆ†æéœ€è¦ç”¨åˆ°çš„ç¨‹åºç»“æ„ æ¼æ´åˆ†æè§„åˆ™ æ¼æ´åˆ†æè§„åˆ™æ˜¯æ£€æµ‹ç¨‹åºæ¼æ´çš„ä¾æ®ã€‚å¯¹äºåˆ†æå˜é‡çŠ¶æ€çš„è§„åˆ™ï¼Œå¯ä»¥ä½¿ç”¨çŠ¶æ€è‡ªåŠ¨æœºæ¥æè¿°ã€‚å¯¹äºéœ€è¦åˆ†æå˜é‡å–å€¼çš„æƒ…å†µï¼Œåˆ™éœ€è¦æŒ‡å‡ºåº”è¯¥æ€æ ·è®°å½•å˜é‡çš„å–å€¼ï¼Œä»¥åŠåœ¨æ€æ ·çš„æƒ…å†µä¸‹å¯¹å˜é‡çš„å–å€¼è¿›è¡Œä½•ç§çš„æ£€æµ‹ ç¨‹åºæ¼æ´é€šå¸¸å’Œç¨‹åºä¸­å˜é‡çš„çŠ¶æ€æˆ–è€…å˜é‡çš„å–å€¼ç›¸å…³ã€‚çŠ¶æ€è‡ªåŠ¨æœºå¯ä»¥æè¿°å’Œç¨‹åºå˜é‡çŠ¶æ€ç›¸å…³çš„æ¼æ´åˆ†æè§„åˆ™ï¼Œè‡ªåŠ¨æœºçš„çŠ¶æ€å’Œå˜é‡ç›¸åº”çš„çŠ¶æ€å¯¹åº” é™æ€æ¼æ´åˆ†æ æ•°æ®æµåˆ†æå¯ä»¥çœ‹åšä¸€ä¸ªæ ¹æ®æ£€æµ‹è§„åˆ™åœ¨ç¨‹åºçš„å¯æ‰§è¡Œè·¯å¾„ä¸Šè·Ÿè¸ªå˜é‡çš„çŠ¶æ€æˆ–è€…å˜é‡å–å€¼çš„è¿‡ç¨‹ã€‚åœ¨è¯¥è¿‡ç¨‹ä¸­ï¼Œå¦‚æœå¾…åˆ†æçš„ç¨‹åºè¯­å¥æ˜¯å‡½æ•°è°ƒç”¨è¯­å¥ï¼Œåˆ™éœ€è¦åˆ©ç”¨è°ƒç”¨å›¾è¿›è¡Œè¿‡ç¨‹é—´çš„åˆ†æï¼Œä»¥åˆ†æè¢«è°ƒç”¨å‡½æ•°çš„å†…éƒ¨ä»£ç ã€‚å¦å¤–ï¼Œæ•°æ®æµåˆ†æè¿˜å¯ä»¥ä½œä¸ºè¾…åŠ©æŠ€æœ¯ï¼Œç”¨äºå®Œå–„ç¨‹åºè°ƒç”¨å›¾å’Œåˆ†æå˜é‡åˆ«åç­‰ èµ‹å€¼è¯­å¥ã€æ§åˆ¶è½¬ç§»è¯­å¥å’Œè¿‡ç¨‹è°ƒç”¨è¯­å¥æ˜¯æ•°æ®æµåˆ†ææœ€å…³å¿ƒçš„ä¸‰ç±»è¯­å¥ è¿‡ç¨‹å†…åˆ†æ å¯¹äºæŠ½è±¡è¯­æ³•æ ‘çš„åˆ†æï¼Œå¯ä»¥æŒ‰ç…§ç¨‹åºæ‰§è¡Œè¯­å¥çš„è¿‡ç¨‹ä»å³å‘å·¦ã€è‡ªåº•å‘ä¸Šåœ°è¿›è¡Œåˆ†æ å¯¹äºä¸‰åœ°å€ç çš„åˆ†æï¼Œåˆ™å¯ä»¥ç›´æ¥è¯†åˆ«å…¶æ“ä½œä»¥åŠæ“ä½œç›¸å…³çš„å˜é‡ åœ¨æµä¸æ•æ„Ÿåˆ†æä¸­ï¼Œå¸¸å¸¸ä½¿ç”¨çº¿æ€§æ‰«æçš„æ–¹å¼ä¾æ¬¡åˆ†ææ¯ä¸€æ¡ä¸­é—´è¡¨ç¤ºå½¢å¼çš„è¯­å¥ æµæ•æ„Ÿçš„åˆ†ææˆ–è·¯å¾„æ•æ„Ÿçš„åˆ†æï¼Œåˆ™æ ¹æ®æ§åˆ¶æµå›¾è¿›è¡Œåˆ†æã€‚å¯¹æ§åˆ¶æµå›¾çš„éå†ä¸»è¦æ˜¯æ·±åº¦ä¼˜å…ˆå’Œå¹¿åº¦ä¼˜å…ˆä¸¤ç§æ–¹å¼ å¦‚æœåœ¨åˆ†ææŸæ®µç¨‹åºä¸­é‡åˆ°è¿‡ç¨‹è°ƒç”¨è¯­å¥ï¼Œå°±åˆ†æå…¶è°ƒç”¨è¿‡ç¨‹çš„å†…éƒ¨çš„ä»£ç ï¼Œå®Œæˆåˆ†æä¹‹åå†å›åˆ°åŸæ¥çš„ç¨‹åºæ®µç»§ç»­åˆ†æ å€Ÿé‰´åŸºæœ¬å—çš„åˆ†æï¼Œç»™è¿‡ç¨‹è®¾ç½®ä¸Šæ‘˜è¦ï¼Œä¹ŸåŒ…å«å‰ç½®æ¡ä»¶å’Œåç½®æ¡ä»¶ å‰ç½®æ¡ä»¶è®°å½•å¯¹åŸºæœ¬å—åˆ†æå‰å·²æœ‰çš„ç›¸å…³åˆ†æç»“æœ åç½®æ¡ä»¶æ˜¯åˆ†æåŸºæœ¬å—åå¾—åˆ°çš„ç»“æœ å¤„ç†åˆ†æç»“æœ å¯¹æ£€æµ‹å‡ºçš„æ¼æ´è¿›è¡Œå±å®³ç¨‹åº¦åˆ†ç±»ç­‰ æ–¹æ³•å®ç°æ•°æ®æµåˆ†æä½¿ç”¨çš„ç¨‹åºä»£ç æ¨¡å‹ä¸»è¦åŒ…æ‹¬ç¨‹åºä»£ç çš„ä¸­é—´è¡¨ç¤ºä»¥åŠä¸€äº›å…³é”®çš„æ•°æ®ç»“æ„ï¼Œåˆ©ç”¨ç¨‹åºä»£ç çš„ä¸­é—´è¡¨ç¤ºå¯ä»¥å¯¹ç¨‹åºè¯­å¥çš„æŒ‡ä»¤è¯­ä¹‰è¿›è¡Œåˆ†æ æŠ½è±¡è¯­æ³•æ ‘ï¼ˆASTï¼‰æ˜¯ç¨‹åºæŠ½è±¡è¯­æ³•ç»“æ„çš„æ ‘çŠ¶è¡¨ç°å½¢å¼ï¼Œå…¶æ¯ä¸ªå†…éƒ¨èŠ‚ç‚¹ä»£è¡¨ä¸€ä¸ªè¿ç®—ç¬¦ï¼Œè¯¥èŠ‚ç‚¹çš„å­èŠ‚ç‚¹ä»£è¡¨è¿™ä¸ªè¿ç®—ç¬¦çš„è¿ç®—åˆ†é‡ã€‚é€šè¿‡æè¿°æ§åˆ¶è½¬ç§»è¯­å¥çš„è¯­æ³•ç»“æ„ï¼ŒæŠ½è±¡è¯­æ³•æ ‘åœ¨ä¸€å®šç¨‹åº¦ä¸Šä¹Ÿæè¿°äº†ç¨‹åºçš„è¿‡ç¨‹å†…ä»£ç çš„æ§åˆ¶æµç»“æ„ ä¾‹å­ï¼š 123456while b â‰  0 if a &gt; b a := a âˆ’ b else b := b âˆ’ areturn a å¯¹åº”çš„æŠ½è±¡è¯­æ³•æ ‘ä¸ºï¼š ç”±ä¸€ç»„ç±»ä¼¼äºæ±‡ç¼–è¯­è¨€çš„æŒ‡ä»¤ç»„æˆï¼Œæ¯ä¸ªæŒ‡ä»¤å…·æœ‰ä¸å¤šäºä¸‰ä¸ªçš„è¿ç®—åˆ†é‡ã€‚æ¯ä¸ªè¿ç®—åˆ†é‡éƒ½åƒæ˜¯ä¸€ä¸ªå¯„å­˜å™¨ é™æ€å•èµ‹å€¼å½¢å¼ï¼ˆSSAï¼‰æ˜¯ä¸€ç§ç¨‹åºè¯­å¥æˆ–è€…æŒ‡ä»¤çš„è¡¨ç¤ºå½¢å¼ï¼Œåœ¨è¿™ç§è¡¨ç¤ºå½¢å¼ä¸­ï¼Œæ‰€æœ‰çš„èµ‹å€¼éƒ½æ˜¯é’ˆå¯¹å…·æœ‰ä¸åŒåå­—çš„å˜é‡ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœæŸä¸ªå˜é‡åœ¨ä¸åŒçš„ç¨‹åºç‚¹è¢«èµ‹å€¼ï¼Œé‚£ä¹ˆåœ¨è¿™äº›ç¨‹åºç‚¹ä¸Šï¼Œè¯¥å˜é‡åœ¨é™æ€å•èµ‹å€¼å½¢å¼çš„è¡¨ç¤ºä¸­åº”è¯¥ä½¿ç”¨ä¸åŒçš„åå­—ã€‚åœ¨ä½¿ç”¨ä¸‹æ ‡çš„èµ‹å€¼è¡¨ç¤ºä¸­ï¼Œå˜é‡çš„åå­—ç”¨äºåŒºåˆ†ç¨‹åºä¸­çš„ä¸åŒçš„å˜é‡ï¼Œä¸‹æ ‡ç”¨äºåŒºåˆ†ä¸åŒç¨‹åºç‚¹ä¸Šå˜é‡çš„èµ‹å€¼æƒ…å†µã€‚å¦å¤–ï¼Œå¦‚æœåœ¨ä¸€ä¸ªç¨‹åºä¸­ï¼ŒåŒä¸€ä¸ªå˜é‡å¯èƒ½åœ¨ä¸¤ä¸ªä¸åŒçš„æ§åˆ¶æµè·¯å¾„ä¸­è¢«èµ‹å€¼ï¼Œå¹¶ä¸”åœ¨è·¯å¾„äº¤æ±‡åï¼Œè¯¥å˜é‡è¢«ä½¿ç”¨ï¼Œé‚£ä¹ˆå°±éœ€è¦ä¸€ç§è¢«ç§°ä¸º Î¦ å‡½æ•°çš„çš„è¡¨ç¤ºè§„åˆ™å°†å˜é‡çš„èµ‹å€¼åˆå¹¶èµ·æ¥ ä½œç”¨ï¼šé™æ€å•èµ‹å€¼å½¢å¼å¯¹äºæ•°æ®æµåˆ†æçš„æ„ä¹‰åœ¨äºï¼Œå¯ä»¥ç®€å•è€Œç›´æ¥åœ°å‘ç°å˜é‡çš„èµ‹å€¼å’Œä½¿ç”¨æƒ…å†µï¼Œä»¥æ­¤åˆ†ææ•°æ®çš„æµå‘å¹¶å‘ç°ç¨‹åºä¸å®‰å…¨çš„è¡Œä¸º æ§åˆ¶æµå›¾ï¼ˆCFGï¼‰æ˜¯æŒ‡ç”¨äºæè¿°ç¨‹åºè¿‡ç¨‹å†…çš„æ§åˆ¶æµçš„æœ‰å‘å›¾ã€‚æ§åˆ¶æµç”±èŠ‚ç‚¹å’Œæœ‰å‘è¾¹ç»„æˆã€‚å…¸å‹çš„èŠ‚ç‚¹æ˜¯åŸºæœ¬å—ï¼ˆBBï¼‰ï¼Œå³ç¨‹åºè¯­å¥çš„çº¿æ€§åºåˆ—ã€‚æœ‰å‘è¾¹è¡¨ç¤ºèŠ‚ç‚¹ä¹‹é—´å­˜åœ¨æ½œåœ¨çš„æ§åˆ¶æµè·¯å¾„ï¼Œé€šå¸¸éƒ½å¸¦æœ‰å±æ€§ï¼ˆå¦‚ifè¯­å¥çš„trueåˆ†æ”¯å’Œfalseåˆ†æ”¯ï¼‰ è°ƒç”¨å›¾ï¼ˆCGï¼‰æ˜¯æè¿°ç¨‹åºä¸­è¿‡ç¨‹ä¹‹é—´çš„è°ƒç”¨å’Œè¢«è°ƒç”¨å…³ç³»çš„æœ‰å‘å›¾ã€‚æ§åˆ¶å›¾æ˜¯ä¸€ä¸ªèŠ‚ç‚¹å’Œè¾¹çš„é›†åˆï¼Œå¹¶æ»¡è¶³å¦‚ä¸‹åŸåˆ™ å¯¹ç¨‹åºä¸­çš„æ¯ä¸ªè¿‡ç¨‹éƒ½æœ‰ä¸€ä¸ªèŠ‚ç‚¹ å¯¹æ¯ä¸ªè°ƒç”¨ç‚¹éƒ½æœ‰ä¸€ä¸ªèŠ‚ç‚¹ å¦‚æœè°ƒç”¨ç‚¹ c è°ƒç”¨äº†è¿‡ç¨‹ pï¼Œå°±å­˜åœ¨ä¸€æ¡ä» c çš„èŠ‚ç‚¹åˆ° p çš„èŠ‚ç‚¹çš„è¾¹ é™æ€æ¼æ´åˆ†ææ•°æ®æµåˆ†ææ£€æµ‹æ¼æ´æ˜¯åˆ©ç”¨åˆ†æè§„åˆ™æŒ‰ç…§ä¸€å®šçš„é¡ºåºåˆ†æä»£ç ä¸­é—´è¡¨ç¤ºçš„è¿‡ç¨‹ è¿‡ç¨‹å†…åˆ†æï¼šå¯¹äºæŠ½è±¡è¯­æ³•æ ‘çš„åˆ†æï¼Œå¯ä»¥æŒ‰ç…§ç¨‹åºæ‰§è¡Œè¯­å¥çš„è¿‡ç¨‹ä»å³å‘å·¦ã€è‡ªåº•å‘ä¸Šåœ°è¿›è¡Œåˆ†æã€‚å¯¹äºä¸‰åœ°å€ç çš„åˆ†æï¼Œåˆ™å¯ä»¥ç›´æ¥è¯†åˆ«å…¶æ“ä½œä»¥åŠæ“ä½œç›¸å…³çš„å˜é‡ è¿‡ç¨‹é—´åˆ†æï¼šå¦‚æœåœ¨åˆ†ææŸæ®µç¨‹åºä¸­é‡åˆ°è¿‡ç¨‹è°ƒç”¨è¯­å¥ï¼Œå°±åˆ†æå…¶è°ƒç”¨è¿‡ç¨‹çš„å†…éƒ¨çš„ä»£ç ï¼Œå®Œæˆåˆ†æä¹‹åå†å›åˆ°åŸæ¥çš„ç¨‹åºæ®µç»§ç»­åˆ†æã€‚å¦ä¸€ç§æ€è·¯æ˜¯å€Ÿé‰´åŸºæœ¬å—çš„åˆ†æï¼Œç»™è¿‡ç¨‹è®¾ç½®ä¸Šæ‘˜è¦ï¼Œä¹ŸåŒ…å«å‰ç½®æ¡ä»¶å’Œåç½®æ¡ä»¶ åŸæ–‡é“¾æ¥","categories":[{"name":"ç¨‹åºåˆ†æ","slug":"ç¨‹åºåˆ†æ","permalink":"https://lwy0518.github.io/categories/%E7%A8%8B%E5%BA%8F%E5%88%86%E6%9E%90/"}],"tags":[{"name":"ç¨‹åºåˆ†æ","slug":"ç¨‹åºåˆ†æ","permalink":"https://lwy0518.github.io/tags/%E7%A8%8B%E5%BA%8F%E5%88%86%E6%9E%90/"},{"name":"æ•°æ®æµ","slug":"æ•°æ®æµ","permalink":"https://lwy0518.github.io/tags/%E6%95%B0%E6%8D%AE%E6%B5%81/"},{"name":"Def-Use","slug":"Def-Use","permalink":"https://lwy0518.github.io/tags/Def-Use/"},{"name":"ä¸­é—´è¡¨ç¤ºï¼ˆIRï¼‰","slug":"ä¸­é—´è¡¨ç¤ºï¼ˆIRï¼‰","permalink":"https://lwy0518.github.io/tags/%E4%B8%AD%E9%97%B4%E8%A1%A8%E7%A4%BA%EF%BC%88IR%EF%BC%89/"}],"author":"lwy"},{"title":"EOSIO-Vulneribilities","slug":"EOSIO-Vulneribilities","date":"2021-12-07T07:29:37.000Z","updated":"2021-12-22T02:58:46.385Z","comments":true,"path":"2021/12/07/EOSIO-Vulneribilities/","link":"","permalink":"https://lwy0518.github.io/2021/12/07/EOSIO-Vulneribilities/","excerpt":"EOSIOæ¼æ´å¤ç°å®éªŒç¯å¢ƒ nodeos ï¼š2.0.12 EOSIO.CDTï¼ˆç¼–è¯‘å™¨ï¼‰ï¼š1.2.1 å®éªŒæ•°æ®","text":"EOSIOæ¼æ´å¤ç°å®éªŒç¯å¢ƒ nodeos ï¼š2.0.12 EOSIO.CDTï¼ˆç¼–è¯‘å™¨ï¼‰ï¼š1.2.1 å®éªŒæ•°æ® å‡†å¤‡ï¼ˆå‰ä¸€ç¯‡æ–‡ç« å·²ç»ä»‹ç»å¦‚ä½•åˆ›å»ºè´¦æˆ·ç­‰ç­‰æ“ä½œï¼‰ è§£é”è´¦æˆ·ï¼ˆé»˜è®¤é”å®šæ—¶é—´è¾ƒçŸ­ï¼Œå¯ä»¥è‡ªå·±ä¿®æ”¹é…ç½®æ–‡ä»¶ä½¿å¾—æ—¶é—´æ›´é•¿ï¼‰ yourcountï¼šæŒ‡ä½ è‡ªå·±åˆ›å»ºçš„é’±åŒ…å 1$ cleos wallet unlock -n yourcount --password EOS Fake Transferå¤ç°è¿‡ç¨‹ å­˜åœ¨æ¼æ´çš„åˆçº¦ç¤ºä¾‹ï¼ˆtest.cppï¼‰ï¼š 1234567891011if( code == self || action == ::eosio::string_to_name(&quot;onerror&quot;) || code == N(eosio.token)) &#123; print(&quot;receiver:&quot;, name&#123;receiver&#125;, &quot;, code:&quot;, name&#123;code&#125;, &quot;, action:&quot;, name&#123;action&#125;, &quot;\\n&quot;); notified thiscontract( self ); switch( action ) &#123; case ::eosio::string_to_name( &quot;transfer&quot; ): eosio::execute_action( &amp;thiscontract, &amp;notified::transfer ); break; &#125; &#125; // doSomething()&#125; æ¼æ´äº§ç”Ÿçš„åŸå›  ç”±äºeosio.tokenæºä»£ç å®Œå…¨å…¬å¼€çš„ï¼Œæ‰€ä»¥ä»»ä½•äººéƒ½èƒ½å¤åˆ¶å…¶æºä»£ç ï¼Œå¹¶å‘å¸ƒä¸€ä¸ªtokenï¼ˆç›¸åŒçš„åå­—ã€ç¬¦å·å’Œä»£ç ï¼‰ï¼Œè™šå‡çš„EOSå’Œå®˜æ–¹çš„å”¯ä¸€ä¸åŒå°±æ˜¯å…·æœ‰ä¸åŒçš„å‘å¸ƒäººï¼ˆissuerï¼‰ã€‚æˆ–è€…ç›´æ¥è°ƒç”¨æ¼æ´åˆçº¦çš„transferå‡½æ•°è¿›è¡Œè½¬è´¦ è¿‡ç¨‹ åˆ›å»ºå—å®³è€…è´¦æˆ· your keyï¼šæ˜¯ä½ è‡ªå·±åˆ›å»ºçš„å…¬é’¥ï¼Œéœ€è¦æŠŠå…¬é’¥å¯¼å…¥åˆ°ä½ çš„é’±åŒ…ä»¥åŠå®˜æ–¹é’±åŒ…eosio 1$ cleos create account eosio victim4 &quot;your key&quot; éƒ¨ç½²æµ‹è¯•åˆçº¦test.cpp cleos set contract + è´¦æˆ·å + æµ‹è¯•åˆçº¦çš„wasmå­—èŠ‚ç æ‰€åœ¨ç›®å½• + -p + è´¦æˆ·@activeï¼ˆé»˜è®¤æƒé™ä¸ºactiveï¼Œæ•…å¯åŠ å¯ä¸åŠ ï¼‰ 1$ cleos set contract victim4 test/ -p victim4 å¼€å§‹æ¨¡æ‹Ÿæ”»å‡» ç›´æ¥è°ƒç”¨test.cppåˆçº¦çš„transferï¼ˆä¸»è¦ç›®çš„çœ‹æ˜¯å¦trasnferä¸­çš„printæ˜¯å¦æœ‰è¾“å‡ºï¼‰ cleos push action + è´¦æˆ·å + éœ€è¦è°ƒç”¨çš„action + â€˜è°ƒç”¨actionçš„å‚æ•°â€™ + -p + è½¬è´¦è´¦æˆ· ï¼ˆ+ -jï¼‰ 1$ cleos push action victim4 transfer &#x27;[&quot;eosio&quot;,&quot;victim4&quot;,&quot;10.0000 EOS&quot;,&quot;inlined call&quot;]&#x27; -p eosio -j è¯´æ˜ï¼šåŠ äº†ä¸€ä¸ª -j ï¼Œè¯´æ˜ç»“æœä»¥jsonçš„æ ¼å¼è¿›è¡Œè¾“å‡ºçš„ ç»“æœæ˜¾ç¤ºï¼šæµ‹è¯•åˆçº¦çš„transferå‡½æ•°è¢«è°ƒç”¨äº† æŸ¥è¯¢è´¦æˆ·ä½™é¢ cleos get currency balance eosio.token + æŸ¥è¯¢è´¦æˆ· + tokenåï¼ˆEOS) 1$ cleos get currency balance eosio.token victim4 EOS Forged Transfer Notificationå¤ç°è¿‡ç¨‹ å­˜åœ¨æ¼æ´çš„åˆçº¦ç¤ºä¾‹ï¼ˆtest.cppï¼‰ï¼š 123456789void transfer(account_name from, account_name to, asset quantity, string memo) &#123; print(&quot;\\n Receiving transfer message: from &quot;, name&#123;from&#125;, &quot; to &quot;, name&#123;to&#125;, &quot;,&quot;, quantity, &quot;,&quot;, memo); if (from == _self) &#123; print(&quot;have a vulnerability!&quot;); return; &#125; print(&quot;in eosbet transfer,&quot;, name&#123; from &#125;, &quot;,&quot;, name&#123; to &#125;); // doSomething()&#125; æ¼æ´äº§ç”Ÿçš„åŸå›  æ”»å‡»è€…åœ¨ EOS ç½‘ç»œä¸­æ§åˆ¶ä¸¤ä¸ªè´¦æˆ· Aï¼ˆå‘èµ·æ”»å‡»çš„è´¦æˆ·ï¼‰ å’Œ Bï¼ˆå°†æ”¶åˆ°çš„é€šçŸ¥ç«‹å³è½¬å‘ç»™è´¦æˆ·Cï¼‰ã€‚é€šè¿‡è´¦æˆ· A å‘è´¦æˆ· B å‘é€çœŸæ­£çš„ EOSï¼Œå¦‚å›¾æ‰€ç¤ºï¼Œeosio.token åˆçº¦åœ¨è½¬è´¦æˆåŠŸåä¼šå‘ è´¦æˆ·Aã€B å‘é€ notificationã€‚å½“è´¦æˆ· B æ”¶åˆ° notificationåï¼Œé€šè¿‡è°ƒç”¨require_recipient(C)éšå³å°†æ”¶åˆ°çš„é€šçŸ¥è½¬å‘ç»™éƒ¨ç½²å—å®³è€…æ™ºèƒ½åˆçº¦çš„è´¦æˆ·Cã€‚ è¿‡ç¨‹ åˆ›å»ºæ”»å‡»è€…è´¦æˆ·senderï¼Œç”¨äºå‘å¦ä¸€ä¸ªç”±æ”»å‡»è€…æ§åˆ¶çš„è´¦æˆ·notifier your keyï¼šæ˜¯ä½ è‡ªå·±åˆ›å»ºçš„å…¬é’¥ï¼Œéœ€è¦æŠŠå…¬é’¥å¯¼å…¥åˆ°ä½ çš„é’±åŒ…ä»¥åŠå®˜æ–¹é’±åŒ…eosio 1$ cleos create account eosio sender &quot;your key&quot; åˆ›å»ºè´¦æˆ·notifierï¼Œç”¨äºå°†æ”¶åˆ°çš„è½¬è´¦é€šçŸ¥è½¬å‘ç»™å—å®³è€… 1$ cleos create account eosio notifier &quot;your key&quot; åˆ›å»ºå—å®³è€…è´¦æˆ· 1$ cleos create account eosio victim5 &quot;your key&quot; è´¦æˆ·notifieréƒ¨ç½²æ”»å‡»åˆçº¦eosbethack.cpp cleos set contract + è´¦æˆ·å + æµ‹è¯•åˆçº¦çš„wasmå­—èŠ‚ç æ‰€åœ¨ç›®å½• + -p + è´¦æˆ·@activeï¼ˆé»˜è®¤æƒé™ä¸ºactiveï¼Œæ•…å¯åŠ å¯ä¸åŠ ï¼‰ 1$ cleos set contract notifier eosbethack/ -p notifier è´¦æˆ·victim5éƒ¨ç½²æ”»å‡»åˆçº¦eosbet.cpp 1$ cleos set contract victim5 eosbet/ -p victim5 å¼€å§‹æ¨¡æ‹Ÿæ”»å‡» è´¦æˆ·senderï¼ˆæ”»å‡»è€…ï¼‰å‘è´¦æˆ·notifierï¼ˆæ”»å‡»è€…ï¼‰å‘é€EOSï¼ˆä¸»è¦ç›®çš„çœ‹æ˜¯å¦trasnferä¸­çš„printæ˜¯å¦æœ‰è¾“å‡ºï¼‰ cleos push action + è´¦æˆ·å + éœ€è¦è°ƒç”¨çš„action + â€˜è°ƒç”¨actionçš„å‚æ•°â€™ + -p + è½¬è´¦è´¦æˆ· ï¼ˆ+ -jï¼‰ 1$ cleos push action eosio.token transfer &#x27;[&quot;sender&quot;,&quot;notifier&quot;,&quot;10.0000 EOS&quot;,&quot;transfer himself&quot;]&#x27; -p sender -j è¯´æ˜ï¼šåŠ äº†ä¸€ä¸ª -j ï¼Œè¯´æ˜ç»“æœä»¥jsonçš„æ ¼å¼è¿›è¡Œè¾“å‡ºçš„ ç»“æœæ˜¾ç¤ºï¼šæµ‹è¯•åˆçº¦çš„transferå‡½æ•°è¢«è°ƒç”¨äº† ç»“æœæ˜¾ç¤ºï¼š","categories":[{"name":"EOSIO","slug":"EOSIO","permalink":"https://lwy0518.github.io/categories/EOSIO/"}],"tags":[{"name":"EOSIO","slug":"EOSIO","permalink":"https://lwy0518.github.io/tags/EOSIO/"},{"name":"æ¼æ´","slug":"æ¼æ´","permalink":"https://lwy0518.github.io/tags/%E6%BC%8F%E6%B4%9E/"},{"name":"æ™ºèƒ½åˆçº¦","slug":"æ™ºèƒ½åˆçº¦","permalink":"https://lwy0518.github.io/tags/%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6/"},{"name":"é˜²æŠ¤","slug":"é˜²æŠ¤","permalink":"https://lwy0518.github.io/tags/%E9%98%B2%E6%8A%A4/"}],"author":"lwy"},{"title":"æ„å»ºhexoåšå®¢è¿‡ç¨‹","slug":"æ„å»ºhexoåšå®¢è¿‡ç¨‹","date":"2021-12-07T07:23:17.000Z","updated":"2021-12-22T02:58:34.388Z","comments":true,"path":"2021/12/07/æ„å»ºhexoåšå®¢è¿‡ç¨‹/","link":"","permalink":"https://lwy0518.github.io/2021/12/07/%E6%9E%84%E5%BB%BAhexo%E5%8D%9A%E5%AE%A2%E8%BF%87%E7%A8%8B/","excerpt":"ç¯å¢ƒï¼ˆWindowsï¼‰ gitï¼ˆgit version 2.29.2.windows.3ï¼‰ nodeï¼ˆv14.17.0ï¼‰","text":"ç¯å¢ƒï¼ˆWindowsï¼‰ gitï¼ˆgit version 2.29.2.windows.3ï¼‰ nodeï¼ˆv14.17.0ï¼‰ æœ¬åœ°éƒ¨ç½² å®‰è£…cnpmï¼ˆå›½å†…é•œåƒæºå¾ˆæ…¢ï¼‰ 1$ npm install -g cnpm --registry=https://registry.npm.taobao.org â€œ-gâ€ï¼šè¡¨ç¤ºå…¨å±€å®‰è£… éªŒè¯æ˜¯å¦å®‰è£…æˆåŠŸï¼š 1$ cnpm -v è®¾ç½®æºï¼š 1$ npm config set registry https://registry.npm.taobao.org å®‰è£…hexo 1$ cnpm install -g hexo-cli éªŒè¯æ˜¯å¦å®‰è£…æˆåŠŸï¼š 1$ hexo -v åˆ›å»ºä¸€ä¸ªç›®å½•ï¼ˆå‡ºé”™ç›´æ¥åˆ æ‰ç›®å½•å³å¯ï¼‰ 12$ mkdir myBlog$ cd myBlog åˆå§‹åŒ– 1$ hexo init å¯åŠ¨hexo 1$ hexo s è®¿é—®åœ°å€:localhost:4000 GitHubéƒ¨ç½² åˆ›å»ºä¸€ä¸ªä»“åº“ï¼Œä»“åº“åå¿…é¡»ä¸ºï¼š 1yourname.github.io å®‰è£…æ’ä»¶ 1$ cnpm install --save hexo-deployer-git ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼ˆåœ¨æ–‡ä»¶æœ€ä¸‹é¢ä¿®æ”¹ï¼‰ Windows ä¸‹ç›´æ¥å¯ä»¥ç”¨æ–‡æœ¬æ‰“å¼€ å…¶ä»–ç³»ç»Ÿå¯ä»¥ç”¨vim 1$ vim _config.yml æ·»åŠ ä»¥ä¸‹å†…å®¹ 1234deploy: type: git repo: https://github.com:yourname/yourname.github.io.git branch: master éƒ¨ç½²åˆ°è¿œç«¯ï¼ˆå¯ä»¥æå‰é…ç½®å¥½gitè´¦å·å’Œå¯†ç ï¼‰ 1$ hexo d è®¿é—®è¿œç¨‹åšå®¢ 1https://yourname.github.io.git æ¢ä¸»é¢˜ ä¸‹è½½ä¸»é¢˜ï¼ˆä¸‹è½½åˆ°themesç›®å½•ä¸‹ï¼‰ 1$ git clone https://github.com/litten/hexo-theme-yilia.git themes.yilia ä¿®æ”¹ Windows ä¸‹ç›´æ¥å¯ä»¥ç”¨æ–‡æœ¬æ‰“å¼€ å…¶ä»–ç³»ç»Ÿå¯ä»¥ç”¨vim 1$ vim _config.yml ä¿®æ”¹ä»¥ä¸‹å†…å®¹ 1theme: yilia é‡æ–°ç”Ÿæˆ 1$ hexo clean &amp; hexo g &amp; hexo s è¿œç¨‹éƒ¨ç½²åˆ°github 1$ hexo d é‡åˆ°çš„é—®é¢˜ å¦‚é‡åˆ°è¿™ä¸ªé—®é¢˜ï¼Œå…ˆæ£€æŸ¥æ˜¯å¦æ˜¯ç½‘ç»œçš„åŸå›  ï¼Œå¤šéƒ¨ç½²å‡ æ¬¡ï¼Œå¦‚æœè¿˜æ˜¯ä¸è¡Œï¼Œåˆ™é‡‡ç”¨ä»¥ä¸‹æ–¹å¼ï¼š æ–¹æ³•ä¸€ï¼šåœ¨å½“å‰ç›®å½•ä¸‹æ“ä½œ 12345678## åˆ é™¤gitæäº¤å†…å®¹æ–‡ä»¶å¤¹$ rm -rf .deploy_git/##æ‰§è¡Œ$ git config --global core.autocrlf false##æœ€åhexo clean &amp;&amp; hexo g &amp;&amp; hexo d æ–¹æ³•äºŒï¼šæœ‰å¯èƒ½æ˜¯ä½ çš„git repoé…ç½®åœ°å€ä¸æ­£ç¡®,å¯ä»¥å°†httpæ–¹å¼å˜æ›´ä¸ºsshæ–¹å¼ï¼Œåœ¨å½“å‰ç›®å½•ä¸‹æ“ä½œ 123456789101112##åˆ é™¤gitæäº¤å†…å®¹æ–‡ä»¶å¤¹$ vim _config.yml##ä¿®æ”¹deploy: type: git repo:https://github.com/yourname/yourname.github.io.git -&gt; git@github.com:a956551943/weixiaohui.github.io.git branch: master##æœ€å$ hexo clean &amp;&amp; hexo g &amp;&amp; hexo d æ–¹æ³•ä¸‰ï¼šå¤‡é€‰ï¼Œåœ¨å½“å‰ç›®å½•ä¸‹æ“ä½œ 12345##è¿›å…¥depolyæ–‡ä»¶å¤¹$ cd .deploy_git/##å¼ºåˆ¶æ¨é€$ git push -f é‡åˆ°æ–°å»ºåšå®¢æ–‡ç« éƒ¨ç½²ä¹‹åå›¾ç‰‡ä¸æ˜¾ç¤ºçš„é—®é¢˜ åœ¨Typoraä¸­çš„å·¥å…·æ ä¸­çš„â€œæ ¼å¼â€ â€“&gt; â€œå›¾åƒâ€ â€“&gt; â€œå…¨å±€å›¾åƒè®¾ç½®â€ä¸­è®¾ç½®å¦‚ä¸‹ï¼Œæ­¤åä¼šåœ¨å½“å‰ç›®å½•ä¸‹ç”ŸæˆåŒ…å«å›¾ç‰‡åŒåçš„æ–‡ä»¶ å¦å¤–ï¼Œåœ¨æ–‡ç« å¼€å§‹éƒ¨åˆ†åŠ ä¸Šä»¥ä¸Šå‘½ä»¤å³å¯è§£å†³å›¾ç‰‡ä¸æ˜¾ç¤ºçš„é—®é¢˜ 1&lt;meta name=&quot;referrer&quot; content=&quot;no-referrer&quot;","categories":[{"name":"Blog","slug":"Blog","permalink":"https://lwy0518.github.io/categories/Blog/"}],"tags":[{"name":"hexo","slug":"hexo","permalink":"https://lwy0518.github.io/tags/hexo/"},{"name":"Blog","slug":"Blog","permalink":"https://lwy0518.github.io/tags/Blog/"}],"author":"lwy"}],"categories":[{"name":"ååº","slug":"ååº","permalink":"https://lwy0518.github.io/categories/%E5%81%8F%E5%BA%8F/"},{"name":"SSA","slug":"SSA","permalink":"https://lwy0518.github.io/categories/SSA/"},{"name":"hexo","slug":"hexo","permalink":"https://lwy0518.github.io/categories/hexo/"},{"name":"Markdown","slug":"Markdown","permalink":"https://lwy0518.github.io/categories/Markdown/"},{"name":"ç¨‹åºåˆ†æ","slug":"ç¨‹åºåˆ†æ","permalink":"https://lwy0518.github.io/categories/%E7%A8%8B%E5%BA%8F%E5%88%86%E6%9E%90/"},{"name":"EOSIO","slug":"EOSIO","permalink":"https://lwy0518.github.io/categories/EOSIO/"},{"name":"åšå®¢","slug":"åšå®¢","permalink":"https://lwy0518.github.io/categories/%E5%8D%9A%E5%AE%A2/"},{"name":"Blog","slug":"Blog","permalink":"https://lwy0518.github.io/categories/Blog/"}],"tags":[{"name":"ååº","slug":"ååº","permalink":"https://lwy0518.github.io/tags/%E5%81%8F%E5%BA%8F/"},{"name":"Lattice","slug":"Lattice","permalink":"https://lwy0518.github.io/tags/Lattice/"},{"name":"SSA","slug":"SSA","permalink":"https://lwy0518.github.io/tags/SSA/"},{"name":"gcc","slug":"gcc","permalink":"https://lwy0518.github.io/tags/gcc/"},{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://lwy0518.github.io/tags/%E7%AE%97%E6%B3%95/"},{"name":"ç¼–è¯‘åŸç†","slug":"ç¼–è¯‘åŸç†","permalink":"https://lwy0518.github.io/tags/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/"},{"name":"hexo","slug":"hexo","permalink":"https://lwy0518.github.io/tags/hexo/"},{"name":"Blog","slug":"Blog","permalink":"https://lwy0518.github.io/tags/Blog/"},{"name":"Typora","slug":"Typora","permalink":"https://lwy0518.github.io/tags/Typora/"},{"name":"Markdown","slug":"Markdown","permalink":"https://lwy0518.github.io/tags/Markdown/"},{"name":"æ•°æ®æµ","slug":"æ•°æ®æµ","permalink":"https://lwy0518.github.io/tags/%E6%95%B0%E6%8D%AE%E6%B5%81/"},{"name":"æ±¡ç‚¹åˆ†æ","slug":"æ±¡ç‚¹åˆ†æ","permalink":"https://lwy0518.github.io/tags/%E6%B1%A1%E7%82%B9%E5%88%86%E6%9E%90/"},{"name":"ä¾èµ–å…³ç³»","slug":"ä¾èµ–å…³ç³»","permalink":"https://lwy0518.github.io/tags/%E4%BE%9D%E8%B5%96%E5%85%B3%E7%B3%BB/"},{"name":"Source/Sink","slug":"Source-Sink","permalink":"https://lwy0518.github.io/tags/Source-Sink/"},{"name":"EOSIO","slug":"EOSIO","permalink":"https://lwy0518.github.io/tags/EOSIO/"},{"name":"ç¼–è¯‘å™¨","slug":"ç¼–è¯‘å™¨","permalink":"https://lwy0518.github.io/tags/%E7%BC%96%E8%AF%91%E5%99%A8/"},{"name":"æ¼æ´æ£€æµ‹","slug":"æ¼æ´æ£€æµ‹","permalink":"https://lwy0518.github.io/tags/%E6%BC%8F%E6%B4%9E%E6%A3%80%E6%B5%8B/"},{"name":"é™æ€åˆ†æ","slug":"é™æ€åˆ†æ","permalink":"https://lwy0518.github.io/tags/%E9%9D%99%E6%80%81%E5%88%86%E6%9E%90/"},{"name":"Datalog","slug":"Datalog","permalink":"https://lwy0518.github.io/tags/Datalog/"},{"name":"CFG","slug":"CFG","permalink":"https://lwy0518.github.io/tags/CFG/"},{"name":"IR","slug":"IR","permalink":"https://lwy0518.github.io/tags/IR/"},{"name":"ä¸­é—´è¡¨ç¤ºï¼ˆIRï¼‰","slug":"ä¸­é—´è¡¨ç¤ºï¼ˆIRï¼‰","permalink":"https://lwy0518.github.io/tags/%E4%B8%AD%E9%97%B4%E8%A1%A8%E7%A4%BA%EF%BC%88IR%EF%BC%89/"},{"name":"AST","slug":"AST","permalink":"https://lwy0518.github.io/tags/AST/"},{"name":"TAC","slug":"TAC","permalink":"https://lwy0518.github.io/tags/TAC/"},{"name":"RTL","slug":"RTL","permalink":"https://lwy0518.github.io/tags/RTL/"},{"name":"åšå®¢","slug":"åšå®¢","permalink":"https://lwy0518.github.io/tags/%E5%8D%9A%E5%AE%A2/"},{"name":"æ™ºèƒ½åˆçº¦","slug":"æ™ºèƒ½åˆçº¦","permalink":"https://lwy0518.github.io/tags/%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6/"},{"name":"ç¨‹åºåˆ†æ","slug":"ç¨‹åºåˆ†æ","permalink":"https://lwy0518.github.io/tags/%E7%A8%8B%E5%BA%8F%E5%88%86%E6%9E%90/"},{"name":"Def-Use","slug":"Def-Use","permalink":"https://lwy0518.github.io/tags/Def-Use/"},{"name":"æ¼æ´","slug":"æ¼æ´","permalink":"https://lwy0518.github.io/tags/%E6%BC%8F%E6%B4%9E/"},{"name":"é˜²æŠ¤","slug":"é˜²æŠ¤","permalink":"https://lwy0518.github.io/tags/%E9%98%B2%E6%8A%A4/"}]}